<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title class="pjax-title">Mongodb å­¦ä¹ ç¬”è®° - xiaobinqt åšå®¢ - æŠ€æœ¯æ”¹å˜ç”Ÿæ´»</title><meta name="Description" content="mongodb , mongodb æ¦‚å¿µ,mongodb æŸ¥è¯¢è¯­å¥,golang æ“ä½œ mongodb,globalsign/mgo ä½¿ç”¨"><meta property="og:title" content="Mongodb å­¦ä¹ ç¬”è®°" />
<meta property="og:description" content="mongodb , mongodb æ¦‚å¿µ,mongodb æŸ¥è¯¢è¯­å¥,golang æ“ä½œ mongodb,globalsign/mgo ä½¿ç”¨" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.xiaobinqt.cn/mongodb-glance/" /><meta property="og:image" content="https://www.xiaobinqt.cn/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-11-02T21:58:16+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.xiaobinqt.cn/logo.png"/>

<meta name="twitter:title" content="Mongodb å­¦ä¹ ç¬”è®°"/>
<meta name="twitter:description" content="mongodb , mongodb æ¦‚å¿µ,mongodb æŸ¥è¯¢è¯­å¥,golang æ“ä½œ mongodb,globalsign/mgo ä½¿ç”¨"/>
<meta name="application-name" content="xiaobinqt">
<meta name="apple-mobile-web-app-title" content="xiaobinqt">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c">
<link rel="stylesheet" href="//at.alicdn.com/t/font_3267767_dz25dtwdgdc.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" href="https://www.xiaobinqt.cn/mongodb-glance/" /><link rel="prev" href="https://www.xiaobinqt.cn/grpc-demo/" /><link rel="next" href="https://www.xiaobinqt.cn/pull-request/" /><link rel="stylesheet" href="/lib/md5/md5.min.js"><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><meta name="google-site-verification" content="hFkClWMTOtPBuE0lQaXNiNb707E7P6O2CwexZoSm3VQ" /><meta name="msvalidate.01" content="A961D393878F86E04112E1198500FDBD" /><meta name="baidu-site-verification" content="code-cMh5ORsrP2" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Mongodb å­¦ä¹ ç¬”è®°",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/www.xiaobinqt.cn\/mongodb-glance\/"
        },"image": ["https:\/\/www.xiaobinqt.cn\/images\/home.png"],"genre": "posts","keywords": "mongodb","wordcount":  3077 ,
        "url": "https:\/\/www.xiaobinqt.cn\/mongodb-glance\/","datePublished": "2021-04-14T00:00:00+00:00","dateModified": "2022-11-02T21:58:16+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/www.xiaobinqt.cn\/images\/avatar.png",
                    "width":  528 ,
                    "height":  560 
                }},"author": {
                "@type": "Person",
                "name": "xiaobinqt"
            },"description": "mongodb , mongodb æ¦‚å¿µ,mongodb æŸ¥è¯¢è¯­å¥,golang æ“ä½œ mongodb,globalsign/mgo ä½¿ç”¨"
    }
    </script></head>

<body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark');}
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('auto' === 'light' || 'auto' === 'dark' || 'auto' === 'black') setTheme('auto'), saveTheme('auto'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="xiaobinqt åšå®¢ - æŠ€æœ¯æ”¹å˜ç”Ÿæ´»"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>è§åä¸€éƒ</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/" > æ‰€æœ‰æ–‡ç«  </a><a class="menu-item" href="/tags/" > æ ‡ç­¾ </a><a class="menu-item" href="/categories/" > åˆ†ç±» </a><a class="menu-item" href="/series/" > ç³»åˆ— </a><a class="menu-item" href="/memo/" > æ”¶è—å¤¹ </a><a class="menu-item" href="/leetcode/"  rel="noopener noreferrer" target="_blank"> LeetCode </a><a class="menu-item" href="/links/" > å‹é“¾ </a><a class="menu-item" href="/about/" > å…³äº </a><a class="menu-item" href="https://github.com/xiaobinqt" title="GitHub" rel="noopener noreferrer" target="_blank" ><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-desktop">
                        <a href="#" onclick="return false;" class="search-button search-toggle" id="search-toggle-desktop" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" onclick="return false;" class="search-button search-clear" id="search-clear-desktop" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="#" onclick="return false;" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="xiaobinqt åšå®¢ - æŠ€æœ¯æ”¹å˜ç”Ÿæ´»"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>è§åä¸€éƒ</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-mobile">
                        <a href="#" onclick="return false;" class="search-button search-toggle" id="search-toggle-mobile" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" onclick="return false;" class="search-button search-clear" id="search-clear-mobile" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" onclick="return false;" class="search-cancel" id="search-cancel-mobile">
                        å–æ¶ˆ
                    </a>
                </div><a class="menu-item" href="/posts/" title="" >æ‰€æœ‰æ–‡ç« </a><a class="menu-item" href="/tags/" title="" >æ ‡ç­¾</a><a class="menu-item" href="/categories/" title="" >åˆ†ç±»</a><a class="menu-item" href="/series/" title="" >ç³»åˆ—</a><a class="menu-item" href="/memo/" title="" >æ”¶è—å¤¹</a><a class="menu-item" href="/leetcode/" title=""  rel="noopener noreferrer" target="_blank">LeetCode</a><a class="menu-item" href="/links/" title="" >å‹é“¾</a><a class="menu-item" href="/about/" title="" >å…³äº</a><a class="menu-item" href="https://github.com/xiaobinqt" title="GitHub" rel="noopener noreferrer" target="_blank" ><i class='fab fa-github fa-fw'></i></a><a href="#" onclick="return false;" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><div class="toc" id="toc-auto">
        <h2 class="toc-title">ç›®å½•</h2>
        <div class="toc-content" id="toc-content-auto"><nav id="TableOfContents">
  <ul>
    <li><a href="#win10-å®‰è£…">win10 å®‰è£…</a>
      <ul>
        <li><a href="#å°å‘">å°å‘</a></li>
        <li><a href="#è¿è¡ŒæœåŠ¡ç«¯">è¿è¡ŒæœåŠ¡ç«¯</a></li>
        <li><a href="#è¿è¡Œå®¢æˆ·ç«¯">è¿è¡Œå®¢æˆ·ç«¯</a></li>
      </ul>
    </li>
    <li><a href="#navicat-premium">Navicat Premium</a></li>
    <li><a href="#æ¦‚å¿µè§£æ">æ¦‚å¿µè§£æ</a></li>
    <li><a href="#å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</a></li>
    <li><a href="#é›†åˆæŸ¥è¯¢">é›†åˆæŸ¥è¯¢</a></li>
    <li><a href="#æ›´æ–°æ–‡æ¡£">æ›´æ–°æ–‡æ¡£</a>
      <ul>
        <li><a href="#push">$push</a></li>
        <li><a href="#addtoset">$addToSet</a></li>
      </ul>
    </li>
    <li><a href="#globalsignmgo-ä½¿ç”¨">globalsign/mgo ä½¿ç”¨</a></li>
    <li><a href="#faq">FAQ</a>
      <ul>
        <li><a href="#ç©ºåº“ä¸æ˜¾ç¤º">ç©ºåº“ä¸æ˜¾ç¤º</a></li>
        <li><a href="#å®šé•¿è¡¨">å®šé•¿è¡¨</a></li>
      </ul>
    </li>
    <li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
  </ul>
</nav></div>
    </div><script>document.getElementsByTagName("main")[0].setAttribute("pageStyle", "normal")</script><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Mongodb å­¦ä¹ ç¬”è®°</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">xiaobinqt</a>
                </span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E5%BC%80%E5%8F%91%E8%80%85%E6%89%8B%E5%86%8C/"><i class="far fa-folder fa-fw"></i>å¼€å‘è€…æ‰‹å†Œ</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-04-14">2021-04-14</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime="2022-11-02">2022-11-02</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 3077 å­—&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 7 åˆ†é’Ÿ&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220416/73b2a45bdf9440789438ea68af47fb95.png"
        data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220416/73b2a45bdf9440789438ea68af47fb95.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220416/73b2a45bdf9440789438ea68af47fb95.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220416/73b2a45bdf9440789438ea68af47fb95.png 2x"
        data-sizes="auto"
        alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220416/73b2a45bdf9440789438ea68af47fb95.png"
        title="mongodb , mongodb æ¦‚å¿µ,mongodb æŸ¥è¯¢è¯­å¥,golang æ“ä½œ mongodb,globalsign/mgo ä½¿ç”¨" height="auto" width="auto"></div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>ç›®å½•</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#win10-å®‰è£…">win10 å®‰è£…</a>
      <ul>
        <li><a href="#å°å‘">å°å‘</a></li>
        <li><a href="#è¿è¡ŒæœåŠ¡ç«¯">è¿è¡ŒæœåŠ¡ç«¯</a></li>
        <li><a href="#è¿è¡Œå®¢æˆ·ç«¯">è¿è¡Œå®¢æˆ·ç«¯</a></li>
      </ul>
    </li>
    <li><a href="#navicat-premium">Navicat Premium</a></li>
    <li><a href="#æ¦‚å¿µè§£æ">æ¦‚å¿µè§£æ</a></li>
    <li><a href="#å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</a></li>
    <li><a href="#é›†åˆæŸ¥è¯¢">é›†åˆæŸ¥è¯¢</a></li>
    <li><a href="#æ›´æ–°æ–‡æ¡£">æ›´æ–°æ–‡æ¡£</a>
      <ul>
        <li><a href="#push">$push</a></li>
        <li><a href="#addtoset">$addToSet</a></li>
      </ul>
    </li>
    <li><a href="#globalsignmgo-ä½¿ç”¨">globalsign/mgo ä½¿ç”¨</a></li>
    <li><a href="#faq">FAQ</a>
      <ul>
        <li><a href="#ç©ºåº“ä¸æ˜¾ç¤º">ç©ºåº“ä¸æ˜¾ç¤º</a></li>
        <li><a href="#å®šé•¿è¡¨">å®šé•¿è¡¨</a></li>
      </ul>
    </li>
    <li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="win10-å®‰è£…" class="headerLink">
    <a href="#win10-%e5%ae%89%e8%a3%85" class="header-mark"></a>win10 å®‰è£…</h2><p>åœ¨ windows ä¸‹å®‰è£…å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« <a href="https://www.runoob.com/mongodb/mongodb-window-install.html" target="_blank" rel="noopener noreferrer">mongodb-window-install</a>ã€‚</p>
<h3 id="å°å‘" class="headerLink">
    <a href="#%e5%b0%8f%e5%9d%91" class="header-mark"></a>å°å‘</h3><p>æˆ‘ä½¿ç”¨çš„æ˜¯ windows 10 ä¼ä¸šç‰ˆï¼Œåœ¨å®‰è£…æ—¶å‡ºç°äº†ä¸ªé—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://img-blog.csdnimg.cn/202104142157593.png" title="é—®é¢˜æˆªå›¾" data-thumbnail="https://img-blog.csdnimg.cn/202104142157593.png" data-sub-html="<h2>é—®é¢˜æˆªå›¾</h2><p>é—®é¢˜æˆªå›¾</p>">
        <img
            class="lazyload"
            data-src="https://img-blog.csdnimg.cn/202104142157593.png"
            data-srcset="https://img-blog.csdnimg.cn/202104142157593.png, https://img-blog.csdnimg.cn/202104142157593.png 1.5x, https://img-blog.csdnimg.cn/202104142157593.png 2x"
            data-sizes="auto"
            alt="https://img-blog.csdnimg.cn/202104142157593.png">
    </a><figcaption class="image-caption">é—®é¢˜æˆªå›¾</figcaption>
    </figure></p>
<p>æˆ‘æ˜¯åœ¨ç½‘ä¸Šæ‰¾äº†å¤§åŠå¤©æ²¡æœ‰æ‰¾åˆ°è§£å†³çš„åŠæ³•ï¼Œéƒ½æ˜¯å†™æ–‡ç« ä½œè€…å¯ç”¨ï¼Œä½†æ˜¯æˆ‘ä¸€ç›´ä¸ç”Ÿæ•ˆï¼Œæˆ‘è§‰å¾—çš„å¿…é¡»è¦ç”¨ç®¡ç†å‘˜æƒé™å®‰è£…å¯¼è‡´çš„ã€‚åæ¥æˆ‘ç›´æ¥å¿½ç•¥äº†ï¼Œç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œã€‚</p>
<h3 id="è¿è¡ŒæœåŠ¡ç«¯" class="headerLink">
    <a href="#%e8%bf%90%e8%a1%8c%e6%9c%8d%e5%8a%a1%e7%ab%af" class="header-mark"></a>è¿è¡ŒæœåŠ¡ç«¯</h3><p>ç”¨ç®¡ç†å‘˜ power shell è¿è¡Œ å…·ä½“å‘½ä»¤å¯ä»¥å‚çœ‹<a href="https://www.runoob.com/mongodb/mongodb-window-install.html" target="_blank" rel="noopener noreferrer">æ–‡æ¡£</a></p>
<p><figure><a class="lightgallery" href="https://img-blog.csdnimg.cn/20210414220324785.png" title="è¿è¡Œ mongodb æœåŠ¡ 01" data-thumbnail="https://img-blog.csdnimg.cn/20210414220324785.png" data-sub-html="<h2>è¿è¡Œ mongodb æœåŠ¡ 01</h2><p>è¿è¡Œ mongodb æœåŠ¡ 01</p>">
        <img
            class="lazyload"
            data-src="https://img-blog.csdnimg.cn/20210414220324785.png"
            data-srcset="https://img-blog.csdnimg.cn/20210414220324785.png, https://img-blog.csdnimg.cn/20210414220324785.png 1.5x, https://img-blog.csdnimg.cn/20210414220324785.png 2x"
            data-sizes="auto"
            alt="https://img-blog.csdnimg.cn/20210414220324785.png">
    </a><figcaption class="image-caption">è¿è¡Œ mongodb æœåŠ¡ 01</figcaption>
    </figure></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"> .<span class="se">\m</span>ongod.exe  --dbpath D:<span class="se">\m</span>ySoft<span class="se">\m</span>ongoDB<span class="se">\d</span>ata<span class="se">\d</span>b
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://img-blog.csdnimg.cn/20210414220357328.png" title="è¿è¡Œ mongodb æœåŠ¡ 02" data-thumbnail="https://img-blog.csdnimg.cn/20210414220357328.png" data-sub-html="<h2>è¿è¡Œ mongodb æœåŠ¡ 02</h2><p>è¿è¡Œ mongodb æœåŠ¡ 02</p>">
        <img
            class="lazyload"
            data-src="https://img-blog.csdnimg.cn/20210414220357328.png"
            data-srcset="https://img-blog.csdnimg.cn/20210414220357328.png, https://img-blog.csdnimg.cn/20210414220357328.png 1.5x, https://img-blog.csdnimg.cn/20210414220357328.png 2x"
            data-sizes="auto"
            alt="https://img-blog.csdnimg.cn/20210414220357328.png">
    </a><figcaption class="image-caption">è¿è¡Œ mongodb æœåŠ¡ 02</figcaption>
    </figure></p>
<h3 id="è¿è¡Œå®¢æˆ·ç«¯" class="headerLink">
    <a href="#%e8%bf%90%e8%a1%8c%e5%ae%a2%e6%88%b7%e7%ab%af" class="header-mark"></a>è¿è¡Œå®¢æˆ·ç«¯</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"> .<span class="se">\m</span>ongo.exe
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://img-blog.csdnimg.cn/20210414220831739.png" title="å®¢æˆ·ç«¯è¿æ¥" data-thumbnail="https://img-blog.csdnimg.cn/20210414220831739.png" data-sub-html="<h2>å®¢æˆ·ç«¯è¿æ¥</h2><p>å®¢æˆ·ç«¯è¿æ¥</p>">
        <img
            class="lazyload"
            data-src="https://img-blog.csdnimg.cn/20210414220831739.png"
            data-srcset="https://img-blog.csdnimg.cn/20210414220831739.png, https://img-blog.csdnimg.cn/20210414220831739.png 1.5x, https://img-blog.csdnimg.cn/20210414220831739.png 2x"
            data-sizes="auto"
            alt="https://img-blog.csdnimg.cn/20210414220831739.png">
    </a><figcaption class="image-caption">å®¢æˆ·ç«¯è¿æ¥</figcaption>
    </figure></p>
<h2 id="navicat-premium" class="headerLink">
    <a href="#navicat-premium" class="header-mark"></a>Navicat Premium</h2><p>navicat premium æ˜¯ä¸€ä¸ªæ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ”¯æŒ mysqlï¼Œmongodbï¼Œoracle ç­‰å‡ ä¹æ‰€æœ‰çš„æ•°æ®åº“ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c2ef76e02ba6449dacdb7fa856d4da3d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="navicat premium" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c2ef76e02ba6449dacdb7fa856d4da3d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>navicat premium</h2><p>navicat premium</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c2ef76e02ba6449dacdb7fa856d4da3d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c2ef76e02ba6449dacdb7fa856d4da3d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c2ef76e02ba6449dacdb7fa856d4da3d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c2ef76e02ba6449dacdb7fa856d4da3d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c2ef76e02ba6449dacdb7fa856d4da3d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15">
    </a><figcaption class="image-caption">navicat premium</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/d47621d94a1e4f68abe30d8fb35e02a0.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="navicat premuim ä½¿ç”¨" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/d47621d94a1e4f68abe30d8fb35e02a0.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>navicat premuim ä½¿ç”¨</h2><p>navicat premuim ä½¿ç”¨</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/d47621d94a1e4f68abe30d8fb35e02a0.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/d47621d94a1e4f68abe30d8fb35e02a0.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/d47621d94a1e4f68abe30d8fb35e02a0.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/d47621d94a1e4f68abe30d8fb35e02a0.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/d47621d94a1e4f68abe30d8fb35e02a0.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15">
    </a><figcaption class="image-caption">navicat premuim ä½¿ç”¨</figcaption>
    </figure></p>
<p>windows å®‰è½¬æ•™ç¨‹å¯ä»¥å‚è€ƒ<a href="http://www.downcc.com/soft/430673.html" target="_blank" rel="noopener noreferrer">navicat premium15ç ´è§£æ•™ç¨‹</a></p>
<h2 id="æ¦‚å¿µè§£æ" class="headerLink">
    <a href="#%e6%a6%82%e5%bf%b5%e8%a7%a3%e6%9e%90" class="header-mark"></a>æ¦‚å¿µè§£æ</h2><table>
<thead>
<tr>
<th>SQLæœ¯è¯­/æ¦‚å¿µ</th>
<th>MongoDBæœ¯è¯­/æ¦‚å¿µ</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>database</td>
<td>database</td>
<td>æ•°æ®åº“</td>
</tr>
<tr>
<td>table</td>
<td>collection</td>
<td>æ•°æ®åº“è¡¨/é›†åˆ</td>
</tr>
<tr>
<td>row</td>
<td>document</td>
<td>æ•°æ®è®°å½•è¡Œ/æ–‡æ¡£</td>
</tr>
<tr>
<td>column</td>
<td>field</td>
<td>æ•°æ®å­—æ®µ/åŸŸ</td>
</tr>
<tr>
<td>index</td>
<td>index</td>
<td>ç´¢å¼•</td>
</tr>
<tr>
<td>table joins</td>
<td>-</td>
<td>è¡¨è¿æ¥ï¼ŒMongoDB ä¸æ”¯æŒ</td>
</tr>
<tr>
<td>primary key</td>
<td>primary key</td>
<td>ä¸»é”®ï¼ŒMongoDB è‡ªåŠ¨å°† <code>_id</code> å­—æ®µè®¾ç½®ä¸ºä¸»é”®</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>RDBMSï¼ˆå…³ç³»å‹æ•°æ®åº“ï¼‰</th>
<th>MongoDB</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ•°æ®åº“</td>
<td>æ•°æ®åº“</td>
</tr>
<tr>
<td>è¡¨æ ¼</td>
<td>é›†åˆ</td>
</tr>
<tr>
<td>è¡Œ</td>
<td>æ–‡æ¡£</td>
</tr>
<tr>
<td>åˆ—</td>
<td>å­—æ®µ</td>
</tr>
<tr>
<td>è¡¨è”åˆ</td>
<td>åµŒå…¥æ–‡æ¡£</td>
</tr>
<tr>
<td>ä¸»é”®</td>
<td>ä¸»é”® (MongoDB æä¾›äº† key ä¸º <code>_id</code> )</td>
</tr>
</tbody>
</table>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c1e37e969c744f2bb82f3f68d4b73804.png" title="å¯¹æ¯”å›¾" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c1e37e969c744f2bb82f3f68d4b73804.png" data-sub-html="<h2>å¯¹æ¯”å›¾</h2><p>å¯¹æ¯”å›¾</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c1e37e969c744f2bb82f3f68d4b73804.png"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c1e37e969c744f2bb82f3f68d4b73804.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c1e37e969c744f2bb82f3f68d4b73804.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c1e37e969c744f2bb82f3f68d4b73804.png 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c1e37e969c744f2bb82f3f68d4b73804.png">
    </a><figcaption class="image-caption">å¯¹æ¯”å›¾</figcaption>
    </figure></p>
<h2 id="å¸¸ç”¨å‘½ä»¤" class="headerLink">
    <a href="#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" class="header-mark"></a>å¸¸ç”¨å‘½ä»¤</h2><table>
<thead>
<tr>
<th>CMD</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>db.help()</code></td>
<td>æŸ¥çœ‹å‘½ä»¤å¸®åŠ©</td>
</tr>
<tr>
<td><code>show dbs</code></td>
<td>æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“</td>
</tr>
<tr>
<td><code>use db_name</code></td>
<td>å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ•°æ®åº“ï¼Œå¦åˆ™åˆ‡æ¢åˆ°æŒ‡å®šæ•°æ®åº“</td>
</tr>
<tr>
<td><code>show tables</code></td>
<td>æŸ¥çœ‹è¯¥åº“ä¸‹çš„æ‰€æœ‰è¡¨</td>
</tr>
<tr>
<td><code>db.getName()</code></td>
<td>æŸ¥çœ‹å½“å‰æ‰€åœ¨çš„åº“</td>
</tr>
<tr>
<td><code>db</code></td>
<td>å‘½ä»¤å¯ä»¥æ˜¾ç¤ºå½“å‰æ•°æ®åº“å¯¹è±¡æˆ–é›†åˆ</td>
</tr>
<tr>
<td><code>db.version()</code></td>
<td>å½“å‰dbç‰ˆæœ¬</td>
</tr>
<tr>
<td><code>db.stats()</code></td>
<td>å½“å‰dbçŠ¶æ€</td>
</tr>
<tr>
<td><code>db.getMongo()</code></td>
<td>æŸ¥çœ‹å½“å‰dbçš„é“¾æ¥æœºå™¨åœ°å€</td>
</tr>
<tr>
<td><code>db.dropDatabase()</code></td>
<td>åˆ é™¤å½“å‰ä½¿ç”¨çš„æ•°æ®åº“</td>
</tr>
<tr>
<td><code>db.copyDatabase(&quot;mydb&quot;, &quot;temp&quot;, &quot;127.0.0.1&quot;)</code></td>
<td>ä»æŒ‡å®šçš„æœºå™¨ä¸Šå¤åˆ¶æŒ‡å®šæ•°æ®åº“æ•°æ®åˆ°æŸä¸ªæ•°æ®åº“ï¼Œæœ¬ç¤ºä¾‹ä¸ºï¼šå°†æœ¬æœºçš„ mydb çš„æ•°æ®å¤åˆ¶åˆ° temp æ•°æ®åº“ä¸­</td>
</tr>
<tr>
<td><code>db.cloneDatabase(&quot;127.0.0.1&quot;)</code></td>
<td>å°†æŒ‡å®šæœºå™¨ä¸Šçš„æ•°æ®åº“çš„æ•°æ®å…‹éš†åˆ°å½“å‰æ•°æ®åº“</td>
</tr>
<tr>
<td><code>db.repairDatabase()</code></td>
<td>ä¿®å¤å½“å‰æ•°æ®åº“</td>
</tr>
<tr>
<td><code>show collections</code>/<code>show tables</code></td>
<td>æŸ¥çœ‹å·²æœ‰é›†åˆ</td>
</tr>
<tr>
<td><code>db.yourColl.help()</code></td>
<td>æŸ¥çœ‹å¸®åŠ©</td>
</tr>
<tr>
<td><code>db.yourColl.count()</code></td>
<td>æŸ¥è¯¢å½“å‰é›†åˆçš„æ•°æ®æ¡æ•°</td>
</tr>
<tr>
<td><code>db.yourColl.dataSize()</code></td>
<td>æŸ¥çœ‹æ•°æ®ç©ºé—´å¤§å°</td>
</tr>
<tr>
<td><code>db.yourColl.getDB()</code></td>
<td>å¾—åˆ°å½“å‰èšé›†é›†åˆæ‰€åœ¨çš„ db</td>
</tr>
<tr>
<td><code>db.yourColl.stats()</code></td>
<td>å¾—åˆ°å½“å‰é›†åˆçš„çŠ¶æ€</td>
</tr>
<tr>
<td><code>db.yourColl.totalSize()</code></td>
<td>å¾—åˆ°é›†åˆæ€»å¤§å°</td>
</tr>
<tr>
<td><code>db.yourColl.storageSize()</code></td>
<td>èšé›†é›†åˆå‚¨å­˜ç©ºé—´å¤§å°</td>
</tr>
<tr>
<td><code>db.yourColl.getShardVersion()</code></td>
<td>Shardç‰ˆæœ¬ä¿¡æ¯</td>
</tr>
<tr>
<td><code>db.userInfo.renameCollection(&quot;users&quot;)</code></td>
<td>é›†åˆé‡å‘½åã€‚ç¤ºä¾‹ä¸ºï¼šå°† userInfo é‡å‘½åä¸º users</td>
</tr>
<tr>
<td><code>db.yourColl.drop()</code></td>
<td>åˆ é™¤å½“å‰é›†åˆ</td>
</tr>
</tbody>
</table>
<blockquote>
<p><code>yourColl</code> è¡¨ç¤ºé›†åˆå</p>
</blockquote>
<h2 id="é›†åˆæŸ¥è¯¢" class="headerLink">
    <a href="#%e9%9b%86%e5%90%88%e6%9f%a5%e8%af%a2" class="header-mark"></a>é›†åˆæŸ¥è¯¢</h2><ul>
<li>ğŸ“Œ æŸ¥è¯¢æ‰€æœ‰è®°å½•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.mgotest.find<span class="o">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># æ ¼å¼åŒ–è¾“å‡º</span>
</span></span><span class="line"><span class="cl">db.mgotest.find<span class="o">()</span>.pretty<span class="o">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select * from mgotest;</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢å»æ‰åçš„å½“å‰é›†åˆä¸­çš„æŸåˆ—çš„é‡å¤æ•°æ®</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.mgotest.distinct<span class="o">(</span><span class="s2">&#34;interests&#34;</span><span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select distinct interests from mgotest;</code></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/7c011741b7fb4de8aafbdec1602462cb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="distinct" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/7c011741b7fb4de8aafbdec1602462cb.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>distinct</h2><p>distinct</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/7c011741b7fb4de8aafbdec1602462cb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/7c011741b7fb4de8aafbdec1602462cb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/7c011741b7fb4de8aafbdec1602462cb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/7c011741b7fb4de8aafbdec1602462cb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/7c011741b7fb4de8aafbdec1602462cb.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15">
    </a><figcaption class="image-caption">distinct</figcaption>
    </figure></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢ age = 22 çš„è®°å½•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span><span class="s2">&#34;age&#34;</span>: 22<span class="o">})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select * from userInfo where age = 22;</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢ age &gt; 22 çš„è®°å½•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>age: <span class="o">{</span><span class="nv">$gt</span>: 22<span class="o">}})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select * from userInfo where age &gt;22;</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢ age &lt; 22 çš„è®°å½•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>age: <span class="o">{</span><span class="nv">$lt</span>: 22<span class="o">}})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select * from userInfo where age &lt; 22;</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢ age &gt;= 25 çš„è®°å½•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>age: <span class="o">{</span><span class="nv">$gte</span>: 25<span class="o">}})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select * from userInfo where age &gt;= 25;</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢ age &lt;= 25 çš„è®°å½•</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>age: <span class="o">{</span><span class="nv">$lte</span>: 25<span class="o">}})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ğŸ“Œ æŸ¥è¯¢ age &gt;= 23 å¹¶ä¸” age &lt;= 26</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>age: <span class="o">{</span><span class="nv">$gte</span>: 23, <span class="nv">$lte</span>: 26<span class="o">}})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ğŸ“Œ æŸ¥è¯¢ name ä¸­åŒ…å« mongo çš„æ•°æ®</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>name: /mongo/<span class="o">})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select * from userInfo where name like â€˜%mongo%';</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢ name ä¸­ä»¥ mongo å¼€å¤´çš„</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>name: /^mongo/<span class="o">})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select * from userInfo where name like â€˜mongo%';</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢æŒ‡å®šåˆ— nameã€age æ•°æ®</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({}</span>, <span class="o">{</span>name: 1, age: 1<span class="o">})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select name, age from userInfo;</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢æŒ‡å®šåˆ— nameã€age æ•°æ®, age &gt; 25</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>age: <span class="o">{</span><span class="nv">$gt</span>: 25<span class="o">}}</span>, <span class="o">{</span>name: 1, age: 1<span class="o">})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select name, age from userInfo where age &gt;25;</code></p>
<ul>
<li>ğŸ“Œ æŒ‰ç…§å¹´é¾„æ’åº</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># å‡åº</span>
</span></span><span class="line"><span class="cl">db.userInfo.find<span class="o">()</span>.sort<span class="o">({</span>age: 1<span class="o">})</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># é™åº</span>
</span></span><span class="line"><span class="cl">db.userInfo.find<span class="o">()</span>.sort<span class="o">({</span>age: -1<span class="o">})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ğŸ“Œ æŸ¥è¯¢ name = zhangsan, age = 22 çš„æ•°æ®</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>name: <span class="s1">&#39;zhangsan&#39;</span>, age: 22<span class="o">})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select * from userInfo where name = 'zhangsan' and age = '22';</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢å‰ 5 æ¡æ•°æ®</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">()</span>.limit<span class="o">(</span>5<span class="o">)</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select  * from userInfo limit 5;</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢ 10 æ¡ä»¥åçš„æ•°æ®</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">()</span>.skip<span class="o">(</span>10<span class="o">)</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">userInfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                 </span><span class="k">from</span><span class="w"> </span><span class="n">userInfo</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ğŸ“Œ æŸ¥è¯¢åœ¨ 5-10 ä¹‹é—´çš„æ•°æ®</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">()</span>.limit<span class="o">(</span>10<span class="o">)</span>.skip<span class="o">(</span>5<span class="o">)</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ç”¨äºåˆ†é¡µï¼Œlimit æ˜¯ pageSizeï¼Œskip æ˜¯ (ç¬¬å‡ é¡µ * pageSize)</p>
<ul>
<li>ğŸ“Œ or æŸ¥è¯¢</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span><span class="nv">$or</span>: <span class="o">[{</span>age: 22<span class="o">}</span>, <span class="o">{</span>age: 25<span class="o">}]})</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select * from userInfo where age = 22 or age = 25;</code></p>
<ul>
<li>ğŸ“Œ æŸ¥è¯¢æŸä¸ªç»“æœé›†çš„è®°å½•æ¡æ•°</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>age: <span class="o">{</span><span class="nv">$gte</span>: 25<span class="o">}})</span>.count<span class="o">()</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select count(*) from userInfo where age &gt;= 20;</code></p>
<ul>
<li>ğŸ“Œ æŒ‰ç…§æŸåˆ—è¿›è¡Œæ’åº</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.userInfo.find<span class="o">({</span>sex: <span class="o">{</span><span class="nv">$exists</span>: true<span class="o">}})</span>.count<span class="o">()</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹æ¯” SQLï¼š<code>select count(sex) from userInfo;</code></p>
<h2 id="æ›´æ–°æ–‡æ¡£" class="headerLink">
    <a href="#%e6%9b%b4%e6%96%b0%e6%96%87%e6%a1%a3" class="header-mark"></a>æ›´æ–°æ–‡æ¡£</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.collection.update<span class="o">(</span>
</span></span><span class="line"><span class="cl">   &lt;query&gt;,
</span></span><span class="line"><span class="cl">   &lt;update&gt;,
</span></span><span class="line"><span class="cl">   <span class="o">{</span>
</span></span><span class="line"><span class="cl">     upsert: &lt;boolean&gt;,
</span></span><span class="line"><span class="cl">     multi: &lt;boolean&gt;,
</span></span><span class="line"><span class="cl">     writeConcern: &lt;document&gt;
</span></span><span class="line"><span class="cl">   <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="c1"># ç¤ºä¾‹</span>
</span></span><span class="line"><span class="cl">db.col.update<span class="o">({</span><span class="s1">&#39;title&#39;</span>:<span class="s1">&#39;MongoDB æ•™ç¨‹&#39;</span><span class="o">}</span>,<span class="o">{</span><span class="nv">$set</span>:<span class="o">{</span><span class="s1">&#39;title&#39;</span>:<span class="s1">&#39;MongoDB&#39;</span><span class="o">}})</span>  
</span></span></code></pre></td></tr></table>
</div>
</div><p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li>query : update çš„æŸ¥è¯¢æ¡ä»¶ï¼Œç±»ä¼¼ sql update æŸ¥è¯¢å†… where åé¢çš„ã€‚</li>
<li>update : update çš„å¯¹è±¡å’Œä¸€äº›æ›´æ–°çš„æ“ä½œç¬¦ï¼ˆå¦‚$,$inc&hellip;ï¼‰ç­‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸º sql update æŸ¥è¯¢å†… set åé¢çš„</li>
<li>upsert : å¯é€‰ï¼Œè¿™ä¸ªå‚æ•°çš„æ„æ€æ˜¯ï¼Œå¦‚æœä¸å­˜åœ¨ update çš„è®°å½•ï¼Œæ˜¯å¦æ’å…¥ objNew, true ä¸ºæ’å…¥ï¼Œé»˜è®¤æ˜¯ false ï¼Œä¸æ’å…¥ã€‚</li>
<li>multi : å¯é€‰ï¼Œmongodb é»˜è®¤æ˜¯ false,åªæ›´æ–°æ‰¾åˆ°çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œå¦‚æœè¿™ä¸ªå‚æ•°ä¸º true, å°±æŠŠæŒ‰æ¡ä»¶æŸ¥å‡ºæ¥å¤šæ¡è®°å½•å…¨éƒ¨æ›´æ–°ã€‚</li>
<li>writeConcern :å¯é€‰ï¼ŒæŠ›å‡ºå¼‚å¸¸çš„çº§åˆ«ã€‚</li>
</ul>
<h3 id="push" class="headerLink">
    <a href="#push" class="header-mark"></a>$push</h3><p><code>$push</code> æ“ä½œç¬¦æ·»åŠ æŒ‡å®šçš„å€¼åˆ°æ•°ç»„ä¸­ï¼Œ<strong>ä¸å»é‡</strong>ã€‚</p>
<h3 id="addtoset" class="headerLink">
    <a href="#addtoset" class="header-mark"></a>$addToSet</h3><p><code>$addToSet</code> è¿™ä¸ªæ–¹æ³•å‘æ•°ç»„ä¸­å¢åŠ å€¼ï¼Œ<strong>è‡ªåŠ¨å»é‡</strong>ã€‚</p>
<h2 id="globalsignmgo-ä½¿ç”¨" class="headerLink">
    <a href="#globalsignmgo-%e4%bd%bf%e7%94%a8" class="header-mark"></a>globalsign/mgo ä½¿ç”¨</h2><p><a href="https://github.com/globalsign/mgo" target="_blank" rel="noopener noreferrer">globalsign/mgo</a> æ˜¯ Go çš„ MongoDB é©±åŠ¨ï¼Œæˆ‘ç°åœ¨ç»´æŠ¤çš„é¡¹ç›®ä¹Ÿåœ¨ä½¿ç”¨è¿™ä¸ªï¼Œåœ¨è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/globalsign/mgo&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/globalsign/mgo/bson&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Id</span>        <span class="nx">bson</span><span class="p">.</span><span class="nx">ObjectId</span> <span class="s">`bson:&#34;_id&#34; json:&#34;id&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Username</span>  <span class="kt">string</span>        <span class="s">`bson:&#34;name&#34; json:&#34;username&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Pass</span>      <span class="kt">string</span>        <span class="s">`bson:&#34;pass&#34; json:&#34;pass&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Regtime</span>   <span class="kt">int64</span>         <span class="s">`bson:&#34;regtime&#34; json:&#34;regtime&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Interests</span> <span class="p">[]</span><span class="kt">string</span>      <span class="s">`bson:&#34;interests&#34; json:&#34;interests&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">const</span> <span class="nx">URL</span> <span class="kt">string</span> <span class="p">=</span> <span class="s">&#34;127.0.0.1:27017&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span>       <span class="o">*</span><span class="nx">mgo</span><span class="p">.</span><span class="nx">Collection</span>
</span></span><span class="line"><span class="cl">	<span class="nx">session</span> <span class="o">*</span><span class="nx">mgo</span><span class="p">.</span><span class="nx">Session</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">user</span> <span class="nx">User</span><span class="p">)</span> <span class="nf">ToString</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%#v&#34;</span><span class="p">,</span> <span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">session</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">mgo</span><span class="p">.</span><span class="nf">Dial</span><span class="p">(</span><span class="nx">URL</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// åˆ‡æ¢åˆ°æ•°æ®åº“
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">db</span> <span class="o">:=</span> <span class="nx">session</span><span class="p">.</span><span class="nf">DB</span><span class="p">(</span><span class="s">&#34;blog&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// åˆ‡æ¢åˆ°collection
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span> <span class="p">=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">C</span><span class="p">(</span><span class="s">&#34;mgotest&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// æ–°å¢æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">add</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//    defer session.Close()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">stu1</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">User</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">stu1</span><span class="p">.</span><span class="nx">Id</span> <span class="p">=</span> <span class="nx">bson</span><span class="p">.</span><span class="nf">NewObjectId</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">stu1</span><span class="p">.</span><span class="nx">Username</span> <span class="p">=</span> <span class="s">&#34;stu_name&#34;</span> <span class="o">+</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">String</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">stu1</span><span class="p">.</span><span class="nx">Pass</span> <span class="p">=</span> <span class="s">&#34;stu1_pass&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">stu1</span><span class="p">.</span><span class="nx">Regtime</span> <span class="p">=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">Unix</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">stu1</span><span class="p">.</span><span class="nx">Interests</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;è±¡æ£‹&#34;</span><span class="p">,</span> <span class="s">&#34;æ¸¸æ³³&#34;</span><span class="p">,</span> <span class="s">&#34;è·‘æ­¥&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">Insert</span><span class="p">(</span><span class="nx">stu1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;insert success&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;insert error:%s \n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// æŸ¥è¯¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">find</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//    defer session.Close()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">users</span> <span class="p">[]</span><span class="nx">User</span>
</span></span><span class="line"><span class="cl">		<span class="nx">err</span>   <span class="kt">error</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//    c.Find(nil).All(&amp;users)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">err</span> <span class="p">=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="nx">bson</span><span class="p">.</span><span class="nx">M</span><span class="p">{</span><span class="s">&#34;name&#34;</span><span class="p">:</span> <span class="s">&#34;stu_name&#34;</span><span class="p">}).</span><span class="nf">All</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">users</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;find err:%s \n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">value</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">users</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;index:%d,val:%s \n&#34;</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">value</span><span class="p">.</span><span class="nf">ToString</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// æ ¹æ®ObjectIdè¿›è¡ŒæŸ¥è¯¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// idStr := &#34;577fb2d1cde67307e819133d&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// objectId := bson.ObjectIdHex(idStr)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// user := new(User)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// err = c.Find(bson.M{&#34;_id&#34;: objectId}).One(user)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// if err != nil {
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// 	fmt.Printf(&#34;db find err:%s \n&#34;, err.Error())
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// 	return
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// }
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// fmt.Println(&#34;æŸ¥æ‰¾æˆåŠŸ..&#34;, user)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// æ ¹æ®idè¿›è¡Œä¿®æ”¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">update</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">interests</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;è±¡æ£‹&#34;</span><span class="p">,</span> <span class="s">&#34;æ¸¸æ³³&#34;</span><span class="p">,</span> <span class="s">&#34;è·‘æ­¥&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">Update</span><span class="p">(</span><span class="nx">bson</span><span class="p">.</span><span class="nx">M</span><span class="p">{</span><span class="s">&#34;_id&#34;</span><span class="p">:</span> <span class="nx">bson</span><span class="p">.</span><span class="nf">ObjectIdHex</span><span class="p">(</span><span class="s">&#34;6076c3954e947b3944d4a38b&#34;</span><span class="p">)},</span> <span class="nx">bson</span><span class="p">.</span><span class="nx">M</span><span class="p">{</span><span class="s">&#34;$set&#34;</span><span class="p">:</span> <span class="nx">bson</span><span class="p">.</span><span class="nx">M</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;name&#34;</span><span class="p">:</span>      <span class="s">&#34;ä¿®æ”¹åçš„name&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;pass&#34;</span><span class="p">:</span>      <span class="s">&#34;ä¿®æ”¹åçš„pass&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;regtime&#34;</span><span class="p">:</span>   <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">Unix</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;interests&#34;</span><span class="p">:</span> <span class="nx">interests</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}})</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;ä¿®æ”¹å¤±è´¥&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;ä¿®æ”¹æˆåŠŸ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// åˆ é™¤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">del</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="nx">bson</span><span class="p">.</span><span class="nx">M</span><span class="p">{</span><span class="s">&#34;_id&#34;</span><span class="p">:</span> <span class="nx">bson</span><span class="p">.</span><span class="nf">ObjectIdHex</span><span class="p">(</span><span class="s">&#34;6076c3954e947b3944d4a38b&#34;</span><span class="p">)})</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;åˆ é™¤å¤±è´¥&#34;</span> <span class="o">+</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;åˆ é™¤æˆåŠŸ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">add</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nf">find</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nf">update</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nf">del</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="faq" class="headerLink">
    <a href="#faq" class="header-mark"></a>FAQ</h2><h3 id="ç©ºåº“ä¸æ˜¾ç¤º" class="headerLink">
    <a href="#%e7%a9%ba%e5%ba%93%e4%b8%8d%e6%98%be%e7%a4%ba" class="header-mark"></a>ç©ºåº“ä¸æ˜¾ç¤º</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/a9027333e1aa4ac59dfe1271a4b8c43d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="show dbs" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/a9027333e1aa4ac59dfe1271a4b8c43d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>show dbs</h2><p>show dbs</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/a9027333e1aa4ac59dfe1271a4b8c43d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/a9027333e1aa4ac59dfe1271a4b8c43d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/a9027333e1aa4ac59dfe1271a4b8c43d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/a9027333e1aa4ac59dfe1271a4b8c43d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/a9027333e1aa4ac59dfe1271a4b8c43d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15">
    </a><figcaption class="image-caption">show dbs</figcaption>
    </figure></p>
<p>ä¸Šå›¾ğŸ‘†ç”¨ <code>use test1</code> æ–°å»ºäº†ä¸€ä¸ªæ•°æ®åº“ <code>test1</code>ï¼Œä½†æ˜¯ç”¨ <code>show dbs</code> å´æ²¡æœ‰æ˜¾ç¤º <code>test1</code>ï¼Œè¿™æ˜¯å› ä¸º <code>test1</code> æ˜¯ç©ºçš„ï¼Œæ’å…¥ä¸€æ¡æ•°æ®å°±å¯ä»¥æ˜¾ç¤ºã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/2d55f00bf1dc4aff97f652b8d0fbceaa.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="æ˜¾ç¤ºæ–°å»ºçš„åº“" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/2d55f00bf1dc4aff97f652b8d0fbceaa.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>æ˜¾ç¤ºæ–°å»ºçš„åº“</h2><p>æ˜¾ç¤ºæ–°å»ºçš„åº“</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/2d55f00bf1dc4aff97f652b8d0fbceaa.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/2d55f00bf1dc4aff97f652b8d0fbceaa.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/2d55f00bf1dc4aff97f652b8d0fbceaa.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/2d55f00bf1dc4aff97f652b8d0fbceaa.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/2d55f00bf1dc4aff97f652b8d0fbceaa.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15">
    </a><figcaption class="image-caption">æ˜¾ç¤ºæ–°å»ºçš„åº“</figcaption>
    </figure></p>
<h3 id="å®šé•¿è¡¨" class="headerLink">
    <a href="#%e5%ae%9a%e9%95%bf%e8%a1%a8" class="header-mark"></a>å®šé•¿è¡¨</h3><p>æœ€è¿‘æœ‰ä¸ªéœ€æ±‚æ˜¯ï¼Œéœ€è¦æŸä¸ªé›†åˆå®ç°åªä¿ç•™å›ºå®šæ•°é‡çš„è®°å½•ï¼Œè‡ªåŠ¨æ·˜æ±°è€æ—§æ•°æ®ã€‚</p>
<p>é€šè¿‡åˆ›å»ºé›†åˆçš„å‘½ä»¤ <code>db.createCollection(name, options)</code> å¯çŸ¥ï¼Œæœ‰ä¸ªå¯é€‰çš„ options å‚æ•°ï¼š</p>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li>name: è¦åˆ›å»ºçš„é›†åˆåç§°</li>
<li>options: å¯é€‰å‚æ•°, æŒ‡å®šæœ‰å…³å†…å­˜å¤§å°åŠç´¢å¼•çš„é€‰é¡¹</li>
</ul>
<p>options å¯ä»¥æ˜¯å¦‚ä¸‹å‚æ•°ï¼š</p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>ç±»å‹  <div style="width: 40px;"></th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>capped</td>
<td>å¸ƒå°”</td>
<td>ï¼ˆå¯é€‰ï¼‰å¦‚æœä¸º trueï¼Œåˆ™åˆ›å»ºå›ºå®šé›†åˆã€‚å›ºå®šé›†åˆæ˜¯æŒ‡æœ‰ç€å›ºå®šå¤§å°çš„é›†åˆï¼Œå½“è¾¾åˆ°æœ€å¤§å€¼æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è¦†ç›–æœ€æ—©çš„æ–‡æ¡£ã€‚å½“è¯¥å€¼ä¸º true æ—¶ï¼Œå¿…é¡»æŒ‡å®š size å‚æ•°ã€‚</td>
</tr>
<tr>
<td>autoIndexId</td>
<td>å¸ƒå°”</td>
<td><font color="red">3.2 ä¹‹åä¸å†æ”¯æŒè¯¥å‚æ•°ã€‚</font>ï¼ˆå¯é€‰ï¼‰å¦‚ä¸º trueï¼Œè‡ªåŠ¨åœ¨ <code>_id</code> å­—æ®µåˆ›å»ºç´¢å¼•ã€‚é»˜è®¤ä¸º falseã€‚</td>
</tr>
<tr>
<td>size</td>
<td>æ•°å€¼</td>
<td>ï¼ˆå¯é€‰ï¼‰ä¸ºå›ºå®šé›†åˆæŒ‡å®šä¸€ä¸ªæœ€å¤§å€¼ï¼Œå³<font style="font-weight:bold">å­—èŠ‚æ•° </font>ã€‚å¦‚æœ capped ä¸º trueï¼Œä¹Ÿéœ€è¦æŒ‡å®šè¯¥å­—æ®µã€‚</td>
</tr>
<tr>
<td>max</td>
<td>æ•°å€¼</td>
<td>ï¼ˆå¯é€‰ï¼‰æŒ‡å®šå›ºå®šé›†åˆä¸­åŒ…å«æ–‡æ¡£çš„æœ€å¤§æ•°é‡ã€‚</td>
</tr>
</tbody>
</table>
<p>å¦‚æœæ˜¯æ–°å»ºä¸€ä¸ªé›†åˆï¼Œè¿™ç§æ–¹å¼è‚¯å®šæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯å¦‚æœè¦åŒæ­¥è€æ•°æ®å‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚æˆ‘æœ‰ä¸€ä¸ªé›†åˆ <code>daily_report</code> é›†åˆï¼Œé‡Œé¢æœ‰ä¸€äº›è€æ•°æ®ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220414/97a6089b1a6c4100ae85c2cb84e34dcb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="daily_report é›†åˆ" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220414/97a6089b1a6c4100ae85c2cb84e34dcb.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>daily_report é›†åˆ</h2><p>daily_report é›†åˆ</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220414/97a6089b1a6c4100ae85c2cb84e34dcb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220414/97a6089b1a6c4100ae85c2cb84e34dcb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220414/97a6089b1a6c4100ae85c2cb84e34dcb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220414/97a6089b1a6c4100ae85c2cb84e34dcb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220414/97a6089b1a6c4100ae85c2cb84e34dcb.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15">
    </a><figcaption class="image-caption">daily_report é›†åˆ</figcaption>
    </figure></p>
<p>æˆ‘çš„æƒ³æ³•æ˜¯ï¼Œå°† <code>daily_report</code> é‡å‘½åä¸º <code>daily_report_bak</code>ï¼Œæ–°å»ºé›†åˆ <code>daily_report</code>ï¼Œå°± <code>daily_report_bak</code> æ•°æ®åŒæ­¥åˆ° <code>daily_report</code>ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/2bef2b5958ff474c8892b3feb41435dd.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="æµç¨‹" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/2bef2b5958ff474c8892b3feb41435dd.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>æµç¨‹</h2><p>æµç¨‹</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/2bef2b5958ff474c8892b3feb41435dd.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/2bef2b5958ff474c8892b3feb41435dd.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/2bef2b5958ff474c8892b3feb41435dd.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/2bef2b5958ff474c8892b3feb41435dd.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/2bef2b5958ff474c8892b3feb41435dd.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15">
    </a><figcaption class="image-caption">æµç¨‹</figcaption>
    </figure></p>
<p>é‡å‘½åé›†åˆï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.daily_report.renameCollection<span class="o">(</span><span class="s2">&#34;daily_report_bak&#34;</span><span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ–°å»ºé›†åˆï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.createCollection<span class="o">(</span><span class="s2">&#34;daily_report&#34;</span>, <span class="o">{</span>capped:true,size:6142800,max:4<span class="o">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯¥é›†åˆæœ€å¤§å€¼å­—èŠ‚æ•°ä¸ºï¼š6142800å­—èŠ‚ = 6142800B â‰ˆ 6000KB â‰ˆ 5M ã€‚</p>
<p>è¯¥é›†åˆä¸­åŒ…å«æ–‡æ¡£çš„æœ€å¤§æ•°é‡ä¸º 4 æ¡ã€‚</p>
<p>åŒæ­¥æ—§æ•°æ®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">db.daily_report_bak.find<span class="o">()</span>.forEach<span class="o">(</span><span class="k">function</span><span class="o">(</span>doc<span class="o">){</span>db.daily_report.insert<span class="o">(</span>doc<span class="o">)})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å‚è€ƒ" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>å‚è€ƒ</h2><ul>
<li><a href="https://www.runoob.com/mongodb/mongodb-tutorial.html" target="_blank" rel="noopener noreferrer">MongoDB æ•™ç¨‹</a></li>
<li><a href="http://cw.hubwiz.com/card/c/543b2f3cf86387171814c026/1/1/1/" target="_blank" rel="noopener noreferrer">MongoDBé«˜çº§æŸ¥è¯¢</a></li>
<li><a href="https://www.jb51.net/article/48217.htm" target="_blank" rel="noopener noreferrer">MongoDBå¸¸ç”¨æ“ä½œå‘½ä»¤å¤§å…¨</a></li>
<li><a href="https://mongodb-documentation.readthedocs.io/en/latest/reference/operator.html#gsc.tab=0" target="_blank" rel="noopener noreferrer">æŸ¥è¯¢, æ›´æ–°, æŠ•å°„, å’Œé›†åˆç®—ç¬¦</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/operator/update-field/" target="_blank" rel="noopener noreferrer">Field Update Operators</a></li>
</ul>
</div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2022-11-02&nbsp;<a class="git-hash" href="https://github.com/xiaobinqt/xiaobinqt.github.io/commit/05136beb19f2744cbd5a7aacfa3a1dc4f0d557e8" target="_blank" title="commit by weibin(xiaobinqt@163.com) 05136beb19f2744cbd5a7aacfa3a1dc4f0d557e8: update toc format" rel="noopener noreferrer">
                                    <i class="fas fa-hashtag fa-fw"></i>05136beb</a></span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span><a class="link-to-mardown" href=/mongodb-glance/index.md target="_blank" rel="noopener noreferrer">é˜…è¯»åŸå§‹æ–‡æ¡£</a>
                    </span></div>
            <div class="post-info-share">
                <span><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://www.xiaobinqt.cn/mongodb-glance/" data-title="Mongodb å­¦ä¹ ç¬”è®°" data-hashtags="mongodb"><i class="fab fa-twitter fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Facebook" data-sharer="facebook" data-url="https://www.xiaobinqt.cn/mongodb-glance/" data-hashtag="mongodb"><i class="fab fa-facebook-square fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Hacker News" data-sharer="hackernews" data-url="https://www.xiaobinqt.cn/mongodb-glance/" data-title="Mongodb å­¦ä¹ ç¬”è®°"><i class="fab fa-hacker-news fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="https://www.xiaobinqt.cn/mongodb-glance/" data-title="Mongodb å­¦ä¹ ç¬”è®°"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://www.xiaobinqt.cn/mongodb-glance/" data-title="Mongodb å­¦ä¹ ç¬”è®°" data-image="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220416/73b2a45bdf9440789438ea68af47fb95.png"><i class="fab fa-weibo fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° ç™¾åº¦" data-sharer="baidu" data-url="https://www.xiaobinqt.cn/mongodb-glance/" data-title="Mongodb å­¦ä¹ ç¬”è®°"><i data-svg-src="/lib/simple-icons/icons/baidu.min.svg"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/mongodb/">mongodb</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/grpc-demo/" class="prev" rel="prev" title="grpc å…¥é—¨åº”ç”¨"><i class="fas fa-angle-left fa-fw"></i>grpc å…¥é—¨åº”ç”¨</a>
            <a href="/pull-request/" class="next" rel="next" title="github pull request">github pull request<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="gitalk" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://github.com/gitalk/gitalk"></a>Gitalk</a>.
            </noscript></div></article></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2018 - 2022</span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/algoliasearch/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/topbar/topbar.min.js"></script><script type="text/javascript" src="/lib/pjax/pjax.min.js"></script><script type="text/javascript" src="/js/theme.min.js" defer></script></div>

<div class="pjax-assets"><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":35},"comment":{"gitalk":{"admin":["xiaobinqt"],"clientID":"47b15de6c2d8a0f8d707","clientSecret":"c70556c8b3a3b38ea7c72e539ff3b37d5bc1b4f3","id":"04b6742be1a1559cc4eccd7a2db25ac5","owner":"xiaobinqt","repo":"xiaobinqt.github.io","title":"Mongodb å­¦ä¹ ç¬”è®°"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"algoliaAppID":"CPNWIDNX0Y","algoliaIndex":"xiaobinqt.io","algoliaSearchKey":"80b84de0ebc766371dd27cd3e651c41e","highlightTag":"em","maxResultLength":20,"noResultsFound":"æ²¡æœ‰æ‰¾åˆ°ç»“æœ","snippetLength":50,"type":"algolia"},"sharerjs":true};</script><script type="text/javascript" src="/lib/gitalk/gitalk.min.js"></script><script type="text/javascript" src="/js/gitalk.min.js" defer></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><link rel="stylesheet" href="/lib/gitalk/gitalk.min.css"><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"></div>
</body>

</html>