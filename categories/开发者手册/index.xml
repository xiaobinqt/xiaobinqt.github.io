<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>å¼€å‘è€…æ‰‹å†Œ - åˆ†ç±» - xiaobinqt åšå®¢ - æŠ€æœ¯æ”¹å˜ç”Ÿæ´»</title>
        <link>https://www.xiaobinqt.cn/categories/%E5%BC%80%E5%8F%91%E8%80%85%E6%89%8B%E5%86%8C/</link>
        <description>å¼€å‘è€…æ‰‹å†Œ - åˆ†ç±» - xiaobinqt åšå®¢ - æŠ€æœ¯æ”¹å˜ç”Ÿæ´»</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>xiaobinqt@163.com (xiaobinqt)</managingEditor>
            <webMaster>xiaobinqt@163.com (xiaobinqt)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Mon, 16 Oct 2023 00:00:00 &#43;0000</lastBuildDate><atom:link href="https://www.xiaobinqt.cn/categories/%E5%BC%80%E5%8F%91%E8%80%85%E6%89%8B%E5%86%8C/" rel="self" type="application/rss+xml" /><item>
    <title>å„ç§éŸ³ä¹æ–‡ä»¶æ ¼å¼è½¬ MP3</title>
    <link>https://www.xiaobinqt.cn/multi-format-convert-mp3/</link>
    <pubDate>Mon, 16 Oct 2023 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/multi-format-convert-mp3/</guid>
    <description><![CDATA[<!-- authorï¼š xiaobinqt -->
<!-- emailï¼š xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="mgg" class="headerLink">
    <a href="#mgg" class="header-mark"></a>mgg</h2><p>æˆ‘çš„ qq éŸ³ä¹æ¡Œé¢æ’­æ”¾å™¨ç‰ˆæœ¬æ˜¯ 1951ï¼Œä¸‹è½½ä¸‹æ¥çš„éŸ³ä¹æ ¼å¼ mgg æ ¼å¼çš„ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/256c0eddcd2e4f76a4e0f6215dd9455d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/256c0eddcd2e4f76a4e0f6215dd9455d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/256c0eddcd2e4f76a4e0f6215dd9455d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>qq music version</h2>">
        
    </a><figcaption class="image-caption">qq music version</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/943f3b65ff8d4590b0796a8d9195435c.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/943f3b65ff8d4590b0796a8d9195435c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/943f3b65ff8d4590b0796a8d9195435c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>mgg</h2>">
        
    </a><figcaption class="image-caption">mgg</figcaption>
    </figure></p>
<p>å¦‚ä½•å°† mgg æ ¼å¼è½¬ mgg æ ¼å¼è½¬æˆ MP3 æ ¼å¼å‘¢ï¼Œ</p>
<ol>
<li>å…ˆç”¨å·¥å…·å°† mgg æ–‡ä»¶è½¬æˆ ogg æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡åœ¨çº¿å·¥å…· <a href="https://openyyy.com/" target="_blank" rel="noopener noreferrer">OpenYYY</a></li>
</ol>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/4933322bfc504a7e82574c67472f533d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/4933322bfc504a7e82574c67472f533d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/4933322bfc504a7e82574c67472f533d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>è½¬ ogg</h2>">
        
    </a><figcaption class="image-caption">è½¬ ogg</figcaption>
    </figure></p>
<ol start="2">
<li>ä¸‹è½½ ogg æ–‡ä»¶ï¼Œé€šè¿‡ ffmpeg å°† ogg è½¬æˆ mp3ï¼Œå‘½ä»¤ä¸º <code>ffmpeg -i oggæ–‡ä»¶ è¾“å‡ºmp3æ–‡ä»¶</code>ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œå°†è€é¼ çˆ±å¤§ç±³çš„ ogg è½¬æˆäº† mp3 æ–‡ä»¶ï¼š</li>
</ol>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/587e2afcba774a5cba89c2d302568ef4.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/587e2afcba774a5cba89c2d302568ef4.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/587e2afcba774a5cba89c2d302568ef4.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>ogg convert mp3</h2>">
        
    </a><figcaption class="image-caption">ogg convert mp3</figcaption>
    </figure></p>
<p>è½¬ä¹‹åçš„ mp3 æ–‡ä»¶ç”¨æ’­æ”¾å™¨å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/004eaea8e54d47318ada684c393edf8c.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/004eaea8e54d47318ada684c393edf8c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/004eaea8e54d47318ada684c393edf8c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>æ­£å¸¸æ’­æ”¾</h2>">
        
    </a><figcaption class="image-caption">æ­£å¸¸æ’­æ”¾</figcaption>
    </figure></p>
<p>ffmpeg çš„åœ¨çº¿å·¥å…·å¯ä»¥ä½¿ç”¨ <a href="https://ffmpeg-online.vercel.app/" target="_blank" rel="noopener noreferrer">https://ffmpeg-online.vercel.app/</a></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/3c9833714b35434aaaf261f29110718f.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/3c9833714b35434aaaf261f29110718f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20231016/3c9833714b35434aaaf261f29110718f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>ffmpeg åœ¨çº¿å·¥å…·</h2>">
        
    </a><figcaption class="image-caption">ffmpeg åœ¨çº¿å·¥å…·</figcaption>
    </figure></p>
<h2 id="å‚è€ƒ" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>å‚è€ƒ</h2><ul>
<li><a href="https://askubuntu.com/questions/442997/how-can-i-convert-audio-from-ogg-to-mp3" target="_blank" rel="noopener noreferrer">How can I convert audio from ogg to mp3?</a></li>
<li><a href="https://linuxhint.com/install-ffmpeg-ubuntu22-04/" target="_blank" rel="noopener noreferrer">How to Install FFmpeg on Ubuntu 22.04?</a></li>
</ul>
]]></description>
</item><item>
    <title>Docker å•æœºå®‰è£…ä½¿ç”¨ Elasticsearch</title>
    <link>https://www.xiaobinqt.cn/docker-elastic-install/</link>
    <pubDate>Tue, 12 Sep 2023 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/docker-elastic-install/</guid>
    <description><![CDATA[<!-- authorï¼š xiaobinqt -->
<!-- emailï¼š xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="å®‰è£…-es" class="headerLink">
    <a href="#%e5%ae%89%e8%a3%85-es" class="header-mark"></a>å®‰è£… ES</h2><p>å½“å‰ <code>ElasticSearch</code> å·²ç»åˆ°äº† <code>8.0+</code>ï¼Œæ–°ç‰ˆæœ¬éƒ½æœ‰å¾ˆå¤šæ–°ç‰¹æ€§ï¼Œæ€§èƒ½å’ŒåŠŸèƒ½éƒ½æœ‰å¤§å¹…æå‡ï¼Œå»ºè®®ä½¿ç”¨è¾ƒé«˜ç‰ˆæœ¬ï¼Œè¿™é‡Œé‡‡ç”¨ <code>7.12.1</code> ç‰ˆæœ¬ ğŸ‘¼</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/f7745775638b42829fd11821d4406420.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/f7745775638b42829fd11821d4406420.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/f7745775638b42829fd11821d4406420.png" data-sub-html="<h2>es ç‰ˆæœ¬</h2>">
        
    </a><figcaption class="image-caption">es ç‰ˆæœ¬</figcaption>
    </figure></p>
<p>å®‰è£… <code>ElasticSearch</code> è„šæœ¬å¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -d \
</span></span><span class="line"><span class="cl">--name elasticsearch \
</span></span><span class="line"><span class="cl">    -e &#34;discovery.type=single-node&#34; \
</span></span><span class="line"><span class="cl">    --privileged \
</span></span><span class="line"><span class="cl">    -p 9200:9200 \
</span></span><span class="line"><span class="cl">    -p 9300:9300 \
</span></span><span class="line"><span class="cl">elasticsearch:7.12.1
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¸¸ç”¨å‘½ä»¤è¯´æ˜ï¼š</p>
<ul>
<li><code>-e &quot;cluster.name=es-docker-cluster&quot;</code>ï¼šè®¾ç½®é›†ç¾¤åç§°</li>
<li><code>-e &quot;http.host=0.0.0.0&quot;</code>ï¼šç›‘å¬çš„åœ°å€ï¼Œå¯ä»¥å¤–ç½‘è®¿é—®</li>
<li><code>-e &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;</code>ï¼šå†…å­˜å¤§å°</li>
<li><code>-e &quot;discovery.type=single-node&quot;</code>ï¼šéé›†ç¾¤æ¨¡å¼</li>
<li><code>-v es-data:/usr/share/elasticsearch/data</code>ï¼šæŒ‚è½½é€»è¾‘å·ï¼Œç»‘å®š<code>elasticsearch</code>çš„æ•°æ®ç›®å½•</li>
<li><code>-v es-logs:/usr/share/elasticsearch/logs</code>ï¼šæŒ‚è½½é€»è¾‘å·ï¼Œç»‘å®š<code>elasticsearch</code>çš„æ—¥å¿—ç›®å½•</li>
<li><code>-v es-plugins:/usr/share/elasticsearch/plugins</code>ï¼šæŒ‚è½½é€»è¾‘å·ï¼Œç»‘å®š<code>elasticsearch</code>çš„æ’ä»¶ç›®å½•</li>
<li><code>--privileged</code>ï¼šæˆäºˆé€»è¾‘å·è®¿é—®æƒ</li>
<li><code>-p 9200:9200</code>ï¼šç«¯å£æ˜ å°„é…ç½®</li>
</ul>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ca407aeb5d044916b27673149b45ec26.png" title="å®‰è£… es" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ca407aeb5d044916b27673149b45ec26.png" data-sub-html="<h2>docker å®‰è£… es</h2><p>å®‰è£… es</p>">
        
    </a><figcaption class="image-caption">docker å®‰è£… es</figcaption>
    </figure></p>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ï¼š<code>http://172.27.46.132/:9200/</code> å³å¯çœ‹åˆ° <code>elasticsearch</code> çš„å“åº”ç»“æœï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/a8b3f2fe7d164cb7a02bf8491bbc05cf.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/a8b3f2fe7d164cb7a02bf8491bbc05cf.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/a8b3f2fe7d164cb7a02bf8491bbc05cf.png" data-sub-html="<h2>es å“åº”ç»“æœ</h2>">
        
    </a><figcaption class="image-caption">es å“åº”ç»“æœ</figcaption>
    </figure></p>
<h2 id="kibana" class="headerLink">
    <a href="#kibana" class="header-mark"></a>Kibana</h2><p>æˆ‘ä»¬å¯ä»¥åŸºäº <code>http</code> è¯·æ±‚æ“ä½œ <code>ElasticSearch</code>ï¼Œä½†åŸºäº <code>http</code> æ“ä½œæ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥é‡‡ç”¨ <code>Kibana</code> å®ç°å¯è§†åŒ–æ“ä½œã€‚</p>
<p><code>Kibana</code> æ˜¯ä¸€ä¸ªå…è´¹ä¸”å¼€æ”¾çš„ç”¨æˆ·ç•Œé¢ï¼Œèƒ½å¤Ÿå¯¹ <code>Elasticsearch</code> æ•°æ®è¿›è¡Œå¯è§†åŒ–ï¼Œå¹¶åœ¨ <code>Elastic Stack</code> ä¸­è¿›è¡Œå¯¼èˆªï¼Œå¯ä»¥è¿›è¡Œå„ç§æ“ä½œï¼Œä»è·Ÿè¸ªæŸ¥è¯¢è´Ÿè½½ï¼Œåˆ°ç†è§£è¯·æ±‚å¦‚ä½•æµç»çš„æ•´ä¸ªåº”ç”¨ï¼Œéƒ½èƒ½è½»æ¾å®Œæˆã€‚<code>Kibana</code> è®©èƒ½å¤Ÿè‡ªç”±åœ°é€‰æ‹©å¦‚ä½•å‘ˆç°è‡ªå·±çš„æ•°æ®ã€‚</p>
<h3 id="kibana-å®‰è£…" class="headerLink">
    <a href="#kibana-%e5%ae%89%e8%a3%85" class="header-mark"></a>Kibana å®‰è£…</h3><p>ä½¿ç”¨ <code>Docker</code> å®‰è£… <code>Kibana</code> éå¸¸ç®€å•ï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤éœ€è¦æ³¨æ„ <code>Kibana</code> æ“ä½œçš„ <code>ElasticSearch</code> åœ°å€ï¼Œå› ä¸º <code>Kibana</code> æ˜¯éœ€è¦è¿æ¥ <code>ElasticSearch</code> è¿›è¡Œæ“ä½œçš„ï¼Œæ‰€ä»¥éœ€è¦ es å’Œ <code>Kibana</code> åœ¨åŒä¸€ç½‘æ®µï¼Œå®‰è£… <code>Kibana</code> å‘½ä»¤å¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -d \
</span></span><span class="line"><span class="cl">--name kibana \
</span></span><span class="line"><span class="cl">-e ELASTICSEARCH_HOSTS=http://172.27.46.132:9200 \
</span></span><span class="line"><span class="cl">-p 5601:5601  \
</span></span><span class="line"><span class="cl">kibana:7.12.1
</span></span></code></pre></td></tr></table>
</div>
</div><p>å‘½ä»¤è¯´æ˜ï¼š</p>
<ul>
<li><code>-e ELASTICSEARCH_HOSTS=http://172.27.46.132:9200&quot;</code>ï¼šè®¾ç½® <code>elasticsearch</code> çš„åœ°å€ï¼Œå› ä¸º <code>kibana</code> å·²ç»ä¸<code>elasticsearch</code>åœ¨ä¸€ä¸ªç½‘ç»œï¼Œå› æ­¤å¯ä»¥ç”¨å®¹å™¨åç›´æ¥è®¿é—® <code>elasticsearch</code>ï¼Œä¹Ÿå¯ä»¥å†™ IP åœ°å€å®ç°è®¿é—®ã€‚</li>
<li><code>-p 5601:5601</code>ï¼šç«¯å£æ˜ å°„é…ç½®</li>
</ul>
<p>å®‰è£…çš„æ—¶å€™å¦‚æœæ²¡æœ‰é•œåƒï¼Œä¼šä¸‹è½½é•œåƒï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/8348436b33284bba88bb2efa43b298f1.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/8348436b33284bba88bb2efa43b298f1.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/8348436b33284bba88bb2efa43b298f1.png" data-sub-html="<h2>å®‰è£… Kibana</h2>">
        
    </a><figcaption class="image-caption">å®‰è£… Kibana</figcaption>
    </figure></p>
<p>å®‰è£…æˆåŠŸåï¼Œå¯ä»¥è®¿é—® <code>http://172.27.46.132:5601/</code> æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/53c75f9beec0482ba216e08af2e4d035.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/53c75f9beec0482ba216e08af2e4d035.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/53c75f9beec0482ba216e08af2e4d035.png" data-sub-html="<h2>Kibana æ•ˆæœ</h2>">
        
    </a><figcaption class="image-caption">Kibana æ•ˆæœ</figcaption>
    </figure></p>
<p>å¯ä»¥ç‚¹å‡» <code>Add data</code>ï¼Œæ·»åŠ ç¤ºä¾‹æ•°æ®ï¼Œå¦‚ä¸‹å›¾ï¼Œéšæ„é€‰ä¸€ä¸ªå³å¯ï¼Œä¸é€‰å…¶å®ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/f74d72b57b544c6485d15de34417f89f.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/f74d72b57b544c6485d15de34417f89f.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/f74d72b57b544c6485d15de34417f89f.png" data-sub-html="<h2>æ·»åŠ æ•°æ®</h2>">
        
    </a><figcaption class="image-caption">æ·»åŠ æ•°æ®</figcaption>
    </figure></p>
<h3 id="kibana-ä¸­æ–‡é…ç½®" class="headerLink">
    <a href="#kibana-%e4%b8%ad%e6%96%87%e9%85%8d%e7%bd%ae" class="header-mark"></a>Kibana ä¸­æ–‡é…ç½®</h3><p><code>Kibana</code> æ”¯æŒä¸­æ–‡é…ç½®ï¼Œå¯ä»¥æŠŠ <code>Kibana</code> é…ç½®æˆä¸­æ–‡ç‰ˆï¼Œåˆ‡æ¢ä¸­æ–‡æ“ä½œå¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">#è¿›å…¥å®¹å™¨
</span></span><span class="line"><span class="cl">docker exec -it kibana /bin/bash
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#è¿›å…¥é…ç½®æ–‡ä»¶ç›®å½•
</span></span><span class="line"><span class="cl">cd /usr/share/kibana/config
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#ç¼–è¾‘æ–‡ä»¶kibana.yml
</span></span><span class="line"><span class="cl">vi kibana.yml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#åœ¨æœ€åä¸€è¡Œæ·»åŠ å¦‚ä¸‹é…ç½®
</span></span><span class="line"><span class="cl">i18n.locale: zh-CN
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#ä¿å­˜é€€å‡º
</span></span><span class="line"><span class="cl">exit
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#å¹¶é‡å¯å®¹å™¨
</span></span><span class="line"><span class="cl">docker restart kibana
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç­‰å¾… <code>Kibana</code> å®¹å™¨å¯åŠ¨ï¼Œå†æ¬¡è®¿é—® <code>http://172.27.46.132:5601/</code> æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/43ffacffaff84394a12e7e741bcc8f65.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/43ffacffaff84394a12e7e741bcc8f65.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/43ffacffaff84394a12e7e741bcc8f65.png" data-sub-html="<h2>ä¸­æ–‡æ•ˆæœ</h2>">
        
    </a><figcaption class="image-caption">ä¸­æ–‡æ•ˆæœ</figcaption>
    </figure></p>
<h2 id="ik-åˆ†è¯å™¨å®‰è£…" class="headerLink">
    <a href="#ik-%e5%88%86%e8%af%8d%e5%99%a8%e5%ae%89%e8%a3%85" class="header-mark"></a>IK åˆ†è¯å™¨å®‰è£…</h2><p>æ‰“å¼€ <code>Kibana</code>ï¼Œç‚¹å‡»å¼€å‘å·¥å…·ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ef521d29bf764703adabe06108c6ef9f.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ef521d29bf764703adabe06108c6ef9f.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ef521d29bf764703adabe06108c6ef9f.png" data-sub-html="<h2>å¼€å‘å·¥å…·</h2>">
        
    </a><figcaption class="image-caption">å¼€å‘å·¥å…·</figcaption>
    </figure></p>
<p>åœ¨å·¦è¾¹è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼Œç”¨äºæŸ¥è¯¢åˆ†è¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">GET _analyze
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">  &#34;analyzer&#34;: &#34;standard&#34;,
</span></span><span class="line"><span class="cl">  &#34;text&#34;: &#34;php æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€&#34;
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/a8c86a3f5c8640108a32551ace6b8cad.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/a8c86a3f5c8640108a32551ace6b8cad.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/a8c86a3f5c8640108a32551ace6b8cad.png" data-sub-html="<h2>åˆ†è¯æ•ˆæœ</h2>">
        
    </a><figcaption class="image-caption">åˆ†è¯æ•ˆæœ</figcaption>
    </figure></p>
<p>ä½¿ç”¨ <code>standard</code> å¯¹ <code>php æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€</code> è¿›è¡Œåˆ†è¯ã€‚</p>
<p><code>åˆ†è¯</code>ï¼šæå–ä¸€å¥è¯æˆ–è€…ä¸€ç¯‡æ–‡ç« ä¸­çš„è¯è¯­ã€‚</p>
<p>æˆ‘ä»¬åœ¨ä½¿ç”¨ <code>ElasticSearch</code> çš„æ—¶å€™ï¼Œé»˜è®¤ç”¨ <code>standard</code> åˆ†è¯å™¨ï¼Œä½† <code>standard</code> åˆ†è¯å™¨ä½¿ç”¨çš„æ˜¯æŒ‰ç©ºæ ¼åˆ†è¯ï¼Œè¿™ç§åˆ†è¯æ“ä½œæ–¹æ³•ä¸ç¬¦åˆä¸­æ–‡åˆ†è¯æ ‡å‡†ï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–å®‰è£…ä¸­æ–‡åˆ†è¯å™¨ã€‚</p>
<h3 id="ik-åˆ†è¯å™¨" class="headerLink">
    <a href="#ik-%e5%88%86%e8%af%8d%e5%99%a8" class="header-mark"></a>IK åˆ†è¯å™¨</h3><p><code>IK Analyzer</code> æ˜¯ä¸€ä¸ªå¼€æºçš„ï¼ŒåŸºäº java è¯­è¨€å¼€å‘çš„è½»é‡çº§çš„ä¸­æ–‡åˆ†è¯å·¥å…·åŒ…ã€‚å¯ä»¥ç›´æ¥åœ¨ <code>ElasticSearch</code> ä¸­é›†æˆ IK åˆ†è¯å™¨ï¼Œ<code>IK</code> åˆ†è¯å™¨é›†æˆ<code>ElasticSearch</code>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/medcl/elasticsearch-analysis-ik/releases" target="_blank" rel="noopener noreferrer">elasticsearch-analysis-ik/releases</a>ã€‚IK å¯ä»¥è·Ÿ es çš„ç‰ˆæœ¬ä¸€è‡´ï¼Œæˆ‘ä»¬ es çš„ç‰ˆæœ¬æ˜¯ 7.12.1ï¼ŒIK çš„ç‰ˆæœ¬ä¹Ÿæ˜¯ç”¨ 7.12.1ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/89e1dba4c7fd481ba7183f764a9cb18f.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/89e1dba4c7fd481ba7183f764a9cb18f.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/89e1dba4c7fd481ba7183f764a9cb18f.png" data-sub-html="<h2>IK åˆ†è¯å™¨</h2>">
        
    </a><figcaption class="image-caption">IK åˆ†è¯å™¨</figcaption>
    </figure></p>
<h3 id="ik-åˆ†è¯å™¨é…ç½®" class="headerLink">
    <a href="#ik-%e5%88%86%e8%af%8d%e5%99%a8%e9%85%8d%e7%bd%ae" class="header-mark"></a>IK åˆ†è¯å™¨é…ç½®</h3><p>ä¸‹è½½å®‰è£…åŒ… <a href="https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.12.1/elasticsearch-analysis-ik-7.12.1.zip" target="_blank" rel="noopener noreferrer">elasticsearch-analysis-ik/releases/tag/v7.12.1</a> åï¼Œï¼Œéœ€è¦å°† <code>elasticsearch-analysis-ik-7.12.1.zip</code> æ‹·è´åˆ° <code>elasticSearch</code> å®¹å™¨é‡Œçš„çš„ <code>/usr/share/elasticsearch/plugins</code> ç›®å½•ä¸­è§£å‹å³å¯ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ee221bb0e9424881b5ea8a687fa5d7bf.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ee221bb0e9424881b5ea8a687fa5d7bf.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ee221bb0e9424881b5ea8a687fa5d7bf.png" data-sub-html="<h2>cp elasticsearch-analysis-ik-7.12.1.zip</h2>">
        
    </a><figcaption class="image-caption">cp elasticsearch-analysis-ik-7.12.1.zip</figcaption>
    </figure></p>
<p>è§£å‹æ–‡ä»¶æˆåŠŸåï¼Œç„¶å<strong>é‡å¯</strong> es å®¹å™¨ã€‚</p>
<h3 id="åˆ†è¯æµ‹è¯•" class="headerLink">
    <a href="#%e5%88%86%e8%af%8d%e6%b5%8b%e8%af%95" class="header-mark"></a>åˆ†è¯æµ‹è¯•</h3><p><code>IK</code>åˆ†è¯å™¨åŒ…å«ä¸¤ç§æ¨¡å¼ï¼š</p>
<ul>
<li>
<p><code>ik_smart</code>ï¼šæœ€å°‘åˆ‡åˆ†</p>
</li>
<li>
<p><code>ik_max_word</code>ï¼šæœ€ç»†åˆ‡åˆ†</p>
</li>
</ul>
<p>å‰é¢ä½¿ç”¨é»˜è®¤çš„<code>standard</code>åˆ†è¯å™¨ï¼Œå¯¹ä¸­æ–‡åˆ†è¯éå¸¸éš¾ç”¨ï¼Œå®‰è£…IKåˆ†è¯å™¨åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨IKåˆ†è¯å™¨æµ‹è¯•ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">GET _analyze
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">  &#34;analyzer&#34;: &#34;ik_max_word&#34;,
</span></span><span class="line"><span class="cl">  &#34;text&#34;: &#34;php æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€&#34;
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/689f9549af6440e999bf83865dedbe54.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/689f9549af6440e999bf83865dedbe54.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/689f9549af6440e999bf83865dedbe54.png" data-sub-html="<h2>æ•ˆæœ</h2>">
        
    </a><figcaption class="image-caption">æ•ˆæœ</figcaption>
    </figure></p>
<p>å¯ä»¥å‘ç°å¯¹ä¸­æ–‡çš„åˆ†è¯æ•ˆæœæ˜¯æ¯”è¾ƒä¸é”™çš„ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›ä¸è¶³ï¼Œæ¯”å¦‚ <code>æœ€å¥½çš„</code> æˆ‘ä»¬å¸Œæœ›å®ƒæ˜¯ä¸€ä¸ªè¯ï¼Œè€Œ <code>ä¸Š</code>æˆ‘ä»¬å¸Œæœ›å®ƒä¸è¢«è¯†åˆ«ä¸€ä¸ªè¯ï¼Œè¿™ç§éœ€æ±‚å¯ä»¥åŒè¿‡è‡ªå®šä¹‰è¯å…¸è§£å†³ã€‚</p>
<h2 id="ik-è‡ªå®šä¹‰è¯å…¸" class="headerLink">
    <a href="#ik-%e8%87%aa%e5%ae%9a%e4%b9%89%e8%af%8d%e5%85%b8" class="header-mark"></a>IK è‡ªå®šä¹‰è¯å…¸</h2><p>IK åˆ†è¯å™¨æ”¯æŒè‡ªå®šä¹‰è¯å…¸ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰åˆ†è¯ï¼Œä¹ŸåŒ…å«è‡ªå®šä¹‰åœç”¨åˆ†è¯ï¼Œæ“ä½œèµ·æ¥éå¸¸ç®€å•ã€‚æ¥ä¸‹æ¥å®ç°ä¸€ä¸‹è‡ªå®šä¹‰è¯å…¸å’Œåœç”¨è¯å…¸ã€‚</p>
<h3 id="è‡ªå®šä¹‰è¯å…¸" class="headerLink">
    <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e8%af%8d%e5%85%b8" class="header-mark"></a>è‡ªå®šä¹‰è¯å…¸</h3><p>è‡ªå®šä¹‰è¯å…¸ï¼Œéœ€è¦å…ˆåˆ›å»ºè‡ªå·±çš„è¯å…¸ï¼Œå†å¼•ç”¨è‡ªå·±çš„è¯å…¸å³å¯ã€‚</p>
<ol>
<li>åˆ›å»ºè¯å…¸</li>
</ol>
<p>åœ¨ es å®¹å™¨ç›®å½• <code>/usr/share/elasticsearch/plugins/ik/config</code> ä¸­åˆ›å»ºè‡ªå·±çš„è¯å…¸ï¼Œä¾‹å¦‚å« <code>custome.dic</code>ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ è‡ªå®šä¹‰çš„è¯è¯­ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/432e98e286cb4c3587caa0c35f2d6446.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/432e98e286cb4c3587caa0c35f2d6446.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/432e98e286cb4c3587caa0c35f2d6446.png" data-sub-html="<h2>åˆ›å»ºè¯å…¸</h2>">
        
    </a><figcaption class="image-caption">åˆ›å»ºè¯å…¸</figcaption>
    </figure></p>
<p>æˆ‘ä»¬æŠŠè‡ªå®šä¹‰çš„è¯å…¸ <code>æœ€å¥½çš„</code> æ·»åŠ åˆ°äº† <code>custome.dic</code> ä¸­äº†ï¼Œè¿™å°±æ˜¯åˆ›å»ºè¯å…¸ï¼Œå¦‚æœæœ‰å¤šä¸ªè‡ªå®šä¹‰è¯ï¼Œéœ€è¦æ¢è¡ŒåŠ å…¥ï¼Œè¿™é‡Œä¸€å®šè¦æ³¨æ„ä¸­æ–‡åˆ†è¯è®¾ç½®ç¼–ç æ ¼å¼ä¸º <code>UTF-8</code>ã€‚</p>
<ol start="2">
<li>å¼•ç”¨è¯å…¸</li>
</ol>
<p>ä¿®æ”¹ <code>config/IKAnalyzer.cfg.xml</code> å¼•ç”¨è‡ªå·±åˆ›å»ºçš„ <code>custome.dic</code> è¯å…¸ï¼Œé…ç½®å¦‚ä¸‹:</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ef379f05c79646f4b61bc964dfe17b07.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ef379f05c79646f4b61bc964dfe17b07.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/ef379f05c79646f4b61bc964dfe17b07.png" data-sub-html="<h2>å¼•ç”¨è‡ªå®šä¹‰å­—å…¸</h2>">
        
    </a><figcaption class="image-caption">å¼•ç”¨è‡ªå®šä¹‰å­—å…¸</figcaption>
    </figure></p>
<p>å†ä½¿ç”¨ <code>Kibana</code> æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/71f95f67e34c4723b8923d3113b4951c.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/71f95f67e34c4723b8923d3113b4951c.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/71f95f67e34c4723b8923d3113b4951c.png" data-sub-html="<h2>æ•ˆæœ</h2>">
        
    </a><figcaption class="image-caption">æ•ˆæœ</figcaption>
    </figure></p>
<h3 id="è‡ªå®šä¹‰åœç”¨è¯æ±‡" class="headerLink">
    <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%81%9c%e7%94%a8%e8%af%8d%e6%b1%87" class="header-mark"></a>è‡ªå®šä¹‰åœç”¨è¯æ±‡</h3><p>è‡ªå®šä¹‰åœç”¨è¯å…¸å’Œè‡ªå®šä¹‰è¯å…¸ä¸€æ ·ï¼Œéœ€è¦å…ˆåˆ›å»ºè‡ªå·±çš„è¯å…¸ï¼Œå†å¼•ç”¨è‡ªå·±çš„è¯å…¸å³å¯ã€‚</p>
<ol>
<li>åˆ›å»ºè¯å…¸</li>
</ol>
<p>åœ¨ <code>config</code> ä¸­åˆ›å»ºè‡ªå·±çš„åœç”¨è¯å…¸ï¼Œä¾‹å¦‚å« <code>stop.dic</code>ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ è‡ªå®šä¹‰çš„åœç”¨è¯è¯­ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/a389717b1b254a4199b0a08b334afd16.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/a389717b1b254a4199b0a08b334afd16.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/a389717b1b254a4199b0a08b334afd16.png" data-sub-html="<h2>åœç”¨è¯æ±‡</h2>">
        
    </a><figcaption class="image-caption">åœç”¨è¯æ±‡</figcaption>
    </figure></p>
<ol start="2">
<li>å¼•ç”¨è¯å…¸</li>
</ol>
<p>ä¿®æ”¹ <code>config/IKAnalyzer.cfg.xml</code> å¼•ç”¨è‡ªå·±åˆ›å»ºçš„ <code>stop.dic</code> åœç”¨è¯å…¸ï¼Œé…ç½®å¦‚ä¸‹:</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/cc6cc42963ec4eed8da6f875c9220807.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/cc6cc42963ec4eed8da6f875c9220807.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/cc6cc42963ec4eed8da6f875c9220807.png" data-sub-html="<h2>åœç”¨è¯å…¸é…ç½®</h2>">
        
    </a><figcaption class="image-caption">åœç”¨è¯å…¸é…ç½®</figcaption>
    </figure></p>
<p>ä¿®æ”¹å®Œæˆåï¼Œé‡å¯ <code>elasticsearch</code> å®¹å™¨ã€‚</p>
<p>å†ä½¿ç”¨ <code>Kibana</code> æµ‹è¯•æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/9bdadba012d049e4a9c34f2d3163b190.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/9bdadba012d049e4a9c34f2d3163b190.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230912/9bdadba012d049e4a9c34f2d3163b190.png" data-sub-html="<h2>åœç”¨åˆ†è¯æ•ˆæœ</h2>">
        
    </a><figcaption class="image-caption">åœç”¨åˆ†è¯æ•ˆæœ</figcaption>
    </figure></p>
<p>å¯ä»¥å‘ç°ï¼Œä¸å†æœ‰ <code>ä¸–ç•Œ</code>ï¼Œ<code>çš„</code>ï¼Œ<code>æ˜¯</code>ï¼Œ<code>ä¸Š</code>ï¼Œ<code>è¯­è¨€</code> çš„åˆ†è¯äº†ï¼Œè¯´æ˜åœç”¨åˆ†è¯ä¹Ÿç”Ÿæ•ˆäº†ã€‚</p>
<h2 id="ä¸€ä¸ªä¾‹å­" class="headerLink">
    <a href="#%e4%b8%80%e4%b8%aa%e4%be%8b%e5%ad%90" class="header-mark"></a>ä¸€ä¸ªä¾‹å­</h2><p>ç°åœ¨æœ‰ä¸ªéœ€æ±‚æ˜¯å‘ mysql ä¸­æ’å…¥æ–‡ç« ï¼Œä½†æ˜¯åŒæ—¶éœ€è¦å‘ es ä¸­å†™å…¥æ–‡ç« ï¼Œé€šè¿‡ es æ¥åˆ†è¯ï¼Œä¼˜åŒ–æœç´¢ï¼Œé€šè¿‡ es æœç´¢æ—¶ï¼Œå¯ä»¥è¿”å› mysql ä¸­å¯¹åº”çš„ idã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">article</span><span class="o">`</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w">          </span><span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">`</span><span class="n">title</span><span class="o">`</span><span class="w">       </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;æ–‡ç« æ ‡é¢˜&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">`</span><span class="n">content</span><span class="o">`</span><span class="w">     </span><span class="nb">text</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;æ–‡ç« å†…å®¹&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">`</span><span class="n">create_time</span><span class="o">`</span><span class="w"> </span><span class="k">timestamp</span><span class="w">    </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">`</span><span class="n">update_time</span><span class="o">`</span><span class="w"> </span><span class="k">timestamp</span><span class="w">    </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COMMENT</span><span class="o">=</span><span class="s1">&#39;æ–‡ç« è¡¨&#39;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>golang ä»£ç ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;context&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;database/sql&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;encoding/json&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/elastic/go-elasticsearch/v7/esapi&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">_</span> <span class="s">&#34;github.com/go-sql-driver/mysql&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;log&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;strings&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// åˆå§‹åŒ– MySQL è¿æ¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">sql</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">&#34;mysql&#34;</span><span class="p">,</span> <span class="s">&#34;root:123456@tcp(localhost:3306)/wb-test&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">defer</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// åˆå§‹åŒ– Elasticsearch è¿æ¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">esConfig</span> <span class="o">:=</span> <span class="nx">elasticsearch</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Addresses</span><span class="p">:</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;http://localhost:9200&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">esClient</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">elasticsearch</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="nx">esConfig</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// æ’å…¥æ–‡ç« åˆ° MySQL
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">articleTitle</span> <span class="o">:=</span> <span class="s">&#34;è¶æ‹èŠ±&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">articleContent</span> <span class="o">:=</span> <span class="s">&#34;èŠ±è¤ªæ®‹çº¢æ³¨é’æå°ã€‚ç‡•å­é£æ—¶ï¼Œç»¿æ°´äººå®¶ç»•ã€‚æä¸ŠæŸ³ç»µæ³¨å¹åˆå°‘ã€‚å¤©æ¶¯ä½•å¤„æ— èŠ³è‰ã€‚å¢™é‡Œç§‹åƒå¢™å¤–é“ã€‚å¢™å¤–è¡Œäººï¼Œå¢™é‡Œä½³äººç¬‘ã€‚ç¬‘æ¸ä¸é—»å£°æ¸æ‚„ã€‚å¤šæƒ…å´è¢«æ— æƒ…æ¼ã€‚&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="p">=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Exec</span><span class="p">(</span><span class="s">&#34;INSERT INTO article (title, content) VALUES (?, ?)&#34;</span><span class="p">,</span> <span class="nx">articleTitle</span><span class="p">,</span> <span class="nx">articleContent</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// è·å–æ’å…¥æ–‡ç« çš„ MySQL ID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">articleID</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="p">=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">QueryRow</span><span class="p">(</span><span class="s">&#34;SELECT LAST_INSERT_ID()&#34;</span><span class="p">).</span><span class="nf">Scan</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">articleID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// åœ¨ Elasticsearch ä¸­å†™å…¥æ–‡ç« 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">esIndexName</span> <span class="o">:=</span> <span class="s">&#34;articles&#34;</span> <span class="c1">// Elasticsearch ç´¢å¼•å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">docID</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="nx">articleID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//esDoc := map[string]interface{}{
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//	&#34;title&#34;:   articleTitle,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//	&#34;content&#34;: articleContent,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//	&#34;mysql_id&#34;: articleID, // å°† MySQL ID å­˜å‚¨åœ¨ Elasticsearch ä¸­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">// åˆ›å»º Elasticsearch æ–‡æ¡£
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">esRequest</span> <span class="o">:=</span> <span class="nx">esapi</span><span class="p">.</span><span class="nx">IndexRequest</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Index</span><span class="p">:</span>      <span class="nx">esIndexName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">DocumentID</span><span class="p">:</span> <span class="nx">docID</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Body</span><span class="p">:</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">NewReader</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">`{
</span></span></span><span class="line"><span class="cl"><span class="s">            &#34;title&#34;: &#34;%s&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">            &#34;content&#34;: &#34;%s&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">            &#34;mysql_id&#34;: %d
</span></span></span><span class="line"><span class="cl"><span class="s">        }`</span><span class="p">,</span> <span class="nx">articleTitle</span><span class="p">,</span> <span class="nx">articleContent</span><span class="p">,</span> <span class="nx">articleID</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Refresh</span><span class="p">:</span> <span class="s">&#34;true&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">res</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">esRequest</span><span class="p">.</span><span class="nf">Do</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="nx">esClient</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">defer</span> <span class="nx">res</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ä» Elasticsearch ä¸­æŸ¥è¯¢æ–‡ç« ï¼ŒåŒ…æ‹¬ MySQL ID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//esQuery := map[string]interface{}{
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//	&#34;query&#34;: map[string]interface{}{
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//		&#34;match&#34;: map[string]interface{}{
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//			&#34;title&#34;: &#34;ç¤ºä¾‹æ–‡ç« æ ‡é¢˜&#34;,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//		},
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//	},
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">esSearchRequest</span> <span class="o">:=</span> <span class="nx">esapi</span><span class="p">.</span><span class="nx">SearchRequest</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Index</span><span class="p">:</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="nx">esIndexName</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Body</span><span class="p">:</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">NewReader</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">`{
</span></span></span><span class="line"><span class="cl"><span class="s">            &#34;query&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s">                &#34;match&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s">                    &#34;title&#34;: &#34;ç¤ºä¾‹æ–‡ç« æ ‡é¢˜&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">                }
</span></span></span><span class="line"><span class="cl"><span class="s">            }
</span></span></span><span class="line"><span class="cl"><span class="s">        }`</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">res</span><span class="p">,</span> <span class="nx">err</span> <span class="p">=</span> <span class="nx">esSearchRequest</span><span class="p">.</span><span class="nf">Do</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="nx">esClient</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">defer</span> <span class="nx">res</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// å¤„ç† Elasticsearch æŸ¥è¯¢ç»“æœ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">res</span><span class="p">.</span><span class="nf">IsError</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;Error: %s&#34;</span><span class="p">,</span> <span class="nx">res</span><span class="p">.</span><span class="nf">Status</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// è§£ææŸ¥è¯¢ç»“æœ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">response</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">json</span><span class="p">.</span><span class="nf">NewDecoder</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">Body</span><span class="p">).</span><span class="nf">Decode</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">response</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;Error parsing the response body: %s&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">hits</span> <span class="o">:=</span> <span class="nx">response</span><span class="p">[</span><span class="s">&#34;hits&#34;</span><span class="p">].(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})[</span><span class="s">&#34;hits&#34;</span><span class="p">].([]</span><span class="kd">interface</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">hit</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">hits</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">source</span> <span class="o">:=</span> <span class="nx">hit</span><span class="p">.(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})[</span><span class="s">&#34;_source&#34;</span><span class="p">].(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">		<span class="nx">title</span> <span class="o">:=</span> <span class="nx">source</span><span class="p">[</span><span class="s">&#34;title&#34;</span><span class="p">].(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">content</span> <span class="o">:=</span> <span class="nx">source</span><span class="p">[</span><span class="s">&#34;content&#34;</span><span class="p">].(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">mysqlID</span> <span class="o">:=</span> <span class="nx">source</span><span class="p">[</span><span class="s">&#34;mysql_id&#34;</span><span class="p">].(</span><span class="kt">float64</span><span class="p">)</span> <span class="c1">// ä» Elasticsearch ä¸­è·å– MySQL ID
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;æ ‡é¢˜: %så†…å®¹: %sMySQL ID: %d&#34;</span><span class="p">,</span> <span class="nx">title</span><span class="p">,</span> <span class="nx">content</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nx">mysqlID</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡ kibana æŸ¥çœ‹åˆ° es ç°åœ¨æœ‰ 2 æ¡æ•°æ®ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230913/3212ca90f6c04a96884c59ca17524f8b.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230913/3212ca90f6c04a96884c59ca17524f8b.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230913/3212ca90f6c04a96884c59ca17524f8b.png" data-sub-html="<h2>ç»“æœæ•°æ®</h2>">
        
    </a><figcaption class="image-caption">ç»“æœæ•°æ®</figcaption>
    </figure></p>
<p>åœ¨ kibana ä¸­é€šè¿‡æŸ¥è¯¢æ¥å£æœç´¢ content å†…å®¹åŒ…å« â€œç»•â€ çš„ï¼Œå±•ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230913/cd4487b3e4fd4c2f8e6e5bd830561b3e.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230913/cd4487b3e4fd4c2f8e6e5bd830561b3e.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230913/cd4487b3e4fd4c2f8e6e5bd830561b3e.png" data-sub-html="<h2>æœç´¢ç»“æ„</h2>">
        
    </a><figcaption class="image-caption">æœç´¢ç»“æ„</figcaption>
    </figure></p>
<p>æŸ¥è¯¢ content å«æœ‰ â€œ11111â€ <strong>æˆ–</strong> title ä¸­å«æœ‰ â€œæ‚¯â€ çš„æ•°æ®ç»“æœå¦‚ä¸‹ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230913/2ef161f48f494c5aa4d4b50d46860ad7.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230913/2ef161f48f494c5aa4d4b50d46860ad7.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230913/2ef161f48f494c5aa4d4b50d46860ad7.png" data-sub-html="<h2>æŸ¥è¯¢ç»“æœ</h2>">
        
    </a><figcaption class="image-caption">æŸ¥è¯¢ç»“æœ</figcaption>
    </figure></p>
<h2 id="å‚è€ƒ" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>å‚è€ƒ</h2><ul>
<li><a href="https://zhuanlan.zhihu.com/p/458011982" target="_blank" rel="noopener noreferrer">Elastic Search å…¥é—¨</a></li>
<li><a href="https://juejin.cn/post/6936487066272432142" target="_blank" rel="noopener noreferrer">Elasticsearch ä¸­ must, filter, should, must_not, constant_score çš„åŒºåˆ«</a></li>
</ul>
]]></description>
</item><item>
    <title>Docker bridge ç½‘ç»œä¸è‡ªå®šä¹‰ DNS è§£æ</title>
    <link>https://www.xiaobinqt.cn/docker-net-custom-dns/</link>
    <pubDate>Wed, 24 May 2023 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/docker-net-custom-dns/</guid>
    <description><![CDATA[<!-- authorï¼š xiaobinqt -->
<!-- emailï¼š xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="å¸¸è§-dns-è®°å½•ç±»å‹" class="headerLink">
    <a href="#%e5%b8%b8%e8%a7%81-dns-%e8%ae%b0%e5%bd%95%e7%b1%bb%e5%9e%8b" class="header-mark"></a>å¸¸è§ DNS è®°å½•ç±»å‹</h2><ul>
<li>A è®°å½•ï¼ˆAddress Recordï¼‰</li>
</ul>
<p>è®°å½•æ ¼å¼ï¼š<code>example.com. IN A 192.0.2.1</code>ï¼Œå°†åŸŸåæ˜ å°„åˆ° IPv4 åœ°å€ï¼Œä¸åŒ…å«ç«¯å£ä¿¡æ¯ã€‚</p>
<ul>
<li>AAAA è®°å½•ï¼ˆIPv6 Address Recordï¼‰</li>
</ul>
<p>è®°å½•æ ¼å¼ï¼š<code>example.com. IN AAAA 2001:db8::1</code>ï¼Œå°†åŸŸåæ˜ å°„åˆ° IPv6 åœ°å€ã€‚</p>
<ul>
<li>CNAME è®°å½•ï¼ˆCanonical Name Recordï¼‰</li>
</ul>
<p>è®°å½•æ ¼å¼ï¼š<code>www.example.com. IN CNAME example.com.</code>ï¼Œå°†ä¸€ä¸ªåŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåï¼Œå®ç°åŸŸåçš„åˆ«åæˆ–é‡å®šå‘ã€‚</p>
<ul>
<li>TXT è®°å½•ï¼ˆText Recordï¼‰</li>
</ul>
<p>è®°å½•æ ¼å¼ï¼š<code>example.com. IN TXT &quot;Some text here&quot;</code>ï¼Œå­˜å‚¨ä¸åŸŸåç›¸å…³çš„æ–‡æœ¬ä¿¡æ¯ï¼Œå¸¸ç”¨äºéªŒè¯åŸŸåæ‰€æœ‰æƒã€é˜²æ­¢ç”µå­é‚®ä»¶æ¬ºè¯ˆç­‰ã€‚</p>
<ul>
<li>SRV è®°å½•ï¼ˆService Recordï¼‰</li>
</ul>
<p>è®°å½•æ ¼å¼ï¼š<code>_service._proto.name. IN SRV priority weight port target</code>ã€‚<code>priority</code>è¡¨ç¤ºä¼˜å…ˆçº§ï¼Œç”¨äºæŒ‡å®šå¤‡ç”¨æœåŠ¡å™¨çš„é¡ºåºã€‚å€¼è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚<code>weight</code>è¡¨ç¤ºæƒé‡ï¼Œç”¨äºåœ¨å…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„è®°å½•ä¹‹é—´è¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚å€¼è¶Šå¤§ï¼Œæƒé‡è¶Šé«˜ã€‚<code>port</code>è¡¨ç¤ºæœåŠ¡çš„ç«¯å£å·ã€‚<code>target</code>è¡¨ç¤ºæä¾›è¯¥æœåŠ¡çš„ç›®æ ‡ä¸»æœºçš„åŸŸåã€‚</p>
<p>SRV ç”¨äºæŒ‡å®šç‰¹å®šæœåŠ¡çš„åŸŸåã€ç«¯å£å’Œä¼˜å…ˆçº§ç­‰ä¿¡æ¯ï¼Œå®ƒç”¨äºåœ¨ DNS ä¸­æä¾›æœåŠ¡å‘ç°çš„åŠŸèƒ½ï¼Œè®©å®¢æˆ·ç«¯èƒ½å¤Ÿé€šè¿‡åŸŸåæŸ¥æ‰¾åˆ°æä¾›ç‰¹å®šæœåŠ¡çš„ç›®æ ‡ä¸»æœºå’Œç«¯å£ã€‚</p>
<ul>
<li>PTR è®°å½•ï¼ˆPointer Recordï¼‰</li>
</ul>
<p>è®°å½•æ ¼å¼ï¼š<code>1.2.0.192.in-addr.arpa. IN PTR example.com.</code>ï¼Œç”¨äºè¿›è¡Œåå‘ DNS æŸ¥æ‰¾ï¼Œå°† IP åœ°å€è§£æä¸ºåŸŸåã€‚</p>
<blockquote>
<p>INï¼ˆè¡¨ç¤ºInternetï¼‰åœ¨ DNS è®°å½•ä¸­æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥çœç•¥ã€‚å½“çœç•¥ IN æ—¶ï¼Œé»˜è®¤ä¸º INï¼Œå› ä¸ºå¤§å¤šæ•° DNS è®°å½•éƒ½æ˜¯é’ˆå¯¹äº’è”ç½‘çš„ã€‚</p>
</blockquote>
<h2 id="resolvconf-é…ç½®æ–‡ä»¶" class="headerLink">
    <a href="#resolvconf-%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" class="header-mark"></a>resolv.conf é…ç½®æ–‡ä»¶</h2><p>resolv.conf é…ç½®æ–‡ä»¶ï¼Œå­˜å‚¨äº†ç”¨äºè§£æåŸŸåçš„ DNS æœåŠ¡å™¨çš„ç›¸å…³ä¿¡æ¯ï¼Œç”¨äºæŒ‡å®šç³»ç»Ÿçš„ DNS è§£æé…ç½®ã€‚</p>
<p>resolv.conf æ–‡ä»¶é€šå¸¸ä½äº Linux ç³»ç»Ÿä¸­çš„ /etc/resolv.confã€‚æ¯è¡ŒåŒ…å«ä¸€ä¸ªé…ç½®é¡¹ï¼Œé…ç½®é¡¹ç”±å…³é”®å­—å’Œå¯¹åº”çš„å€¼ç»„æˆï¼Œä»¥ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦åˆ†éš”ã€‚å¸¸è§çš„é…ç½®é¡¹åŒ…æ‹¬ï¼š</p>
<ul>
<li>nameserverï¼šæŒ‡å®š DNS æœåŠ¡å™¨çš„ IP åœ°å€ã€‚å¯ä»¥æœ‰å¤šä¸ª nameserver è¡Œï¼ŒæŒ‰ç…§ä¼˜å…ˆçº§ä»ä¸Šåˆ°ä¸‹è¿›è¡Œè§£æã€‚</li>
<li>searchï¼šæŒ‡å®šé»˜è®¤çš„æœç´¢åŸŸååˆ—è¡¨ã€‚å½“ä½¿ç”¨ä¸å®Œå…¨é™å®šçš„åŸŸåæ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°è¯•é™„åŠ è¿™äº›åŸŸåæ¥è¿›è¡Œè§£æã€‚</li>
<li>domainï¼šæŒ‡å®šç³»ç»Ÿçš„é»˜è®¤åŸŸåã€‚å½“ä½¿ç”¨ä¸å®Œå…¨é™å®šçš„ä¸»æœºåæ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°è¯•é™„åŠ é»˜è®¤åŸŸåæ¥è¿›è¡Œè§£æã€‚</li>
<li>optionsï¼šæŒ‡å®šå…¶ä»–çš„è§£æé€‰é¡¹ï¼Œå¦‚è¶…æ—¶æ—¶é—´ã€è½¬å‘ç­‰ã€‚</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">nameserver 8.8.8.8
</span></span><span class="line"><span class="cl">nameserver 8.8.4.4
</span></span><span class="line"><span class="cl">search example.com
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ¯”å¦‚ä»¥ä¸‹çš„è¿™ä¸ªé…ç½®</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/8b4dd5e7b70a4e17870780c2f4708751.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/8b4dd5e7b70a4e17870780c2f4708751.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/8b4dd5e7b70a4e17870780c2f4708751.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>resolv.conf</h2>">
        
    </a><figcaption class="image-caption">resolv.conf</figcaption>
    </figure></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">search xae-zcbus-20230523.28e5df10.csphere.local csphere.local
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ¡ search é…ç½®è¡¨ç¤ºç³»ç»Ÿé»˜è®¤çš„æœç´¢åŸŸååˆ—è¡¨åŒ…æ‹¬ä¸¤ä¸ªåŸŸåï¼š<code>xae-zcbus-20230523.28e5df10.csphere.local</code> å’Œ <code>csphere.local</code>ã€‚</p>
<p>å½“è¿›è¡Œ DNS è§£ææ—¶ï¼Œå¦‚æœä½¿ç”¨ä¸€ä¸ªä¸å®Œå…¨é™å®šçš„åŸŸåï¼ˆæ²¡æœ‰åŒ…å«ç‚¹å·ï¼‰ï¼Œç³»ç»Ÿä¼šæŒ‰ç…§ search é…ç½®ä¸­çš„é¡ºåºå°è¯•é€ä¸ªé™„åŠ è¿™äº›æœç´¢åŸŸåï¼Œä»¥å°è¯•è§£æåŸŸåã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦è§£æçš„åŸŸåæ˜¯ exampleï¼Œç³»ç»Ÿä¼šä¾æ¬¡å°è¯•è§£æ <code>example.xae-zcbus-20230523.28e5df10.csphere.local</code> å’Œ <code>example.csphere.local</code>ã€‚</p>
<p>è¿™æ ·é…ç½®æœç´¢åŸŸååˆ—è¡¨å¯ä»¥ç®€åŒ– DNS æŸ¥è¯¢è¿‡ç¨‹ï¼Œç‰¹åˆ«æ˜¯åœ¨æœ¬åœ°ç½‘ç»œå†…éƒ¨ä½¿ç”¨å†…éƒ¨åŸŸåæ—¶ï¼Œé€šè¿‡è®¾ç½®åˆé€‚çš„æœç´¢åŸŸåï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸å®Œå…¨é™å®šçš„ä¸»æœºåè¿›è¡Œè§£æï¼Œè€Œæ— éœ€æ¯æ¬¡éƒ½è¾“å…¥å®Œæ•´çš„åŸŸåã€‚</p>
<p>ndots å‚æ•°æ§åˆ¶ç€ç³»ç»Ÿåœ¨è¿›è¡Œ DNS è§£ææ—¶æ˜¯å¦è‡ªåŠ¨è¿½åŠ æœç´¢åŸŸåã€‚å®ƒæŒ‡å®šäº†ä¸€ä¸ªåŸŸåä¸­è‡³å°‘è¦åŒ…å«çš„ç‚¹å·<code>.</code>çš„æ•°é‡ã€‚ç‚¹å·åœ¨åŸŸåä¸­çš„æ•°é‡è¡¨ç¤ºåŸŸåçš„å±‚çº§ç»“æ„ï¼Œä¾‹å¦‚<code>example.com</code>æœ‰ä¸€ä¸ªç‚¹å·ï¼Œè€Œ<code>www.example.com</code>æœ‰ä¸¤ä¸ªç‚¹å·ã€‚å½“ä¸€ä¸ªåŸŸåçš„å±‚çº§ç»“æ„ä¸­ç‚¹å·çš„æ•°é‡è¾¾åˆ°æˆ–è¶…è¿‡ ndots å‚æ•°æŒ‡å®šçš„å€¼æ—¶ï¼Œç³»ç»Ÿå°†<strong>ä¸å†è¿½åŠ </strong>æœç´¢åŸŸåã€‚</p>
<p>å¦‚ä¸Šçš„é…ç½®<code>options ndots:2</code>ï¼Œè¡¨ç¤ºå½“è¿›è¡Œ DNS è§£ææ—¶ï¼Œå¦‚æœåŸŸåä¸­åŒ…å«è‡³å°‘ä¸¤ä¸ªç‚¹å·ï¼ˆå±‚çº§ç»“æ„è‡³å°‘ä¸ºä¸‰çº§ï¼‰ï¼Œç³»ç»Ÿå°†ä¸ä¼šè‡ªåŠ¨è¿½åŠ æœç´¢åŸŸåã€‚å¦‚æœåŸŸåçš„å±‚çº§ç»“æ„ä¸è¶³ä¸‰çº§ï¼ˆç‚¹å·å°‘äºä¸¤ä¸ªï¼‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°è¯•ä½¿ç”¨ /etc/resolv.conf ä¸­æŒ‡å®šçš„æœç´¢åŸŸååˆ—è¡¨è¿›è¡Œè§£æã€‚</p>
<p><code>nameserver 172.17.0.1</code>ç”¨äºæŒ‡å®š DNS è§£ææ—¶è¦ä½¿ç”¨çš„ DNS æœåŠ¡å™¨çš„ IP åœ°å€ã€‚è¿™é‡Œçš„<code>172.17.0.1</code>æ˜¯ Docker bridge ç½‘ç»œä¸‹è™šæ‹Ÿç½‘æ¡¥ docker0 çš„ IP åœ°å€ã€‚</p>
<p>å› ä¸ºå®¹å™¨ä¸­æ²¡æœ‰ dns è§£ææœåŠ¡ï¼Œä¸ç®¡æ˜¯ dnsmasq è¿˜æ˜¯ pdns éƒ½æ˜¯è£…åœ¨å®¿ä¸»æœºä¸Šçš„ï¼Œæ‰€ä»¥æœ€åè‚¯å®šæ˜¯åˆ°å®¿ä¸»æœºä¸Šæ¥è§£æçš„åŸŸåï¼Œä½†æ˜¯è¿™é‡Œå¦‚æœç›´æ¥å†™å®¿ä¸»æœº IP ä¼šå½±å“æ•ˆç‡ã€ŒTODO å¾…è¡¥å……ã€ã€‚</p>
<h2 id="etchosts-é…ç½®æ–‡ä»¶" class="headerLink">
    <a href="#etchosts-%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" class="header-mark"></a>/etc/hosts é…ç½®æ–‡ä»¶</h2><p>/etc/hosts æ˜¯æœ¬åœ°çš„ä¸»æœºåè§£ææ–‡ä»¶ï¼Œç”¨äºå°†ä¸»æœºåæ˜ å°„åˆ°å¯¹åº”çš„ IP åœ°å€ã€‚/etc/hosts æ–‡ä»¶åŒ…å«äº†ä¸»æœºåå’Œå¯¹åº” IP åœ°å€çš„æ˜ å°„å…³ç³»ã€‚æ¯è¡Œçš„æ ¼å¼ä¸º <code>&lt;IP åœ°å€&gt; &lt;ä¸»æœºå&gt;</code> æˆ–è€… <code>&lt;IP åœ°å€&gt; &lt;ä¸»æœºåˆ«å&gt; &lt;ä¸»æœºå&gt;</code>ã€‚</p>
<p>/etc/hosts æ–‡ä»¶ä¸­çš„æ¡ç›®ä¼˜å…ˆäº DNSï¼ˆDomain Name Systemï¼‰è§£æï¼Œå½“ç³»ç»Ÿéœ€è¦è§£æä¸»æœºåæ—¶ï¼Œä¼šé¦–å…ˆæŸ¥çœ‹ /etc/hosts æ–‡ä»¶ï¼Œå¦‚æœæ‰¾åˆ°åŒ¹é…çš„ä¸»æœºåï¼Œåˆ™ç›´æ¥ä½¿ç”¨å¯¹åº”çš„ IP åœ°å€è¿›è¡Œé€šä¿¡ï¼Œæ— éœ€è¿›è¡Œ DNS æŸ¥è¯¢ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230524/16561b7c30f74809822274beff9af838.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230524/16561b7c30f74809822274beff9af838.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230524/16561b7c30f74809822274beff9af838.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>hosts</h2>">
        
    </a><figcaption class="image-caption">hosts</figcaption>
    </figure></p>
<h2 id="pdns" class="headerLink">
    <a href="#pdns" class="header-mark"></a>PDNS</h2><p>PDNS æ˜¯ PowerDNS çš„ç®€ç§°ï¼Œå®ƒæ˜¯ä¸€æ¬¾å¼€æºçš„åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰æœåŠ¡å™¨è½¯ä»¶ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># å®‰è£… pdns</span>
</span></span><span class="line"><span class="cl">yum install pdns pdns-backend-pipe -y
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># pdns å¯åŠ¨,åœæ­¢å’ŒæŸ¥çœ‹æ˜¯å¦è¿è¡Œæ­£å¸¸</span>
</span></span><span class="line"><span class="cl">systemctl start/stop/status pdns
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230525/fa40c2fa19674bd1a29c4edd0496ff5b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230525/fa40c2fa19674bd1a29c4edd0496ff5b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230525/fa40c2fa19674bd1a29c4edd0496ff5b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>æŸ¥çœ‹ dnsmasq æ˜¯å¦æ­£å¸¸</h2>">
        
    </a><figcaption class="image-caption">æŸ¥çœ‹ dnsmasq æ˜¯å¦æ­£å¸¸</figcaption>
    </figure></p>
<p>å¦‚æœæœ‰é—®é¢˜éœ€è¦æ’æŸ¥ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è®© pdns åœ¨å‰å°è¿è¡Œ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">/usr/sbin/pdns_server --guardian<span class="o">=</span>no --daemon<span class="o">=</span>no --disable-syslog --log-timestamp<span class="o">=</span>no --write-pid<span class="o">=</span>no
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230527/fc4df6cc9be049929788893a037ccd6f.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230527/fc4df6cc9be049929788893a037ccd6f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230527/fc4df6cc9be049929788893a037ccd6f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>å‰å°è¿è¡Œæ¨¡å¼</h2>">
        
    </a><figcaption class="image-caption">å‰å°è¿è¡Œæ¨¡å¼</figcaption>
    </figure></p>
<p><code>--guardian=no</code>: ç¦ç”¨ Guardian æ¨¡å¼ã€‚Guardian æ¨¡å¼æ˜¯ PowerDNS çš„å®ˆæŠ¤è¿›ç¨‹ç®¡ç†æœºåˆ¶ï¼Œå®ƒè´Ÿè´£ç›‘æ§å’Œé‡å¯ PowerDNS è¿›ç¨‹ã€‚é€šè¿‡å°†æ­¤å‚æ•°è®¾ç½®ä¸º noï¼Œç¦ç”¨äº† Guardian æ¨¡å¼ã€‚</p>
<p><code>--daemon=no</code>: ç¦ç”¨å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒPowerDNS ä»¥å®ˆæŠ¤è¿›ç¨‹çš„å½¢å¼è¿è¡Œï¼Œå³åœ¨åå°ä½œä¸ºç³»ç»ŸæœåŠ¡è¿è¡Œã€‚é€šè¿‡å°†æ­¤å‚æ•°è®¾ç½®ä¸º noï¼ŒPowerDNS å°†åœ¨å‰å°è¿è¡Œï¼Œè¾“å‡ºæ—¥å¿—å’Œè°ƒè¯•ä¿¡æ¯åˆ°ç»ˆç«¯ã€‚</p>
<p><code>--disable-syslog</code>: ç¦ç”¨ä½¿ç”¨ç³»ç»Ÿæ—¥å¿—ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒPowerDNS ä¼šå°†æ—¥å¿—ä¿¡æ¯å†™å…¥ç³»ç»Ÿæ—¥å¿—ã€‚é€šè¿‡ä½¿ç”¨æ­¤å‚æ•°ï¼Œç¦ç”¨äº†å°†æ—¥å¿—å†™å…¥ç³»ç»Ÿæ—¥å¿—çš„åŠŸèƒ½ã€‚</p>
<p><code>--log-timestamp=no</code>: ç¦ç”¨æ—¥å¿—æ—¶é—´æˆ³ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒPowerDNS åœ¨æ—¥å¿—ä¸­æ·»åŠ æ—¶é—´æˆ³ä»¥æŒ‡ç¤ºæ¯ä¸ªæ—¥å¿—æ¡ç›®çš„æ—¶é—´ã€‚é€šè¿‡å°†æ­¤å‚æ•°è®¾ç½®ä¸º noï¼Œç¦ç”¨äº†æ—¶é—´æˆ³çš„æ·»åŠ ã€‚</p>
<p><code>--write-pid=no</code>: ç¦ç”¨å†™å…¥ PID æ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒPowerDNS ä¼šå°†å…¶è¿›ç¨‹ ID å†™å…¥ PID æ–‡ä»¶ã€‚é€šè¿‡å°†æ­¤å‚æ•°è®¾ç½®ä¸º noï¼Œç¦ç”¨äº† PID æ–‡ä»¶çš„å†™å…¥ã€‚</p>
<h3 id="pipe-backend" class="headerLink">
    <a href="#pipe-backend" class="header-mark"></a>pipe backend</h3><p>åœ¨ PowerDNS ä¸­ï¼Œpipe æ˜¯ä¸€ç§åç«¯ï¼ˆBackendï¼‰ç±»å‹ï¼Œç”¨äºå°† DNS æŸ¥è¯¢é€šè¿‡ç®¡é“ï¼ˆPipeï¼‰æ–¹å¼ä¼ é€’ç»™å¤–éƒ¨ç¨‹åºè¿›è¡Œå¤„ç†ã€‚è¿™ç§åç«¯ç±»å‹è¢«ç§°ä¸º &ldquo;pipe backend&rdquo;ã€‚</p>
<p>ä½¿ç”¨ pipe backendï¼ŒPowerDNS å¯ä»¥å°†æ¥æ”¶åˆ°çš„ DNS æŸ¥è¯¢é€šè¿‡ç®¡é“å‘é€ç»™ä¸€ä¸ªå¤–éƒ¨çš„è‡ªå®šä¹‰è„šæœ¬æˆ–ç¨‹åºï¼Œç„¶åç”±è¯¥è„šæœ¬æˆ–ç¨‹åºå¤„ç†æŸ¥è¯¢å¹¶è¿”å›ç»“æœç»™ PowerDNSã€‚è¿™ç§æ–¹å¼å…è®¸ç”¨æˆ·æ ¹æ®è‡ªå·±çš„éœ€æ±‚ç¼–å†™è‡ªå®šä¹‰é€»è¾‘æ¥å¤„ç† DNS æŸ¥è¯¢ï¼Œä»è€Œå®ç°æ›´çµæ´»çš„åŠŸèƒ½ã€‚</p>
<p>åœ¨ PowerDNS ä¸­é…ç½® pipe backend éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>
<p>ç¼–å†™è‡ªå®šä¹‰è„šæœ¬æˆ–ç¨‹åºï¼šæ ¹æ®éœ€æ±‚ï¼Œç¼–å†™ä¸€ä¸ªèƒ½å¤Ÿæ¥æ”¶ DNS æŸ¥è¯¢å¹¶è¿”å›ç»“æœçš„è„šæœ¬æˆ–ç¨‹åºã€‚è¯¥è„šæœ¬æˆ–ç¨‹åºå¯ä»¥ä½¿ç”¨ä»»ä½•ç¼–ç¨‹è¯­è¨€æ¥å®ç°ï¼Œä¾‹å¦‚ Pythonã€Perlã€Shell ç­‰ã€‚</p>
</li>
<li>
<p>é…ç½® PowerDNSï¼šåœ¨ PowerDNS çš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šä½¿ç”¨ pipe backendï¼Œå¹¶è®¾ç½®è¦æ‰§è¡Œçš„è„šæœ¬æˆ–ç¨‹åºçš„è·¯å¾„ã€‚é€šå¸¸éœ€è¦ä¿®æ”¹ PowerDNS çš„é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ pdns.confï¼‰æ¥è¿›è¡Œé…ç½®ã€‚</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nv">launch</span><span class="o">=</span>pipe
</span></span><span class="line"><span class="cl">pipe-command<span class="o">=</span>/path/to/your/script.py
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œpipe-command æŒ‡å®šäº†è‡ªå®šä¹‰è„šæœ¬æˆ–ç¨‹åºçš„è·¯å¾„ã€‚åœ¨ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åï¼Œ<strong>éœ€è¦é‡æ–°å¯åŠ¨</strong> PowerDNS æœåŠ¡ï¼Œä½¿é…ç½®ç”Ÿæ•ˆã€‚</p>
<p>å½“ PowerDNS æ¥æ”¶åˆ° DNS æŸ¥è¯¢æ—¶ï¼Œå®ƒå°†ä¼šå°†æŸ¥è¯¢æ•°æ®é€šè¿‡ç®¡é“ä¼ é€’ç»™æŒ‡å®šçš„è„šæœ¬æˆ–ç¨‹åºã€‚è„šæœ¬æˆ–ç¨‹åºå¯ä»¥å¤„ç†æŸ¥è¯¢å¹¶è¿”å›ç»“æœç»™ PowerDNSï¼Œç„¶åç”± PowerDNS å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>
<p>é€šè¿‡é…ç½® pipe backendï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ç¼–å†™è‡ªå®šä¹‰çš„é€»è¾‘æ¥å¤„ç† DNS æŸ¥è¯¢ï¼Œä¾‹å¦‚åŸºäºå¤–éƒ¨æ•°æ®æºã€è‡ªå®šä¹‰ç­–ç•¥ã€è¿‡æ»¤ç­‰æ“ä½œã€‚</p>
<h2 id="dnsmasq" class="headerLink">
    <a href="#dnsmasq" class="header-mark"></a>dnsmasq</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># å®‰è£… dnsmasq</span>
</span></span><span class="line"><span class="cl">yum install dnsmasq
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ä¸€äº›çŠ¶æ€å‘½ä»¤</span>
</span></span><span class="line"><span class="cl">systemctl start/stop/restart/status dnsmasq
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®</span>
</span></span><span class="line"><span class="cl">dnsmasq --test
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/21042ad8bf514e519d55c93d7431336d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/21042ad8bf514e519d55c93d7431336d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/21042ad8bf514e519d55c93d7431336d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>dnsmasq å‘½ä»¤</h2>">
        
    </a><figcaption class="image-caption">dnsmasq å‘½ä»¤</figcaption>
    </figure></p>
<p>Dnsmasq æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ DNS å’Œ DHCP æœåŠ¡å™¨è½¯ä»¶ï¼Œç”¨äºæä¾›æœ¬åœ°åŸŸåè§£æå’Œç½‘ç»œåœ°å€åˆ†é…åŠŸèƒ½ï¼Œé…ç½®æ–‡ä»¶é€šå¸¸ä½äº /etc/dnsmasq.confã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„é…ç½®æ–‡ä»¶å­—æ®µè¯´æ˜ï¼š</p>
<ul>
<li>
<p>portï¼ˆç«¯å£ï¼‰ï¼šæŒ‡å®š Dnsmasq ç›‘å¬çš„ DNS æŸ¥è¯¢ç«¯å£ã€‚é»˜è®¤ä¸º 53ï¼Œä½†å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ›´æ”¹ã€‚</p>
</li>
<li>
<p>cache-sizeï¼ˆç¼“å­˜å¤§å°ï¼‰ï¼šæŒ‡å®šDNSç¼“å­˜çš„æœ€å¤§å¤§å°ï¼ˆä»¥æ¡ç›®æ•°é‡è¡¨ç¤ºï¼‰ã€‚ç¼“å­˜å¯ä»¥æé«˜è§£ææ€§èƒ½ï¼Œå‡å°‘å¯¹ä¸Šæ¸¸ DNS æœåŠ¡å™¨çš„æŸ¥è¯¢æ¬¡æ•°ã€‚ä¾‹å¦‚ï¼Œcache-size=1000 è¡¨ç¤ºæœ€å¤šç¼“å­˜ 1000 æ¡ DNS è§£æè®°å½•ã€‚</p>
</li>
<li>
<p>serverï¼ˆæœåŠ¡å™¨ï¼‰ï¼šç”¨äºæŒ‡å®šè¦ä½¿ç”¨çš„ä¸Šæ¸¸ DNS æœåŠ¡å™¨ã€‚å¯ä»¥é…ç½®å¤šä¸ª server å­—æ®µï¼Œæ¯ä¸ªå­—æ®µåé¢è·Ÿéšä¸€ä¸ªæœ‰æ•ˆçš„ DNS æœåŠ¡å™¨åœ°å€ã€‚Dnsmasq ä¼šæŒ‰é¡ºåºå‘è¿™äº›æœåŠ¡å™¨å‘é€ DNS æŸ¥è¯¢è¯·æ±‚ã€‚</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nv">server</span><span class="o">=</span>8.8.8.8
</span></span><span class="line"><span class="cl"><span class="nv">server</span><span class="o">=</span>8.8.4.4
</span></span></code></pre></td></tr></table>
</div>
</div><p>server çš„å¦ä¸€ç§å†™æ³•æ˜¯ç”¨æ¥æŒ‡å®šç‰¹å®šåŸŸåçš„ DNS æœåŠ¡å™¨æ˜ å°„ã€‚æ¯”å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nv">server</span><span class="o">=</span>/domain.org/192.168.14.5
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸ªé…ç½®è¡¨ç¤ºå°†åŸŸå domain.org è§£æåˆ° IP åœ°å€ 192.168.14.5 ä¸Šã€‚å½“ Dnsmasq æ”¶åˆ°å¯¹<code>domain.org</code>åŸŸåçš„è§£æè¯·æ±‚æ—¶ï¼Œå®ƒå°†ä½¿ç”¨æŒ‡å®šçš„ IP åœ°å€ä½œä¸ºå“åº”ã€‚è¿™åœ¨æœ¬åœ°ç½‘ç»œä¸­åˆ›å»ºè‡ªå®šä¹‰çš„åŸŸåè§£æè§„åˆ™éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥ç”¨äºå†…éƒ¨åŸŸåè§£ææˆ–é‡å®šå‘ç‰¹å®šåŸŸååˆ°ç‰¹å®š IP åœ°å€ã€‚</p>
<ul>
<li>address å‚æ•°ç”¨äºæŒ‡å®šåŸŸåè§£æçš„é™æ€æ˜ å°„ï¼Œå°†ç‰¹å®šåŸŸåè§£æåˆ°æŒ‡å®šçš„IPåœ°å€ã€‚å®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nv">address</span><span class="o">=</span>/åŸŸå/IPåœ°å€
</span></span><span class="line"><span class="cl"><span class="nv">address</span><span class="o">=</span>/example.com/192.168.1.100
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸ªé…ç½®å°†åŸŸå example.com è§£æä¸º IP åœ°å€ 192.168.1.100ã€‚å½“ Dnsmasq æ¥æ”¶åˆ°å…³äº example.com çš„è§£æè¯·æ±‚æ—¶ï¼Œå®ƒå°†ä½¿ç”¨æŒ‡å®šçš„ IP åœ°å€è¿›è¡Œè§£æï¼Œè€Œä¸ä¼šå‘ä¸Šæ¸¸ DNS æœåŠ¡å™¨å‘é€æŸ¥è¯¢è¯·æ±‚ã€‚</p>
<h2 id="æ¼”ç»ƒ" class="headerLink">
    <a href="#%e6%bc%94%e7%bb%83" class="header-mark"></a>æ¼”ç»ƒ</h2><p>ç°åœ¨æœ‰ 2 å°æœºå™¨ï¼Œåˆ†åˆ«æ˜¯<code>192.168.14.103</code>ç”¨æ¥åšæ§åˆ¶å™¨ï¼Œå®‰è£…æœ‰ powerDNSï¼Œä½œä¸ºä¸Šæ¸¸ DNSï¼Œç”¨æ¥æœ€åè§£æ DNSï¼Œ<code>192.168.14.100</code>ç”¨æ¥åš agentï¼Œå®‰è£…æœ‰ dnsmasq è§£ææœ¬åœ° DNSï¼Œé€šè¿‡é…ç½® server å‚æ•°ï¼Œå°†åŸŸåäº¤ç»™ä¸Šæ¸¸ DNS æœåŠ¡å™¨è§£æï¼Œä¹Ÿå°±æ˜¯äº¤ç»™<code>192.168.14.103</code>è§£æå¤„ç†ã€‚ pdns é€šè¿‡ pipe backend çš„ python è„šæœ¬ï¼Œå¯¹æ‰€æœ‰çš„ä»¥<code>domain.org</code>ç»“å°¾çš„åŸŸåè¯·æ±‚éƒ½è¿”å›<code>192.168.40.223</code>çš„ IPï¼Œä»¥ä¸‹æ˜¯ backend.py çš„ python è„šæœ¬ï¼Œpython ç‰ˆæœ¬æ˜¯ python 3.6.8ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="ch">#!/usr/bin/env python</span>
</span></span><span class="line"><span class="cl"><span class="c1"># -*- coding: utf-8 -*-</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">random</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">sys</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">DNSLookup</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Handle PowerDNS pipe-backend domain name lookups.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">ttl</span> <span class="o">=</span> <span class="mi">30</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;parse DNS query and produce lookup result.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">        query: a sequence containing the DNS query as per PowerDNS manual appendix A:
</span></span></span><span class="line"><span class="cl"><span class="s2">        http://downloads.powerdns.com/documentation/html/backends-detail.html#PIPEBACKEND-PROTOCOL
</span></span></span><span class="line"><span class="cl"><span class="s2">        &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="n">_type</span><span class="p">,</span> <span class="n">qname</span><span class="p">,</span> <span class="n">qclass</span><span class="p">,</span> <span class="n">qtype</span><span class="p">,</span> <span class="n">_id</span><span class="p">,</span> <span class="n">ip</span><span class="p">)</span> <span class="o">=</span> <span class="n">query</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">has_result</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># has a DNS query response</span>
</span></span><span class="line"><span class="cl">        <span class="n">qname_lower</span> <span class="o">=</span> <span class="n">qname</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;List of servers to round-robin&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">servers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;192.168.40.223&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">server</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">servers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># if (qtype == &#39;A&#39; or qtype == &#39;ANY&#39;) and qname_lower.endswith(&#39;domain.org&#39;):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">qtype</span> <span class="o">==</span> <span class="s1">&#39;ANY&#39;</span> <span class="ow">and</span> <span class="n">qname_lower</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;domain.org&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;DATA</span><span class="se">\t</span><span class="si">%s</span><span class="se">\t</span><span class="si">%s</span><span class="se">\t</span><span class="s1">A</span><span class="se">\t</span><span class="si">%d</span><span class="se">\t</span><span class="s1">-1</span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">qname</span><span class="p">,</span> <span class="n">qclass</span><span class="p">,</span> <span class="n">DNSLookup</span><span class="o">.</span><span class="n">ttl</span><span class="p">,</span> <span class="n">server</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">has_result</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="k">elif</span> <span class="n">qtype</span> <span class="o">==</span> <span class="s1">&#39;SOA&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;DATA</span><span class="se">\t</span><span class="si">%s</span><span class="se">\t</span><span class="si">%s</span><span class="se">\t</span><span class="si">%s</span><span class="se">\t</span><span class="s1">3600</span><span class="se">\t</span><span class="s1">-1</span><span class="se">\t</span><span class="s1">ns1.test.soa</span><span class="se">\t</span><span class="s1">admin.test.soa</span><span class="se">\t</span><span class="s1">2014032110</span><span class="se">\t</span><span class="s1">10800</span><span class="se">\t</span><span class="s1">3600</span><span class="se">\t</span><span class="s1">604800</span><span class="se">\t</span><span class="s1">3600&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="o">%</span> <span class="p">(</span><span class="n">qname</span><span class="p">,</span> <span class="n">qclass</span><span class="p">,</span> <span class="n">qtype</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">has_result</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">str_result</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;return string result suitable for pipe-backend output to PowerDNS.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_result</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Logger</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">logfile</span> <span class="o">=</span> <span class="s1">&#39;/tmp/backend.log&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;self.logfile = &#39;/tmp/backend-</span><span class="si">%d</span><span class="s2">.log&#39; % pid&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">logline</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">|</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">(),</span> <span class="n">msg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logfile</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">logline</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">debug_log</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">logger</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">PowerDNSbackend</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;The main PowerDNS pipe backend process.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filein</span><span class="p">,</span> <span class="n">fileout</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;initialise and run PowerDNS pipe backend process.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">filein</span> <span class="o">=</span> <span class="n">filein</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">fileout</span> <span class="o">=</span> <span class="n">fileout</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_process_requests</span><span class="p">()</span>  <span class="c1"># main program loop</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_process_requests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;main program loop&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">first_time</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">rawline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filein</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">rawline</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">debug_log</span><span class="p">(</span><span class="s1">&#39;EOF&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span>  <span class="c1"># EOF detected</span>
</span></span><span class="line"><span class="cl">            <span class="n">line</span> <span class="o">=</span> <span class="n">rawline</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">debug_log</span><span class="p">(</span><span class="s1">&#39;received from pdns:</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">line</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">first_time</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s1">&#39;HELO</span><span class="se">\t</span><span class="s1">1&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="bp">self</span><span class="o">.</span><span class="n">_fprint</span><span class="p">(</span><span class="s1">&#39;OK</span><span class="se">\t</span><span class="s1">Python backend firing up&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="bp">self</span><span class="o">.</span><span class="n">_fprint</span><span class="p">(</span><span class="s1">&#39;FAIL&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="n">debug_log</span><span class="p">(</span><span class="s1">&#39;HELO input not received - execution aborted&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="n">rawline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filein</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>  <span class="c1"># as per docs - read another line before aborting</span>
</span></span><span class="line"><span class="cl">                    <span class="n">debug_log</span><span class="p">(</span><span class="s1">&#39;calling sys.exit()&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">first_time</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">query</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">query</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">6</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="bp">self</span><span class="o">.</span><span class="n">_fprint</span><span class="p">(</span><span class="s1">&#39;LOG</span><span class="se">\t</span><span class="s1">PowerDNS sent unparseable line&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="bp">self</span><span class="o">.</span><span class="n">_fprint</span><span class="p">(</span><span class="s1">&#39;FAIL&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">debug_log</span><span class="p">(</span><span class="s1">&#39;Performing DNSLookup(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="nb">repr</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                    <span class="n">lookup</span> <span class="o">=</span> <span class="n">DNSLookup</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">lookup</span><span class="o">.</span><span class="n">has_result</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">pdns_result</span> <span class="o">=</span> <span class="n">lookup</span><span class="o">.</span><span class="n">str_result</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                        <span class="bp">self</span><span class="o">.</span><span class="n">_fprint</span><span class="p">(</span><span class="n">pdns_result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                        <span class="n">debug_log</span><span class="p">(</span><span class="s1">&#39;DNSLookup result(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">pdns_result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="bp">self</span><span class="o">.</span><span class="n">_fprint</span><span class="p">(</span><span class="s1">&#39;END&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_fprint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Print the given message with newline and flushing.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">fileout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">message</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">fileout</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">debug_log</span><span class="p">(</span><span class="s1">&#39;sent to pdns:</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">message</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">logger</span> <span class="o">=</span> <span class="n">Logger</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">infile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># sys.stdout.close()</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># outfile = os.fdopen(1, &#39;w&#39;, 1)</span>
</span></span><span class="line"><span class="cl">    <span class="n">outfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">PowerDNSbackend</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">debug_log</span><span class="p">(</span><span class="s1">&#39;execution failure:&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/a1a644dcf7bb425e9cd4eb4606c554a9.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/a1a644dcf7bb425e9cd4eb4606c554a9.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/a1a644dcf7bb425e9cd4eb4606c554a9.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>pipe backend</h2>">
        
    </a><figcaption class="image-caption">pipe backend</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/761e93174f9d4763be59cef6711c3fe0.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/761e93174f9d4763be59cef6711c3fe0.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/761e93174f9d4763be59cef6711c3fe0.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>dig è§£ææ­£å¸¸</h2>">
        
    </a><figcaption class="image-caption">dig è§£ææ­£å¸¸</figcaption>
    </figure></p>
<p>ç°åœ¨åœ¨ agent æœºå™¨ä¹Ÿå°±æ˜¯<code>192.168.14.100</code>ä¸Šé€šè¿‡ <a href="https://hub.docker.com/r/xiaobinqt/redis/tags" target="_blank" rel="noopener noreferrer">xiaobinqt/redis:7-ping</a> é•œåƒå¯åŠ¨ä¸€ä¸ª redis å®¹å™¨ï¼Œå®¹å™¨åä¸º c-redisï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-docker" data-lang="docker"><span class="line"><span class="cl">docker run --name c-redis --dns 172.17.0.1 --dns-search domain.org --dns-opt <span class="s2">&#34;ndots:2&#34;</span> -d  xiaobinqt/redis:7-ping<span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æ¯”å¦‚ï¼Œå½“åœ¨å®¹å™¨ä¸­æ‰§è¡Œ <code>ping abdd</code>æ—¶ï¼Œæ­£å¸¸ä¼šå…ˆèµ° hosts ä½†æ˜¯è¿™é‡Œçš„ hosts éƒ½æ²¡æœ‰å¯¹åº”çš„åŸŸåï¼Œæ‰€ä»¥ hosts å¤±æ•ˆï¼Œå†å» nameserver æŒ‡å®šçš„ DNS æœåŠ¡å™¨è§£æåŸŸåï¼Œç”±äºé…ç½®äº† ndots:2 ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿½åŠ æœç´¢åŸŸå<code>domain.org</code>ï¼Œæ‰€ä»¥ä¼šå» 172.17.0.1 DNS æœåŠ¡å™¨æœç´¢åŸŸå <code>abdd.domain.org</code>ï¼Œ172.17.0.1 å¯¹åº”çš„æ˜¯å®¿ä¸»æœºçš„ docker0 è™šæ‹Ÿç½‘æ¡¥ï¼Œæœ€åä¼šèµ°åˆ°<strong>å®¿ä¸»æœºçš„ dns æœåŠ¡</strong>ï¼Œä¹Ÿå°±æ˜¯<code>192.168.14.100</code> çš„ dnsmasq æœåŠ¡ï¼Œå¯¹åº”çš„ç«¯å£æ˜¯ 53ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/ae90a8281d72406ca0bf831fc375f36c.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/ae90a8281d72406ca0bf831fc375f36c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230529/ae90a8281d72406ca0bf831fc375f36c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>è°ƒè¯•ç»“æœ</h2>">
        
    </a><figcaption class="image-caption">è°ƒè¯•ç»“æœ</figcaption>
    </figure></p>
<h2 id="å‚è€ƒ" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>å‚è€ƒ</h2><ul>
<li><a href="https://gist.github.com/sokratisg/10069682" target="_blank" rel="noopener noreferrer">pdns-pipebackend.py</a></li>
<li><a href="https://www.linuxhelp.com/questions/powerdns-libpipebackend-so-no-such-file-or-directory" target="_blank" rel="noopener noreferrer">PowerDNS : libpipebackend.so no such file or directory</a></li>
<li><a href="https://community.zextras.com/dns-server-installation-guide-on-centos-7-rhel-7-and-centos-8-rhel-8-using-dnsmasq/" target="_blank" rel="noopener noreferrer">Installing DNS Server on CentOS/RHEL using dnsmasq | Zimbra</a></li>
</ul>
]]></description>
</item><item>
    <title>SSH error: permissions are too open</title>
    <link>https://www.xiaobinqt.cn/ssh-permissions-are-too-open/</link>
    <pubDate>Sat, 25 Mar 2023 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/ssh-permissions-are-too-open/</guid>
    <description><![CDATA[<h2 id="é—®é¢˜æè¿°" class="headerLink">
    <a href="#%e9%97%ae%e9%a2%98%e6%8f%8f%e8%bf%b0" class="header-mark"></a>é—®é¢˜æè¿°</h2><p>æˆ‘çš„ git ç‰ˆæœ¬åœ¨ 1.8.3.1 çš„æ—¶å€™æäº¤ push ä»£ç æ—¶ä¸€ç›´æŠ¥é”™</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/66823aa8269d4341837ac1a2ecd69735.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/66823aa8269d4341837ac1a2ecd69735.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/66823aa8269d4341837ac1a2ecd69735.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>git ç‰ˆæœ¬</h2>">
        
    </a><figcaption class="image-caption">git ç‰ˆæœ¬</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/934bd49f1f9449ed9a22606e0c19f64d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/934bd49f1f9449ed9a22606e0c19f64d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/934bd49f1f9449ed9a22606e0c19f64d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Permission denied (publickey)</h2>">
        
    </a><figcaption class="image-caption">Permission denied (publickey)</figcaption>
    </figure></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Permission denied <span class="o">(</span>publickey<span class="o">)</span>.
</span></span><span class="line"><span class="cl">fatal: Could not <span class="nb">read</span> from remote repository.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Please make sure you have the correct access rights
</span></span><span class="line"><span class="cl">and the repository exists.
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ’æŸ¥äº†å‡ ä¸ªå°æ—¶ï¼Œä¸€ç›´æ²¡è§£å†³ï¼Œä¹‹å‰ä¹Ÿä¸€ç›´æ˜¯è¿™ä¹ˆç”¨çš„ï¼Œä¹Ÿæ²¡å‡ºç°è¿‡é—®é¢˜ã€‚åæ¥æ²¡åŠæ³•ï¼Œæˆ‘å°è¯•æ›´æ–°äº†ä¸‹ git ç‰ˆæœ¬åˆ° 2.39.2ï¼Œå‘ç°é”™è¯¯æç¤ºä¸ä¸€æ ·äº†ğŸ˜¢</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/f4a5ce70fd7146d982ff72b70ec5098a.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/f4a5ce70fd7146d982ff72b70ec5098a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/f4a5ce70fd7146d982ff72b70ec5098a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Permissions are too open</h2>">
        
    </a><figcaption class="image-caption">Permissions are too open</figcaption>
    </figure></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Warning: Permanently added <span class="s1">&#39;192.168.40.233&#39;</span> <span class="o">(</span>ECDSA<span class="o">)</span> to the list of known hosts.
</span></span><span class="line"><span class="cl">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
</span></span><span class="line"><span class="cl">@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
</span></span><span class="line"><span class="cl">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
</span></span><span class="line"><span class="cl">Permissions <span class="m">0755</span> <span class="k">for</span> <span class="s1">&#39;/tmp/tmp.LGAlGyMvNs/id_rsa&#39;</span> are too open.
</span></span><span class="line"><span class="cl">It is required that your private key files are NOT accessible by others.
</span></span><span class="line"><span class="cl">This private key will be ignored.
</span></span><span class="line"><span class="cl">Load key <span class="s2">&#34;/tmp/tmp.LGAlGyMvNs/id_rsa&#34;</span>: bad permissions
</span></span><span class="line"><span class="cl">Permission denied <span class="o">(</span>publickey<span class="o">)</span>.
</span></span><span class="line"><span class="cl">è‡´å‘½é”™è¯¯ï¼šæ— æ³•è¯»å–è¿œç¨‹ä»“åº“ã€‚
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">è¯·ç¡®è®¤æ‚¨æœ‰æ­£ç¡®çš„è®¿é—®æƒé™å¹¶ä¸”ä»“åº“å­˜åœ¨ã€‚
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘æ ¹æ®<code>Permissions 0755 for '/tmp/tmp.LGAlGyMvNs/id_rsa' are too open.</code> google äº†ä¸‹ï¼ŒåŸæ¥æ˜¯ isa æ–‡ä»¶æƒé™ç»™çš„å¤ªé«˜äº†ï¼Œæ”¹æˆ 400 æˆ–æ˜¯ 600 å°±å¯ä»¥äº†ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/283ea804c9de4b1dbe456b4e8915182f.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/283ea804c9de4b1dbe456b4e8915182f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/283ea804c9de4b1dbe456b4e8915182f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>é—®é¢˜è§£å†³</h2>">
        
    </a><figcaption class="image-caption">é—®é¢˜è§£å†³</figcaption>
    </figure></p>
<h2 id="å‚è€ƒ" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>å‚è€ƒ</h2><ul>
<li><a href="https://www.educative.io/answers/ssh-error-permissions-are-too-open" target="_blank" rel="noopener noreferrer">SSH error: permissions are too open</a></li>
<li><a href="https://juejin.cn/post/7071910670056292389" target="_blank" rel="noopener noreferrer">CentOS 7 å‡çº§ git ç‰ˆæœ¬åˆ° 2.x</a></li>
</ul>
]]></description>
</item><item>
    <title>Windows 10 ä¸“ä¸šç‰ˆä½¿ç”¨ WSL</title>
    <link>https://www.xiaobinqt.cn/windows-wsl/</link>
    <pubDate>Wed, 22 Feb 2023 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/windows-wsl/</guid>
    <description><![CDATA[<!-- authorï¼š xiaobinqt -->
<!-- emailï¼š xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="ä»€ä¹ˆæ˜¯-wsl" class="headerLink">
    <a href="#%e4%bb%80%e4%b9%88%e6%98%af-wsl" class="header-mark"></a>ä»€ä¹ˆæ˜¯ wsl</h2><p>Windows Subsystem for Linuxï¼ˆWSLï¼‰æ˜¯ä¸€ä¸ªåœ¨ Windows 10+ ä¸Šèƒ½å¤Ÿè¿è¡ŒåŸç”Ÿ Linux äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶çš„å…¼å®¹å±‚ã€‚</p>
<p>ä¸ WSL1 ç›¸æ¯”ï¼ŒWSL 2 ä½¿ç”¨æ›´æ–°ã€æ›´å¼ºå¤§çš„è™šæ‹ŸåŒ–æŠ€æœ¯åœ¨è½»é‡çº§å®ç”¨å·¥å…·è™šæ‹Ÿæœº (VM) ä¸­è¿è¡Œ Linux å†…æ ¸ã€‚</p>
<h2 id="å®‰è£…" class="headerLink">
    <a href="#%e5%ae%89%e8%a3%85" class="header-mark"></a>å®‰è£…</h2><p>æˆ‘æ˜¯ win10 ä¸“ä¸šç‰ˆï¼Œå…¶ä»–ç‰ˆæœ¬çš„ win10 ä¹Ÿç±»ä¼¼ï¼Œä¸è¿‡<strong>æ¨èä½¿ç”¨ä¸“ä¸šç‰ˆ</strong>ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230320/a15dfa3e82854382859261a104cd8f3c.png" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230320/a15dfa3e82854382859261a104cd8f3c.png" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230320/a15dfa3e82854382859261a104cd8f3c.png" data-sub-html="<h2>ç”µè„‘ç‰ˆæœ¬</h2>">
        
    </a><figcaption class="image-caption">ç”µè„‘ç‰ˆæœ¬</figcaption>
    </figure></p>
<ol>
<li>è¿›å…¥ windows ç»ˆç«¯</li>
<li><code>wsl -l -o</code>æŸ¥çœ‹å¯å®‰è£…çš„å‘è¡Œç‰ˆ</li>
<li>æ‰§è¡Œ<code>wsl --set-default-version 2</code>å°† WSL é»˜è®¤ç‰ˆæœ¬è°ƒæ•´ä¸º WSL2</li>
<li><code>wsl --install --d NAME</code>å³å¯å®‰è£…ã€‚å¦‚ï¼š <code>wsl --install --d ubuntu-20.04</code>å¯å®‰è£… ubuntu20.04</li>
<li><code>wsl -l -v</code>å¯æŸ¥çœ‹å®‰è£…çš„å‘è¡Œç‰ˆçš„ WSL ç‰ˆæœ¬</li>
</ol>
<p>æ³¨é”€ï¼ˆå¸è½½ï¼‰å½“å‰å®‰è£…çš„ Linux çš„ Windows å­ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wsl --unregister åç§°
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230320/0808f63a623d4c44aa9971e854b7f2e5.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230320/0808f63a623d4c44aa9971e854b7f2e5.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230320/0808f63a623d4c44aa9971e854b7f2e5.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>å¸è½½ wsl</h2>">
        
    </a><figcaption class="image-caption">å¸è½½ wsl</figcaption>
    </figure></p>
<p>å¯¹äºå·²å®‰è£…çš„ wsl ç‰ˆæœ¬ï¼Œä» wsl1 åˆ‡æ¢åˆ° wsl2 å¯ä»¥ä½¿ç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wsl --set-version åç§° <span class="m">2</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230222/38eff9e474cc40b0a43068cec25fe08a.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230222/38eff9e474cc40b0a43068cec25fe08a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230222/38eff9e474cc40b0a43068cec25fe08a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>åˆ‡æ¢ wsl2</h2>">
        
    </a><figcaption class="image-caption">åˆ‡æ¢ wsl2</figcaption>
    </figure></p>
<h2 id="no_proxy-è®¾ç½®" class="headerLink">
    <a href="#no_proxy-%e8%ae%be%e7%bd%ae" class="header-mark"></a>no_proxy è®¾ç½®</h2><p>win10 çš„ no_proxy å¯ä»¥ç›´æ¥æ·»åŠ ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/64a916b5dc924109aef92251094661d3.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/64a916b5dc924109aef92251094661d3.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/64a916b5dc924109aef92251094661d3.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>win10 no_proxy</h2>">
        
    </a><figcaption class="image-caption">win10 no_proxy</figcaption>
    </figure></p>
<p>WSL no_proxy ä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ ç¯å¢ƒå˜é‡æ–¹å¼ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/f562263377664765a1d56204777d5168.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/f562263377664765a1d56204777d5168.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/f562263377664765a1d56204777d5168.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>wsl no_proxy</h2>">
        
    </a><figcaption class="image-caption">wsl no_proxy</figcaption>
    </figure></p>
<h2 id="å‚è€ƒ" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>å‚è€ƒ</h2><ul>
<li><a href="https://learn.microsoft.com/zh-cn/windows/wsl/basic-commands" target="_blank" rel="noopener noreferrer">WSL çš„åŸºæœ¬å‘½ä»¤</a></li>
<li><a href="https://www.sysgeek.cn/windows-11-install-windows-subsystem-for-linux/" target="_blank" rel="noopener noreferrer">å¦‚ä½•åœ¨ Windows 11 ä¸­å®‰è£… Windows Subsystem for Linuxï¼ˆWSLï¼‰</a></li>
<li><a href="https://gist.github.com/libChan/3a804a46b532cc326a2ee55b27e8ac19" target="_blank" rel="noopener noreferrer">windows clash è®¾ç½®ä»£ç†</a></li>
<li><a href="https://blog.csdn.net/SHERLOCKSALVATORE/article/details/123599042" target="_blank" rel="noopener noreferrer">windows çš„cmdè®¾ç½®ä»£ç†æ–¹æ³•</a></li>
<li><a href="https://www.jianshu.com/p/6e7488440db2" target="_blank" rel="noopener noreferrer">Windows 10/11 å®‰è£… WSL2 çš„ç®€å•æ–¹æ³•</a></li>
<li><a href="https://blog.csdn.net/admans/article/details/125071913" target="_blank" rel="noopener noreferrer">Win11å¸è½½WSLï¼Œå¸è½½Windowså­ç³»ç»Ÿ</a></li>
</ul>
]]></description>
</item><item>
    <title>curl: (60) Peer&#39;s Certificate has expired é—®é¢˜è§£å†³</title>
    <link>https://www.xiaobinqt.cn/curl-ertificate-has-expired/</link>
    <pubDate>Tue, 17 Jan 2023 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/curl-ertificate-has-expired/</guid>
    <description><![CDATA[<!-- authorï¼š xiaobinqt -->
<!-- emailï¼š xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<p>åˆšæ‰§è¡Œ curl å‘½ä»¤æ—¶å‘ç°ä¸€ä¸ªé—®é¢˜</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/51b67e1e9f9847d096a86fe7f7ff27e3.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/51b67e1e9f9847d096a86fe7f7ff27e3.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/51b67e1e9f9847d096a86fe7f7ff27e3.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Certificate has expired</h2>">
        
    </a><figcaption class="image-caption">Certificate has expired</figcaption>
    </figure></p>
<p>å¯ä»¥å…ˆæ›´æ–°è¯ä¹¦è¯•è¯•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">update-ca-trust
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ›´æ–°è¯ä¹¦åå¦‚æœé—®é¢˜æ²¡æœ‰è§£å†³ï¼Œç»§ç»­çœ‹æ˜¯ä¸æ˜¯ç”±äºæ—¶é—´è¿‡æœŸå¼•èµ·çš„é—®é¢˜</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">date
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœå‘ç°æœºå™¨æ—¶é—´ä¸å¯¹å°±éœ€è¦åŒæ­¥æ—¶é—´</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ntpdate pool.ntp.org
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/b4ce330953b840b4a1d63c1380beb688.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/b4ce330953b840b4a1d63c1380beb688.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/b4ce330953b840b4a1d63c1380beb688.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>é—®é¢˜è§£å†³</h2>">
        
    </a><figcaption class="image-caption">é—®é¢˜è§£å†³</figcaption>
    </figure></p>
]]></description>
</item><item>
    <title>minikube å®‰è£…ä½¿ç”¨</title>
    <link>https://www.xiaobinqt.cn/minikube-usage/</link>
    <pubDate>Sat, 31 Dec 2022 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/minikube-usage/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230128/3cce82b4c8ec479aa27d81f4d0388055.png" referrerpolicy="no-referrer">
            </div><!-- authorï¼š xiaobinqt -->
<!-- emailï¼š xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="ç®€ä»‹" class="headerLink">
    <a href="#%e7%ae%80%e4%bb%8b" class="header-mark"></a>ç®€ä»‹</h2><p>Kubernetes æ˜¯ä¸€ä¸ªç”Ÿäº§çº§åˆ«çš„å®¹å™¨ç¼–æ’å¹³å°å’Œé›†ç¾¤ç®¡ç†ç³»ç»Ÿï¼Œä¸ä»…èƒ½å¤Ÿåˆ›å»ºã€è°ƒåº¦å®¹å™¨ï¼Œè¿˜èƒ½å¤Ÿç›‘æ§ã€ç®¡ç†æœåŠ¡å™¨ï¼Œå®ƒå‡èšäº† Google ç­‰å¤§å…¬å¸å’Œå¼€æºç¤¾åŒºçš„é›†ä½“æ™ºæ…§ï¼Œä»è€Œè®©ä¸­å°å‹å…¬å¸ä¹Ÿå¯ä»¥å…·å¤‡è½»æ¾è¿ç»´æµ·é‡è®¡ç®—èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ â€œäº‘è®¡ç®—â€ çš„èƒ½åŠ›ã€‚</p>
<p>minikube æ˜¯ä¸€ä¸ª â€œè¿·ä½ â€ ç‰ˆæœ¬çš„ Kubernetesï¼Œè‡ªä» 2016 å¹´å‘å¸ƒä»¥æ¥ä¸€ç›´åœ¨ç§¯æåœ°å¼€å‘ç»´æŠ¤ï¼Œç´§è·Ÿ Kubernetes çš„ç‰ˆæœ¬æ›´æ–°ï¼ŒåŒæ—¶ä¹Ÿå…¼å®¹è¾ƒæ—§çš„ç‰ˆæœ¬ï¼ˆæœ€å¤šå¯ä»¥åˆ°ä¹‹å‰çš„ 6 ä¸ªå°ç‰ˆæœ¬ï¼‰ã€‚</p>
<p>minikube æœ€å¤§ç‰¹ç‚¹å°±æ˜¯ â€œå°è€Œç¾â€ï¼Œå¯æ‰§è¡Œæ–‡ä»¶ä»…æœ‰ä¸åˆ° 100MBï¼Œè¿è¡Œé•œåƒä¹Ÿä¸è¿‡ 1GBã€‚minikube é›†æˆäº† Kubernetes çš„ç»å¤§å¤šæ•°åŠŸèƒ½ç‰¹æ€§ï¼Œä¸ä»…æœ‰æ ¸å¿ƒçš„å®¹å™¨ç¼–æ’åŠŸèƒ½ï¼Œè¿˜æœ‰ä¸°å¯Œçš„æ’ä»¶ï¼Œä¾‹å¦‚ Dashboardã€GPUã€Ingressã€Istioã€Kongã€Registry ç­‰ã€‚</p>
<h2 id="å®‰è£…-docker" class="headerLink">
    <a href="#%e5%ae%89%e8%a3%85-docker" class="header-mark"></a>å®‰è£… Docker</h2><p>æˆ‘çš„ç³»ç»Ÿæ˜¯ debian 11ï¼Œ<strong>æœ¬æ–‡æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åœ¨ debian 11 çš„ç¯å¢ƒä¸‹è¿›è¡Œ</strong>ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/1ce3091edf2d4b63933d4d5d7938fd5c.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="ç³»ç»Ÿç‰ˆæœ¬" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/1ce3091edf2d4b63933d4d5d7938fd5c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>ç³»ç»Ÿç‰ˆæœ¬</h2><p>ç³»ç»Ÿç‰ˆæœ¬</p>">
        
    </a><figcaption class="image-caption">ç³»ç»Ÿç‰ˆæœ¬</figcaption>
    </figure></p>
<p>Docker çš„å®‰è£…å¯ä»¥å‚è€ƒå®˜ç½‘ <a href="https://docs.docker.com/engine/install/debian/" target="_blank" rel="noopener noreferrer">Install Docker Engine on Debian</a>ï¼Œå…¶ä»–ç³»ç»Ÿçš„å®‰è£…æ–¹å¼éƒ½å¯ä»¥åœ¨å®˜ç½‘æ‰¾åˆ°ã€‚debian 11 çš„å®‰è£…æ­¥éª¤å¤§è‡´å¦‚ä¸‹ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">apt-get remove docker docker-engine docker.io containerd runc <span class="c1"># å¸è½½æ—§ç‰ˆæœ¬</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">apt-get update
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">apt-get install <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  ca-certificates <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  curl <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  gnupg <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  lsb-release
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">mkdir -p /etc/apt/keyrings
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -fsSL https://download.docker.com/linux/debian/gpg <span class="p">|</span> gpg --dearmor -o /etc/apt/keyrings/docker.gpg
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="s2">&#34;deb [arch=</span><span class="k">$(</span>dpkg --print-architecture<span class="k">)</span><span class="s2"> signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \
</span></span></span><span class="line"><span class="cl"><span class="s2">  </span><span class="k">$(</span>lsb_release -cs<span class="k">)</span><span class="s2"> stable&#34;</span> <span class="p">|</span> tee /etc/apt/sources.list.d/docker.list &gt;/dev/null
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å®‰è£…-minikube" class="headerLink">
    <a href="#%e5%ae%89%e8%a3%85-minikube" class="header-mark"></a>å®‰è£… minikube</h2><p>å¯ä»¥å»å®˜ç½‘ <a href="https://minikube.sigs.k8s.io/docs/start/" target="_blank" rel="noopener noreferrer">https://minikube.sigs.k8s.io/docs/start/</a> ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/a7572d5e517e45758a4822e28602502b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="ä¸‹è½½" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/a7572d5e517e45758a4822e28602502b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>ä¸‹è½½åœ°å€</h2><p>ä¸‹è½½</p>">
        
    </a><figcaption class="image-caption">ä¸‹è½½åœ°å€</figcaption>
    </figure></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">install minikube-linux-amd64 /usr/local/bin/minikube
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/e285a6927b944c0296c175a192f143d7.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="ä¸‹è½½å¹¶å®‰è£…" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/e285a6927b944c0296c175a192f143d7.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>ä¸‹è½½å¹¶å®‰è£… minikube</h2><p>ä¸‹è½½å¹¶å®‰è£…</p>">
        
    </a><figcaption class="image-caption">ä¸‹è½½å¹¶å®‰è£… minikube</figcaption>
    </figure></p>
<h2 id="å®‰è£…-kubectl" class="headerLink">
    <a href="#%e5%ae%89%e8%a3%85-kubectl" class="header-mark"></a>å®‰è£… kubectl</h2><p>minikube åªèƒ½å¤Ÿæ­å»º Kubernetes ç¯å¢ƒï¼Œè¦æ“ä½œ Kubernetesï¼Œè¿˜éœ€è¦å¦ä¸€ä¸ªä¸“é—¨çš„å®¢æˆ·ç«¯å·¥å…· kubectlã€‚</p>
<p>kubectl æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡å®ƒå¯ä»¥ä¸ Kubernetes åå°æœåŠ¡é€šä¿¡ï¼ŒæŠŠæˆ‘ä»¬çš„å‘½ä»¤è½¬å‘ç»™ Kubernetesï¼Œå®ç°å®¹å™¨å’Œé›†ç¾¤çš„ç®¡ç†åŠŸèƒ½ã€‚</p>
<p>kubectl æ˜¯ä¸€ä¸ªä¸ Kubernetesã€minikube å½¼æ­¤ç‹¬ç«‹çš„é¡¹ç›®ï¼Œä¸åŒ…å«åœ¨ minikube é‡Œï¼Œä½† minikube æä¾›äº†å®‰è£…å®ƒçš„ç®€åŒ–æ–¹å¼ï¼Œåªéœ€æ‰§è¡Œä¸‹é¢çš„è¿™æ¡å‘½ä»¤ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">minikube kubectl
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/ae06b019feba415092522d5887a34c0b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="ä¸‹è½½ kubectl" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/ae06b019feba415092522d5887a34c0b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>ä¸‹è½½ kubectl</h2><p>ä¸‹è½½ kubectl</p>">
        
    </a><figcaption class="image-caption">ä¸‹è½½ kubectl</figcaption>
    </figure></p>
<p>ä»¥ä¸Šè¿™æ¡å‘½ä»¤ä¼šæŠŠä¸å½“å‰ Kubernetes ç‰ˆæœ¬åŒ¹é…çš„ kubectl ä¸‹è½½ä¸‹æ¥ï¼Œå­˜æ”¾åœ¨å†…éƒ¨ç›®å½•ï¼ˆä¾‹å¦‚<code>.minikube/cache/linux/amd64/v1.23.3</code>ï¼‰ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨å®ƒæ¥æ“ä½œ Kubernetes äº†ã€‚</p>
<p>åœ¨ minikube ç¯å¢ƒé‡Œä¼šç”¨åˆ°ä¸¤ä¸ªå®¢æˆ·ç«¯ï¼Œminikube ç®¡ç† Kubernetes é›†ç¾¤ç¯å¢ƒï¼Œkubectl æ“ä½œå®é™…çš„ Kubernetes åŠŸèƒ½ã€‚</p>
<h2 id="å¯åŠ¨ç¯å¢ƒ" class="headerLink">
    <a href="#%e5%90%af%e5%8a%a8%e7%8e%af%e5%a2%83" class="header-mark"></a>å¯åŠ¨ç¯å¢ƒ</h2><p>å®‰è£…äº† minikube å’Œ kubectl å°±å¯ä»¥åœ¨æœ¬æœºä¸Šè¿è¡Œ minikubeï¼Œåˆ›å»º Kubernetes å®éªŒç¯å¢ƒäº†ã€‚</p>
<p>æœ€å¥½å…ˆå…³é—­ swap åˆ†åŒºï¼Œä¸ç„¶ä¼š WARNING æç¤ºï¼š</p>
<blockquote>
<p>swap is enabled; production deployments should disable swap unless testing the NodeSwap feature gate of the kubelet</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># å…³é—­ swapåˆ†åŒº</span>
</span></span><span class="line"><span class="cl">swapoff -a
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨å‘½ä»¤ minikube start ä¼šä» Docker Hub ä¸Šæ‹‰å–é•œåƒï¼Œä»¥å½“å‰æœ€æ–°ç‰ˆæœ¬çš„ Kubernetes å¯åŠ¨é›†ç¾¤ï¼Œä¹Ÿå¯ä»¥åœ¨åé¢å†åŠ ä¸Šä¸€ä¸ªå‚æ•°<code>--kubernetes-version</code> æ˜ç¡®æŒ‡å®šè¦ä½¿ç”¨ Kubernetes ç‰ˆæœ¬ã€‚è¿™é‡Œä½¿ç”¨ â€œ1.23.3â€ï¼Œå¯åŠ¨å‘½ä»¤æ˜¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">minikube start --kubernetes-version<span class="o">=</span>v1.23.3
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœå‡ºç°ç±»ä¼¼ä»¥ä¸‹çš„é—®é¢˜ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">* minikube v1.28.0 on Centos 7.9.2009 <span class="o">(</span>lxc/amd64<span class="o">)</span>
</span></span><span class="line"><span class="cl">* Automatically selected the docker driver. Other choices: none, ssh
</span></span><span class="line"><span class="cl">* The <span class="s2">&#34;docker&#34;</span> driver should not be used with root privileges. If you wish to <span class="k">continue</span> as root, use --force.
</span></span><span class="line"><span class="cl">* If you are running minikube within a VM, consider using --driver<span class="o">=</span>none:
</span></span><span class="line"><span class="cl">*   https://minikube.sigs.k8s.io/docs/reference/drivers/none/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">X Exiting due to DRV_AS_ROOT: The <span class="s2">&#34;docker&#34;</span> driver should not be used with root privileges.
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥ä½¿ç”¨åŠ ä¸Š <code>--force</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">minikube start --kubernetes-version<span class="o">=</span>v1.23.3 --force
</span></span></code></pre></td></tr></table>
</div>
</div><p>å›½å†…ç½‘ç»œç¯å¢ƒå¤æ‚ï¼Œä¸€èˆ¬è®¿é—®å¤–ç½‘æ¯”è¾ƒæ…¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŠ ä¸Š<code>--image-mirror-country='cn'</code>å‚æ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">minikube start --image-mirror-country<span class="o">=</span><span class="s1">&#39;cn&#39;</span> --kubernetes-version<span class="o">=</span>v1.23.3 --force
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/756c1c2c48154d44aedd334ad6d5fe41.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="minikube start" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/756c1c2c48154d44aedd334ad6d5fe41.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>minikube start</h2><p>minikube start</p>">
        
    </a><figcaption class="image-caption">minikube start</figcaption>
    </figure></p>
<h2 id="ç®€å•ä½¿ç”¨" class="headerLink">
    <a href="#%e7%ae%80%e5%8d%95%e4%bd%bf%e7%94%a8" class="header-mark"></a>ç®€å•ä½¿ç”¨</h2><p>minikube è‡ªå¸¦çš„ kubectl æœ‰ä¸€ç‚¹é™åˆ¶ï¼Œå¿…é¡»è¦åœ¨å‰é¢åŠ ä¸Š minikube çš„å‰ç¼€ï¼Œåé¢å†åŠ ä¸Š <code>--</code> æ‰èƒ½ä½¿ç”¨ï¼Œåƒè¿™æ ·ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">minikube kubectl -- version
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/6d9652c6330c4cd888416362c9087f12.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="kubectl version" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/6d9652c6330c4cd888416362c9087f12.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>kubectl version</h2><p>kubectl version</p>">
        
    </a><figcaption class="image-caption">kubectl version</figcaption>
    </figure></p>
<p>æˆ‘ä»¬åœ¨ Kubernetes é‡Œè¿è¡Œä¸€ä¸ª Nginx åº”ç”¨ï¼Œå‘½ä»¤ä¸ Docker ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ runï¼Œä½†æ˜¯éœ€è¦ç”¨<code>--image</code>æŒ‡å®šé•œåƒï¼Œç„¶å Kubernetes ä¼šè‡ªåŠ¨æ‹‰å–é•œåƒå¹¶è¿è¡Œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">minikube kubectl -- run ngx --image<span class="o">=</span>nginx:alpine
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/caec80f930f94095832101c5bd351122.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="è¿è¡Œåº”ç”¨" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/caec80f930f94095832101c5bd351122.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>è¿è¡Œåº”ç”¨</h2><p>è¿è¡Œåº”ç”¨</p>">
        
    </a><figcaption class="image-caption">è¿è¡Œåº”ç”¨</figcaption>
    </figure></p>
<p>å‘½ä»¤æ‰§è¡Œä¹‹åå¯ä»¥çœ‹åˆ°ï¼Œåœ¨ Kubernetes é›†ç¾¤é‡Œå°±æœ‰äº†ä¸€ä¸ªåå­—å« ngx çš„ Pod æ­£åœ¨è¿è¡Œï¼Œè¡¨ç¤ºè¿™ä¸ªå•èŠ‚ç‚¹ minikube ç¯å¢ƒå·²ç»æ­å»ºæˆåŠŸã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯å®¹å™¨ç¼–æ’" class="headerLink">
    <a href="#%e4%bb%80%e4%b9%88%e6%98%af%e5%ae%b9%e5%99%a8%e7%bc%96%e6%8e%92" class="header-mark"></a>ä»€ä¹ˆæ˜¯å®¹å™¨ç¼–æ’</h2><p>å®¹å™¨ï¼Œæ˜¯ç°ä»£ç¨‹åºçš„è¿è¡Œæ–¹å¼ã€‚ç¼–æ’å°±æ˜¯éƒ¨ç½²ã€ç®¡ç†åº”ç”¨ç¨‹åºçš„ç³»ç»Ÿï¼Œèƒ½åŠ¨æ€åœ°å“åº”å˜åŒ–ï¼Œå¦‚ï¼šå›æ»šã€æ»šåŠ¨å‡çº§ã€æ•…éšœè‡ªæ„ˆã€è‡ªåŠ¨æ‰©ç¼©å®¹ã€‚è‡ªåŠ¨å®Œæˆè¿™äº›æ‰€æœ‰ä»»åŠ¡ï¼Œéœ€è¦äººå·¥æœ€åˆè¿›è¡Œä¸€äº›é…ç½®ï¼Œå°±å¯ä»¥ä¸€åŠ³æ°¸é€¸ã€‚æ‰€ä»¥ï¼Œè¿è¡Œå®¹å™¨å½¢å¼çš„åº”ç”¨ç¨‹åºï¼Œè¿™äº›åº”ç”¨ç¨‹åºçš„æ„å»ºæ–¹å¼ï¼Œä½¿å®ƒä»¬èƒ½å¤Ÿå®ç°å›æ»šã€æ»šåŠ¨å‡çº§ã€æ•…éšœè‡ªæ„ˆã€è‡ªåŠ¨æ‰©ç¼©å®¹ç­‰å°±æ˜¯å®¹å™¨ç¼–æ’ã€‚</p>
<h2 id="k8s-å’Œ-docker-çš„åŒºåˆ«" class="headerLink">
    <a href="#k8s-%e5%92%8c-docker-%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-mark"></a>K8s å’Œ Docker çš„åŒºåˆ«</h2><p>Docker åº”ç”¨æ‰“åŒ…ã€æµ‹è¯•ã€äº¤ä»˜ï¼ŒKubernetes æ˜¯åŸºäº Docker çš„äº§ç‰©ï¼Œè¿›è¡Œç¼–æ’ã€è¿è¡Œã€‚ä¾‹å¦‚æœ‰ 1 ä¸ªé›†ç¾¤ï¼Œ3 ä¸ªèŠ‚ç‚¹ã€‚è¿™äº›èŠ‚ç‚¹ï¼Œéƒ½ä»¥ Docker ä½œä¸ºå®¹å™¨è¿è¡Œæ—¶ï¼ŒDocker æ˜¯æ›´åå‘åº•å±‚çš„æŠ€æœ¯ã€‚Kubernetes æ›´åå‘ä¸Šå±‚çš„æŠ€æœ¯ ï¼Œå®ƒå®ç°äº†å¯¹å®¹å™¨è¿è¡Œæ—¶çš„æŠ½è±¡ï¼ŒæŠ½è±¡çš„ç›®çš„æ˜¯å…¼å®¹åº•å±‚å®¹å™¨è¿è¡Œæ—¶ï¼ˆå®¹å™¨è¿›è¡Œæ—¶æŠ€æœ¯ä¸ä»…æœ‰ Dockerï¼Œè¿˜æœ‰ containerdã€kata ç­‰ï¼Œæ— è®ºå“ªç§å®¹å™¨è¿è¡Œæ—¶ï¼ŒKubernetes å±‚é¢çš„æ“ä½œéƒ½æ˜¯ä¸€æ ·çš„ï¼‰ä»¥åŠè§£è€¦ï¼ŒåŒæ—¶è¿˜æä¾›äº†ä¸€å¥—å®¹å™¨è¿è¡Œæ—¶çš„æ ‡å‡†ã€‚æŠ½è±¡çš„äº§ç‰©æ˜¯å®¹å™¨è¿è¡Œæ—¶æ¥å£ CRIï¼ˆContainer Runtime Interfaceï¼‰ã€‚</p>
<h2 id="å‚è€ƒ" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>å‚è€ƒ</h2><ul>
<li><a href="https://minikube.sigs.k8s.io/docs/start/" target="_blank" rel="noopener noreferrer">minikube start</a></li>
<li><a href="https://docs.docker.com/engine/install/debian/" target="_blank" rel="noopener noreferrer">docker docs</a></li>
</ul>
]]></description>
</item><item>
    <title>é«˜å¹¶å‘åˆ†å¸ƒå¼æ¶æ„æ¼”è¿›</title>
    <link>https://www.xiaobinqt.cn/highly-concurrent-architecture-evolution/</link>
    <pubDate>Mon, 29 Aug 2022 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/highly-concurrent-architecture-evolution/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/89de4f7569e845ad91eab0a8857d5afb.png" referrerpolicy="no-referrer">
            </div><!-- authorï¼š xiaobinqt -->
<!-- emailï¼š xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<blockquote>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://segmentfault.com/a/1190000018626163" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000018626163</a></p>
</blockquote>
<h2 id="0-ç›®å½•å’Œè¯´æ˜" class="headerLink">
    <a href="#0-%e7%9b%ae%e5%bd%95%e5%92%8c%e8%af%b4%e6%98%8e" class="header-mark"></a>0. ç›®å½•å’Œè¯´æ˜</h2><p>æ–‡ç« åœ¨ä»‹ç»ä¸€äº›åŸºæœ¬æ¦‚å¿µåï¼ŒæŒ‰ç…§ä»¥ä¸‹è¿‡ç¨‹é˜è¿°äº†æ•´ä¸ªæ¶æ„çš„æ¼”è¿›è¿‡ç¨‹ï¼š</p>
<ul>
<li>
<p>å•æœºæ¶æ„</p>
</li>
<li>
<p>ç¬¬ä¸€æ¬¡æ¼”è¿›ï¼šTomcat ä¸æ•°æ®åº“åˆ†å¼€éƒ¨ç½²</p>
</li>
<li>
<p>ç¬¬äºŒæ¬¡æ¼”è¿›ï¼šå¼•å…¥æœ¬åœ°ç¼“å­˜å’Œåˆ†å¸ƒå¼ç¼“å­˜</p>
</li>
<li>
<p>ç¬¬ä¸‰æ¬¡æ¼”è¿›ï¼šå¼•å…¥åå‘ä»£ç†å®ç°è´Ÿè½½å‡è¡¡</p>
</li>
<li>
<p>ç¬¬å››æ¬¡æ¼”è¿›ï¼šæ•°æ®åº“è¯»å†™åˆ†ç¦»</p>
</li>
<li>
<p>ç¬¬äº”æ¬¡æ¼”è¿›ï¼šæ•°æ®åº“æŒ‰ä¸šåŠ¡åˆ†åº“</p>
</li>
<li>
<p>ç¬¬å…­æ¬¡æ¼”è¿›ï¼šæŠŠå¤§è¡¨æ‹†åˆ†ä¸ºå°è¡¨</p>
</li>
<li>
<p>ç¬¬ä¸ƒæ¬¡æ¼”è¿›ï¼šä½¿ç”¨ LVS æˆ– F5 æ¥ä½¿å¤šä¸ª Nginx è´Ÿè½½å‡è¡¡</p>
</li>
<li>
<p>ç¬¬å…«æ¬¡æ¼”è¿›ï¼šé€šè¿‡ DNS è½®è¯¢å®ç°æœºæˆ¿é—´çš„è´Ÿè½½å‡è¡¡</p>
</li>
<li>
<p>ç¬¬ä¹æ¬¡æ¼”è¿›ï¼šå¼•å…¥ NoSQL æ•°æ®åº“å’Œæœç´¢å¼•æ“ç­‰æŠ€æœ¯</p>
</li>
<li>
<p>ç¬¬åæ¬¡æ¼”è¿›ï¼šå¤§åº”ç”¨æ‹†åˆ†ä¸ºå°åº”ç”¨</p>
</li>
<li>
<p>ç¬¬åä¸€æ¬¡æ¼”è¿›ï¼šå¤ç”¨çš„åŠŸèƒ½æŠ½ç¦»æˆå¾®æœåŠ¡</p>
</li>
<li>
<p>ç¬¬åäºŒæ¬¡æ¼”è¿›ï¼šå¼•å…¥ä¼ä¸šæœåŠ¡æ€»çº¿ ESB å±è”½æœåŠ¡æ¥å£çš„è®¿é—®å·®å¼‚</p>
</li>
<li>
<p>ç¬¬åä¸‰æ¬¡æ¼”è¿›ï¼šå¼•å…¥å®¹å™¨åŒ–æŠ€æœ¯å®ç°è¿è¡Œç¯å¢ƒéš”ç¦»ä¸åŠ¨æ€æœåŠ¡ç®¡ç†</p>
</li>
<li>
<p>ç¬¬åå››æ¬¡æ¼”è¿›ï¼šä»¥äº‘å¹³å°æ‰¿è½½ç³»ç»Ÿ</p>
</li>
</ul>
<h2 id="1-æ¦‚è¿°" class="headerLink">
    <a href="#1-%e6%a6%82%e8%bf%b0" class="header-mark"></a>1. æ¦‚è¿°</h2><p>æœ¬æ–‡ä»¥æ·˜å®ä½œä¸ºä¾‹å­ï¼Œä»‹ç»ä»ä¸€ç™¾ä¸ªåˆ°åƒä¸‡çº§å¹¶å‘æƒ…å†µä¸‹æœåŠ¡ç«¯çš„æ¶æ„çš„æ¼”è¿›è¿‡ç¨‹ï¼ŒåŒæ—¶åˆ—ä¸¾å‡ºæ¯ä¸ªæ¼”è¿›é˜¶æ®µä¼šé‡åˆ°çš„ç›¸å…³æŠ€æœ¯ï¼Œè®©å¤§å®¶å¯¹æ¶æ„çš„æ¼”è¿›æœ‰ä¸€ä¸ªæ•´ä½“çš„è®¤çŸ¥ï¼Œæ–‡ç« æœ€åæ±‡æ€»äº†ä¸€äº›æ¶æ„è®¾è®¡çš„åŸåˆ™ã€‚</p>
<blockquote>
<p>ç‰¹åˆ«è¯´æ˜ï¼šæœ¬æ–‡ä»¥æ·˜å®ä¸ºä¾‹ä»…ä»…æ˜¯ä¸ºäº†ä¾¿äºè¯´æ˜æ¼”è¿›è¿‡ç¨‹å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼Œå¹¶éæ˜¯æ·˜å®çœŸæ­£çš„æŠ€æœ¯æ¼”è¿›è·¯å¾„</p>
</blockquote>
<h2 id="2-åŸºæœ¬æ¦‚å¿µ" class="headerLink">
    <a href="#2-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" class="header-mark"></a>2. åŸºæœ¬æ¦‚å¿µ</h2><p>åœ¨ä»‹ç»æ¶æ„ä¹‹å‰ï¼Œä¸ºäº†é¿å…éƒ¨åˆ†è¯»è€…å¯¹æ¶æ„è®¾è®¡ä¸­çš„ä¸€äº›æ¦‚å¿µä¸äº†è§£ï¼Œä¸‹é¢å¯¹å‡ ä¸ªæœ€åŸºç¡€çš„æ¦‚å¿µè¿›è¡Œä»‹ç»ã€‚</p>
<ul>
<li><strong>åˆ†å¸ƒå¼</strong></li>
</ul>
<p>ç³»ç»Ÿä¸­çš„å¤šä¸ªæ¨¡å—åœ¨ä¸åŒæœåŠ¡å™¨ä¸Šéƒ¨ç½²ï¼Œå³å¯ç§°ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¦‚ Tomcat å’Œæ•°æ®åº“åˆ†åˆ«éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œæˆ–ä¸¤ä¸ªç›¸åŒåŠŸèƒ½çš„ Tomcat åˆ†åˆ«éƒ¨ç½²åœ¨ä¸åŒæœåŠ¡å™¨ä¸Š</p>
<ul>
<li><strong>é«˜å¯ç”¨</strong></li>
</ul>
<p>ç³»ç»Ÿä¸­éƒ¨åˆ†èŠ‚ç‚¹å¤±æ•ˆæ—¶ï¼Œå…¶ä»–èŠ‚ç‚¹èƒ½å¤Ÿæ¥æ›¿å®ƒç»§ç»­æä¾›æœåŠ¡ï¼Œåˆ™å¯è®¤ä¸ºç³»ç»Ÿå…·æœ‰é«˜å¯ç”¨æ€§</p>
<ul>
<li><strong>é›†ç¾¤</strong></li>
</ul>
<p>ä¸€ä¸ªç‰¹å®šé¢†åŸŸçš„è½¯ä»¶éƒ¨ç½²åœ¨å¤šå°æœåŠ¡å™¨ä¸Šå¹¶<strong>ä½œä¸ºä¸€ä¸ªæ•´ä½“</strong>æä¾›ä¸€ç±»æœåŠ¡ï¼Œè¿™ä¸ªæ•´ä½“ç§°ä¸ºé›†ç¾¤ã€‚å¦‚ Zookeeper ä¸­çš„ Master å’Œ Slave åˆ†åˆ«éƒ¨ç½²åœ¨å¤šå°æœåŠ¡å™¨ä¸Šï¼Œå…±åŒç»„æˆä¸€ä¸ªæ•´ä½“æä¾›é›†ä¸­é…ç½®æœåŠ¡ã€‚åœ¨å¸¸è§çš„é›†ç¾¤ä¸­ï¼Œå®¢æˆ·ç«¯å¾€å¾€èƒ½å¤Ÿè¿æ¥ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹è·å¾—æœåŠ¡ï¼Œå¹¶ä¸”å½“é›†ç¾¤ä¸­ä¸€ä¸ªèŠ‚ç‚¹æ‰çº¿æ—¶ï¼Œå…¶ä»–èŠ‚ç‚¹å¾€å¾€èƒ½å¤Ÿè‡ªåŠ¨çš„æ¥æ›¿å®ƒç»§ç»­æä¾›æœåŠ¡ï¼Œè¿™æ—¶å€™è¯´æ˜é›†ç¾¤å…·æœ‰é«˜å¯ç”¨æ€§</p>
<ul>
<li><strong>è´Ÿè½½å‡è¡¡</strong></li>
</ul>
<p>è¯·æ±‚å‘é€åˆ°ç³»ç»Ÿæ—¶ï¼Œé€šè¿‡æŸäº›æ–¹å¼æŠŠè¯·æ±‚å‡åŒ€åˆ†å‘åˆ°å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œä½¿ç³»ç»Ÿä¸­æ¯ä¸ªèŠ‚ç‚¹èƒ½å¤Ÿå‡åŒ€çš„å¤„ç†è¯·æ±‚è´Ÿè½½ï¼Œåˆ™å¯è®¤ä¸ºç³»ç»Ÿæ˜¯è´Ÿè½½å‡è¡¡çš„</p>
<ul>
<li><strong>æ­£å‘ä»£ç†å’Œåå‘ä»£ç†</strong></li>
</ul>
<p>ç³»ç»Ÿå†…éƒ¨è¦è®¿é—®å¤–éƒ¨ç½‘ç»œæ—¶ï¼Œç»Ÿä¸€é€šè¿‡ä¸€ä¸ªä»£ç†æœåŠ¡å™¨æŠŠè¯·æ±‚è½¬å‘å‡ºå»ï¼Œåœ¨å¤–éƒ¨ç½‘ç»œçœ‹æ¥å°±æ˜¯ä»£ç†æœåŠ¡å™¨å‘èµ·çš„è®¿é—®ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å®ç°çš„æ˜¯æ­£å‘ä»£ç†ï¼›å½“å¤–éƒ¨è¯·æ±‚è¿›å…¥ç³»ç»Ÿæ—¶ï¼Œä»£ç†æœåŠ¡å™¨æŠŠè¯¥è¯·æ±‚è½¬å‘åˆ°ç³»ç»Ÿä¸­çš„æŸå°æœåŠ¡å™¨ä¸Šï¼Œå¯¹å¤–éƒ¨è¯·æ±‚æ¥è¯´ï¼Œä¸ä¹‹äº¤äº’çš„åªæœ‰ä»£ç†æœåŠ¡å™¨ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å®ç°çš„æ˜¯åå‘ä»£ç†ã€‚ç®€å•æ¥è¯´ï¼Œ<strong>æ­£å‘ä»£ç†æ˜¯ä»£ç†æœåŠ¡å™¨ä»£æ›¿ç³»ç»Ÿå†…éƒ¨æ¥è®¿é—®å¤–éƒ¨ç½‘ç»œçš„è¿‡ç¨‹ï¼Œåå‘ä»£ç†æ˜¯å¤–éƒ¨è¯·æ±‚è®¿é—®ç³»ç»Ÿæ—¶é€šè¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘åˆ°å†…éƒ¨æœåŠ¡å™¨çš„è¿‡ç¨‹</strong>ã€‚</p>
<h2 id="3-æ¶æ„æ¼”è¿›" class="headerLink">
    <a href="#3-%e6%9e%b6%e6%9e%84%e6%bc%94%e8%bf%9b" class="header-mark"></a>3. æ¶æ„æ¼”è¿›</h2><h3 id="31-å•æœºæ¶æ„" class="headerLink">
    <a href="#31-%e5%8d%95%e6%9c%ba%e6%9e%b6%e6%9e%84" class="header-mark"></a>3.1 å•æœºæ¶æ„</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/1f117811d1f646bbbb030f52013818ab.png" title="å•æœºæ¶æ„" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/1f117811d1f646bbbb030f52013818ab.png" data-sub-html="<h2>å•æœºæ¶æ„</h2><p>å•æœºæ¶æ„</p>">
        
    </a><figcaption class="image-caption">å•æœºæ¶æ„</figcaption>
    </figure></p>
<p>ä»¥æ·˜å®ä½œä¸ºä¾‹å­ã€‚åœ¨ç½‘ç«™æœ€åˆæ—¶ï¼Œåº”ç”¨æ•°é‡ä¸ç”¨æˆ·æ•°éƒ½è¾ƒå°‘ï¼Œå¯ä»¥æŠŠ Tomcat å’Œæ•°æ®åº“éƒ¨ç½²åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šã€‚æµè§ˆå™¨å¾€ <code>www.taobao.com</code> å‘èµ·è¯·æ±‚æ—¶ï¼Œé¦–å…ˆç»è¿‡ DNS æœåŠ¡å™¨ï¼ˆåŸŸåç³»ç»Ÿï¼‰æŠŠåŸŸåè½¬æ¢ä¸ºå®é™… IP åœ°å€
<code>10.102.4.1</code>ï¼Œæµè§ˆå™¨è½¬è€Œè®¿é—®è¯¥ IP å¯¹åº”çš„ Tomcatã€‚</p>
<blockquote>
<p>éšç€ç”¨æˆ·æ•°çš„å¢é•¿ï¼ŒTomcat å’Œæ•°æ®åº“ä¹‹é—´ç«äº‰èµ„æºï¼Œå•æœºæ€§èƒ½ä¸è¶³ä»¥æ”¯æ’‘ä¸šåŠ¡</p>
</blockquote>
<h3 id="32-ç¬¬ä¸€æ¬¡æ¼”è¿›tomcat-ä¸æ•°æ®åº“åˆ†å¼€éƒ¨ç½²" class="headerLink">
    <a href="#32-%e7%ac%ac%e4%b8%80%e6%ac%a1%e6%bc%94%e8%bf%9btomcat-%e4%b8%8e%e6%95%b0%e6%8d%ae%e5%ba%93%e5%88%86%e5%bc%80%e9%83%a8%e7%bd%b2" class="header-mark"></a>3.2 ç¬¬ä¸€æ¬¡æ¼”è¿›ï¼šTomcat ä¸æ•°æ®åº“åˆ†å¼€éƒ¨ç½²</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/51b57795a18a487daae0807e4e005d73.png" title="ç¬¬ä¸€æ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/51b57795a18a487daae0807e4e005d73.png" data-sub-html="<h2>ç¬¬ä¸€æ¬¡æ¼”è¿›</h2><p>ç¬¬ä¸€æ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬ä¸€æ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>Tomcat å’Œæ•°æ®åº“åˆ†åˆ«ç‹¬å æœåŠ¡å™¨èµ„æºï¼Œæ˜¾è‘—æé«˜ä¸¤è€…å„è‡ªæ€§èƒ½ã€‚</p>
<blockquote>
<p>éšç€ç”¨æˆ·æ•°çš„å¢é•¿ï¼Œå¹¶å‘è¯»å†™æ•°æ®åº“æˆä¸ºç“¶é¢ˆ</p>
</blockquote>
<h3 id="33-ç¬¬äºŒæ¬¡æ¼”è¿›å¼•å…¥æœ¬åœ°ç¼“å­˜å’Œåˆ†å¸ƒå¼ç¼“å­˜" class="headerLink">
    <a href="#33-%e7%ac%ac%e4%ba%8c%e6%ac%a1%e6%bc%94%e8%bf%9b%e5%bc%95%e5%85%a5%e6%9c%ac%e5%9c%b0%e7%bc%93%e5%ad%98%e5%92%8c%e5%88%86%e5%b8%83%e5%bc%8f%e7%bc%93%e5%ad%98" class="header-mark"></a>3.3 ç¬¬äºŒæ¬¡æ¼”è¿›ï¼šå¼•å…¥æœ¬åœ°ç¼“å­˜å’Œåˆ†å¸ƒå¼ç¼“å­˜</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/08062e488e3a42c3952d2e083e117f28.png" title="ç¬¬äºŒæ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/08062e488e3a42c3952d2e083e117f28.png" data-sub-html="<h2>ç¬¬äºŒæ¬¡æ¼”è¿›</h2><p>ç¬¬äºŒæ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬äºŒæ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>åœ¨ Tomcat åŒæœåŠ¡å™¨ä¸Šæˆ–åŒ JVM ä¸­å¢åŠ æœ¬åœ°ç¼“å­˜ï¼Œå¹¶åœ¨å¤–éƒ¨å¢åŠ åˆ†å¸ƒå¼ç¼“å­˜ï¼Œç¼“å­˜çƒ­é—¨å•†å“ä¿¡æ¯æˆ–çƒ­é—¨å•†å“çš„ html é¡µé¢ç­‰ã€‚é€šè¿‡ç¼“å­˜èƒ½æŠŠç»å¤§å¤šæ•°è¯·æ±‚åœ¨è¯»å†™æ•°æ®åº“å‰æ‹¦æˆªæ‰ï¼Œå¤§å¤§é™ä½æ•°æ®åº“å‹åŠ›ã€‚å…¶ä¸­æ¶‰åŠçš„æŠ€æœ¯åŒ…æ‹¬ï¼šä½¿ç”¨ memcached ä½œä¸ºæœ¬åœ°ç¼“å­˜ï¼Œä½¿ç”¨ Redis ä½œä¸ºåˆ†å¸ƒå¼ç¼“å­˜ï¼Œè¿˜ä¼šæ¶‰åŠç¼“å­˜ä¸€è‡´æ€§ã€ç¼“å­˜ç©¿é€/å‡»ç©¿ã€ç¼“å­˜é›ªå´©ã€çƒ­ç‚¹æ•°æ®é›†ä¸­å¤±æ•ˆç­‰é—®é¢˜ã€‚</p>
<blockquote>
<p>ç¼“å­˜æŠ—ä½äº†å¤§éƒ¨åˆ†çš„è®¿é—®è¯·æ±‚ï¼Œéšç€ç”¨æˆ·æ•°çš„å¢é•¿ï¼Œå¹¶å‘å‹åŠ›ä¸»è¦è½åœ¨å•æœºçš„ Tomcat ä¸Šï¼Œå“åº”é€æ¸å˜æ…¢</p>
</blockquote>
<h3 id="34-ç¬¬ä¸‰æ¬¡æ¼”è¿›å¼•å…¥åå‘ä»£ç†å®ç°è´Ÿè½½å‡è¡¡" class="headerLink">
    <a href="#34-%e7%ac%ac%e4%b8%89%e6%ac%a1%e6%bc%94%e8%bf%9b%e5%bc%95%e5%85%a5%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86%e5%ae%9e%e7%8e%b0%e8%b4%9f%e8%bd%bd%e5%9d%87%e8%a1%a1" class="header-mark"></a>3.4 ç¬¬ä¸‰æ¬¡æ¼”è¿›ï¼šå¼•å…¥åå‘ä»£ç†å®ç°è´Ÿè½½å‡è¡¡</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/447531a9c371496e9263e32a312b192c.png" title="ç¬¬ä¸‰æ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/447531a9c371496e9263e32a312b192c.png" data-sub-html="<h2>ç¬¬ä¸‰æ¬¡æ¼”è¿›</h2><p>ç¬¬ä¸‰æ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬ä¸‰æ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>åœ¨å¤šå°æœåŠ¡å™¨ä¸Šåˆ†åˆ«éƒ¨ç½² Tomcatï¼Œä½¿ç”¨åå‘ä»£ç†è½¯ä»¶ï¼ˆNginxï¼‰æŠŠè¯·æ±‚å‡åŒ€åˆ†å‘åˆ°æ¯ä¸ª Tomcat ä¸­ã€‚æ­¤å¤„å‡è®¾ Tomcat æœ€å¤šæ”¯æŒ 100 ä¸ªå¹¶å‘ï¼ŒNginx æœ€å¤šæ”¯æŒ 50000 ä¸ªå¹¶å‘ï¼Œé‚£ä¹ˆç†è®ºä¸Š Nginx æŠŠè¯·æ±‚åˆ†å‘åˆ° 500 ä¸ª Tomcat ä¸Šï¼Œå°±èƒ½æŠ—ä½ 50000 ä¸ªå¹¶å‘ã€‚å…¶ä¸­æ¶‰åŠçš„æŠ€æœ¯åŒ…æ‹¬ï¼šNginxã€HAProxyï¼Œä¸¤è€…éƒ½æ˜¯å·¥ä½œåœ¨ç½‘ç»œç¬¬ä¸ƒå±‚çš„åå‘ä»£ç†è½¯ä»¶ï¼Œä¸»è¦æ”¯æŒ http åè®®ï¼Œè¿˜ä¼šæ¶‰åŠ session å…±äº«ã€æ–‡ä»¶ä¸Šä¼ ä¸‹è½½çš„é—®é¢˜ã€‚</p>
<blockquote>
<p>åå‘ä»£ç†ä½¿åº”ç”¨æœåŠ¡å™¨å¯æ”¯æŒçš„å¹¶å‘é‡å¤§å¤§å¢åŠ ï¼Œä½†å¹¶å‘é‡çš„å¢é•¿ä¹Ÿæ„å‘³ç€æ›´å¤šè¯·æ±‚ç©¿é€åˆ°æ•°æ®åº“ï¼Œå•æœºçš„æ•°æ®åº“æœ€ç»ˆæˆä¸ºç“¶é¢ˆ</p>
</blockquote>
<h3 id="35-ç¬¬å››æ¬¡æ¼”è¿›æ•°æ®åº“è¯»å†™åˆ†ç¦»" class="headerLink">
    <a href="#35-%e7%ac%ac%e5%9b%9b%e6%ac%a1%e6%bc%94%e8%bf%9b%e6%95%b0%e6%8d%ae%e5%ba%93%e8%af%bb%e5%86%99%e5%88%86%e7%a6%bb" class="header-mark"></a>3.5 ç¬¬å››æ¬¡æ¼”è¿›ï¼šæ•°æ®åº“è¯»å†™åˆ†ç¦»</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/53d08f904fa54100bb891bacf5d55eec.png" title="ç¬¬å››æ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/53d08f904fa54100bb891bacf5d55eec.png" data-sub-html="<h2>ç¬¬å››æ¬¡æ¼”è¿›</h2><p>ç¬¬å››æ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬å››æ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>æŠŠæ•°æ®åº“åˆ’åˆ†ä¸ºè¯»åº“å’Œå†™åº“ï¼Œè¯»åº“å¯ä»¥æœ‰å¤šä¸ªï¼Œé€šè¿‡åŒæ­¥æœºåˆ¶æŠŠå†™åº“çš„æ•°æ®åŒæ­¥åˆ°è¯»åº“ï¼Œå¯¹äºéœ€è¦æŸ¥è¯¢æœ€æ–°å†™å…¥æ•°æ®åœºæ™¯ï¼Œå¯é€šè¿‡åœ¨ç¼“å­˜ä¸­å¤šå†™ä¸€ä»½ï¼Œé€šè¿‡ç¼“å­˜è·å¾—æœ€æ–°æ•°æ®ã€‚å…¶ä¸­æ¶‰åŠçš„æŠ€æœ¯åŒ…æ‹¬ï¼šMycatï¼Œå®ƒæ˜¯æ•°æ®åº“ä¸­é—´ä»¶ï¼Œå¯é€šè¿‡å®ƒæ¥ç»„ç»‡æ•°æ®åº“çš„åˆ†ç¦»è¯»å†™å’Œåˆ†åº“åˆ†è¡¨ï¼Œå®¢æˆ·ç«¯é€šè¿‡å®ƒæ¥è®¿é—®ä¸‹å±‚æ•°æ®åº“ï¼Œè¿˜ä¼šæ¶‰åŠæ•°æ®åŒæ­¥ï¼Œæ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚</p>
<blockquote>
<p>ä¸šåŠ¡é€æ¸å˜å¤šï¼Œä¸åŒä¸šåŠ¡ä¹‹é—´çš„è®¿é—®é‡å·®è·è¾ƒå¤§ï¼Œä¸åŒä¸šåŠ¡ç›´æ¥ç«äº‰æ•°æ®åº“ï¼Œç›¸äº’å½±å“æ€§èƒ½</p>
</blockquote>
<h3 id="36-ç¬¬äº”æ¬¡æ¼”è¿›æ•°æ®åº“æŒ‰ä¸šåŠ¡åˆ†åº“" class="headerLink">
    <a href="#36-%e7%ac%ac%e4%ba%94%e6%ac%a1%e6%bc%94%e8%bf%9b%e6%95%b0%e6%8d%ae%e5%ba%93%e6%8c%89%e4%b8%9a%e5%8a%a1%e5%88%86%e5%ba%93" class="header-mark"></a>3.6 ç¬¬äº”æ¬¡æ¼”è¿›ï¼šæ•°æ®åº“æŒ‰ä¸šåŠ¡åˆ†åº“</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/effe7db154244811af27331d0b1a4d8c.png" title="ç¬¬äº”æ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/effe7db154244811af27331d0b1a4d8c.png" data-sub-html="<h2>ç¬¬äº”æ¬¡æ¼”è¿›</h2><p>ç¬¬äº”æ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬äº”æ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>æŠŠä¸åŒä¸šåŠ¡çš„æ•°æ®ä¿å­˜åˆ°ä¸åŒçš„æ•°æ®åº“ä¸­ï¼Œä½¿ä¸šåŠ¡ä¹‹é—´çš„èµ„æºç«äº‰é™ä½ï¼Œå¯¹äºè®¿é—®é‡å¤§çš„ä¸šåŠ¡ï¼Œå¯ä»¥éƒ¨ç½²æ›´å¤šçš„æœåŠ¡å™¨æ¥æ”¯æ’‘ã€‚è¿™æ ·åŒæ—¶å¯¼è‡´è·¨ä¸šåŠ¡çš„è¡¨æ— æ³•ç›´æ¥åšå…³è”åˆ†æï¼Œéœ€è¦é€šè¿‡å…¶ä»–é€”å¾„æ¥è§£å†³ï¼Œä½†è¿™ä¸æ˜¯æœ¬æ–‡è®¨è®ºçš„é‡ç‚¹ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œæœç´¢è§£å†³æ–¹æ¡ˆã€‚</p>
<blockquote>
<p>éšç€ç”¨æˆ·æ•°çš„å¢é•¿ï¼Œå•æœºçš„å†™åº“ä¼šé€æ¸ä¼šè¾¾åˆ°æ€§èƒ½ç“¶é¢ˆ</p>
</blockquote>
<h3 id="37-ç¬¬å…­æ¬¡æ¼”è¿›æŠŠå¤§è¡¨æ‹†åˆ†ä¸ºå°è¡¨" class="headerLink">
    <a href="#37-%e7%ac%ac%e5%85%ad%e6%ac%a1%e6%bc%94%e8%bf%9b%e6%8a%8a%e5%a4%a7%e8%a1%a8%e6%8b%86%e5%88%86%e4%b8%ba%e5%b0%8f%e8%a1%a8" class="header-mark"></a>3.7 ç¬¬å…­æ¬¡æ¼”è¿›ï¼šæŠŠå¤§è¡¨æ‹†åˆ†ä¸ºå°è¡¨</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/2fad6020cd9b4b97baebc993157067dc.png" title="ç¬¬å…­æ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/2fad6020cd9b4b97baebc993157067dc.png" data-sub-html="<h2>ç¬¬å…­æ¬¡æ¼”è¿›</h2><p>ç¬¬å…­æ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬å…­æ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>æ¯”å¦‚é’ˆå¯¹è¯„è®ºæ•°æ®ï¼Œå¯æŒ‰ç…§å•†å“ ID è¿›è¡Œ hashï¼Œè·¯ç”±åˆ°å¯¹åº”çš„è¡¨ä¸­å­˜å‚¨ï¼›é’ˆå¯¹æ”¯ä»˜è®°å½•ï¼Œå¯æŒ‰ç…§å°æ—¶åˆ›å»ºè¡¨ï¼Œæ¯ä¸ªå°æ—¶è¡¨ç»§ç»­æ‹†åˆ†ä¸ºå°è¡¨ï¼Œä½¿ç”¨ç”¨æˆ· ID æˆ–è®°å½•ç¼–å·æ¥è·¯ç”±æ•°æ®ã€‚åªè¦å®æ—¶æ“ä½œçš„è¡¨æ•°æ®é‡è¶³å¤Ÿå°ï¼Œè¯·æ±‚èƒ½å¤Ÿè¶³å¤Ÿå‡åŒ€çš„åˆ†å‘åˆ°å¤šå°æœåŠ¡å™¨ä¸Šçš„å°è¡¨ï¼Œé‚£æ•°æ®åº“å°±èƒ½é€šè¿‡æ°´å¹³æ‰©å±•çš„æ–¹å¼æ¥æé«˜æ€§èƒ½ã€‚å…¶ä¸­å‰é¢æåˆ°çš„ Mycat ä¹Ÿæ”¯æŒåœ¨å¤§è¡¨æ‹†åˆ†ä¸ºå°è¡¨æƒ…å†µä¸‹çš„è®¿é—®æ§åˆ¶ã€‚</p>
<p>è¿™ç§åšæ³•æ˜¾è‘—çš„å¢åŠ äº†æ•°æ®åº“è¿ç»´çš„éš¾åº¦ï¼Œå¯¹ DBA çš„è¦æ±‚è¾ƒé«˜ã€‚æ•°æ®åº“è®¾è®¡åˆ°è¿™ç§ç»“æ„æ—¶ï¼Œå·²ç»å¯ä»¥ç§°ä¸ºåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œä½†æ˜¯è¿™åªæ˜¯ä¸€ä¸ªé€»è¾‘çš„æ•°æ®åº“æ•´ä½“ï¼Œæ•°æ®åº“é‡Œä¸åŒçš„ç»„æˆéƒ¨åˆ†æ˜¯ç”±ä¸åŒçš„ç»„ä»¶å•ç‹¬æ¥å®ç°çš„ï¼Œå¦‚åˆ†åº“åˆ†è¡¨çš„ç®¡ç†å’Œè¯·æ±‚åˆ†å‘ï¼Œç”± Mycat å®ç°ï¼ŒSQL çš„è§£æç”±å•æœºçš„æ•°æ®åº“å®ç°ï¼Œè¯»å†™åˆ†ç¦»å¯èƒ½ç”±ç½‘å…³å’Œæ¶ˆæ¯é˜Ÿåˆ—æ¥å®ç°ï¼ŒæŸ¥è¯¢ç»“æœçš„æ±‡æ€»å¯èƒ½ç”±æ•°æ®åº“æ¥å£å±‚æ¥å®ç°ç­‰ç­‰ï¼Œè¿™ç§æ¶æ„å…¶å®æ˜¯ <strong><ruby>MPP<rt>Massively Parallel Processing</rt></ruby></strong>
ï¼ˆå¤§è§„æ¨¡å¹¶è¡Œå¤„ç†ï¼‰æ¶æ„çš„ä¸€ç±»å®ç°ã€‚</p>
<p>ç›®å‰å¼€æºå’Œå•†ç”¨éƒ½å·²ç»æœ‰ä¸å°‘ MPP æ•°æ®åº“ï¼Œå¼€æºä¸­æ¯”è¾ƒæµè¡Œçš„æœ‰ Greenplumã€TiDBã€Postgresql XCã€HAWQ ç­‰ï¼Œå•†ç”¨çš„å¦‚å—å¤§é€šç”¨çš„ GBaseã€ç¿å¸†ç§‘æŠ€çš„é›ªçƒ DBã€åä¸ºçš„ LibrA ç­‰ç­‰ï¼Œä¸åŒçš„ MPP æ•°æ®åº“çš„ä¾§é‡ç‚¹ä¹Ÿä¸ä¸€æ ·ï¼Œå¦‚ TiDB æ›´ä¾§é‡äºåˆ†å¸ƒå¼ OLTP åœºæ™¯ï¼ŒGreenplum æ›´ä¾§é‡äºåˆ†å¸ƒå¼ OLAP åœºæ™¯ï¼Œè¿™äº› MPP æ•°æ®åº“åŸºæœ¬éƒ½æä¾›äº†ç±»ä¼¼ Postgresqlã€Oracleã€MySQL é‚£æ ·çš„ SQL æ ‡å‡†æ”¯æŒèƒ½åŠ›ï¼Œèƒ½æŠŠä¸€ä¸ªæŸ¥è¯¢è§£æä¸ºåˆ†å¸ƒå¼çš„æ‰§è¡Œè®¡åˆ’åˆ†å‘åˆ°æ¯å°æœºå™¨ä¸Šå¹¶è¡Œæ‰§è¡Œï¼Œæœ€ç»ˆç”±æ•°æ®åº“æœ¬èº«æ±‡æ€»æ•°æ®è¿›è¡Œè¿”å›ï¼Œä¹Ÿæä¾›äº†è¯¸å¦‚æƒé™ç®¡ç†ã€åˆ†åº“åˆ†è¡¨ã€äº‹åŠ¡ã€æ•°æ®å‰¯æœ¬ç­‰èƒ½åŠ›ï¼Œå¹¶ä¸”å¤§å¤šèƒ½å¤Ÿæ”¯æŒ 100 ä¸ªèŠ‚ç‚¹ä»¥ä¸Šçš„é›†ç¾¤ï¼Œå¤§å¤§é™ä½äº†æ•°æ®åº“è¿ç»´çš„æˆæœ¬ï¼Œå¹¶ä¸”ä½¿æ•°æ®åº“ä¹Ÿèƒ½å¤Ÿå®ç°æ°´å¹³æ‰©å±•ã€‚</p>
<blockquote>
<p>æ•°æ®åº“å’Œ Tomcat éƒ½èƒ½å¤Ÿæ°´å¹³æ‰©å±•ï¼Œå¯æ”¯æ’‘çš„å¹¶å‘å¤§å¹…æé«˜ï¼Œéšç€ç”¨æˆ·æ•°çš„å¢é•¿ï¼Œæœ€ç»ˆå•æœºçš„ Nginx ä¼šæˆä¸ºç“¶é¢ˆ</p>
</blockquote>
<h3 id="38-ç¬¬ä¸ƒæ¬¡æ¼”è¿›ä½¿ç”¨-lvs-æˆ–-f5-æ¥ä½¿å¤šä¸ª-nginx-è´Ÿè½½å‡è¡¡" class="headerLink">
    <a href="#38-%e7%ac%ac%e4%b8%83%e6%ac%a1%e6%bc%94%e8%bf%9b%e4%bd%bf%e7%94%a8-lvs-%e6%88%96-f5-%e6%9d%a5%e4%bd%bf%e5%a4%9a%e4%b8%aa-nginx-%e8%b4%9f%e8%bd%bd%e5%9d%87%e8%a1%a1" class="header-mark"></a>3.8 ç¬¬ä¸ƒæ¬¡æ¼”è¿›ï¼šä½¿ç”¨ LVS æˆ– F5 æ¥ä½¿å¤šä¸ª Nginx è´Ÿè½½å‡è¡¡</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/1b37027ad49a4aaeb4485885ad9a696a.png" title="ç¬¬ä¸ƒæ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/1b37027ad49a4aaeb4485885ad9a696a.png" data-sub-html="<h2>ç¬¬ä¸ƒæ¬¡æ¼”è¿›</h2><p>ç¬¬ä¸ƒæ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬ä¸ƒæ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>ç”±äºç“¶é¢ˆåœ¨ Nginxï¼Œå› æ­¤æ— æ³•é€šè¿‡ä¸¤å±‚çš„ Nginx æ¥å®ç°å¤šä¸ª Nginx çš„è´Ÿè½½å‡è¡¡ã€‚å›¾ä¸­çš„ <strong><ruby>LVS<rt>Linux Virtual Server</rt></ruby></strong> å’Œ F5 æ˜¯å·¥ä½œåœ¨ç½‘ç»œç¬¬å››å±‚çš„è´Ÿè½½å‡è¡¡è§£å†³æ–¹æ¡ˆï¼Œå…¶ä¸­ LVS æ˜¯è½¯ä»¶ï¼Œè¿è¡Œåœ¨æ“ä½œç³»ç»Ÿå†…æ ¸æ€ï¼Œå¯å¯¹ TCP è¯·æ±‚æˆ–æ›´é«˜å±‚çº§çš„ç½‘ç»œåè®®è¿›è¡Œè½¬å‘ï¼Œå› æ­¤æ”¯æŒçš„åè®®æ›´ä¸°å¯Œï¼Œå¹¶ä¸”æ€§èƒ½ä¹Ÿè¿œé«˜äº Nginxï¼Œå¯å‡è®¾å•æœºçš„ LVS å¯æ”¯æŒå‡ åä¸‡ä¸ªå¹¶å‘çš„è¯·æ±‚è½¬å‘ï¼›F5 æ˜¯ä¸€ç§è´Ÿè½½å‡è¡¡ç¡¬ä»¶ï¼Œä¸ LVS æä¾›çš„èƒ½åŠ›ç±»ä¼¼ï¼Œæ€§èƒ½æ¯” LVS æ›´é«˜ï¼Œä½†ä»·æ ¼æ˜‚è´µã€‚</p>
<p>ç”±äº LVS æ˜¯å•æœºç‰ˆçš„è½¯ä»¶ï¼Œè‹¥ LVS æ‰€åœ¨æœåŠ¡å™¨å®•æœºåˆ™ä¼šå¯¼è‡´æ•´ä¸ªåç«¯ç³»ç»Ÿéƒ½æ— æ³•è®¿é—®ï¼Œå› æ­¤éœ€è¦æœ‰å¤‡ç”¨èŠ‚ç‚¹ã€‚å¯ä½¿ç”¨ keepalived è½¯ä»¶æ¨¡æ‹Ÿå‡ºè™šæ‹Ÿ IPï¼Œç„¶åæŠŠè™šæ‹Ÿ IP ç»‘å®šåˆ°å¤šå° LVS æœåŠ¡å™¨ä¸Šï¼Œæµè§ˆå™¨è®¿é—®è™šæ‹Ÿ IP æ—¶ï¼Œä¼šè¢«è·¯ç”±å™¨é‡å®šå‘åˆ°çœŸå®çš„ LVS æœåŠ¡å™¨ï¼Œå½“ä¸» LVS æœåŠ¡å™¨å®•æœºæ—¶ï¼Œkeepalived è½¯ä»¶ä¼šè‡ªåŠ¨æ›´æ–°è·¯ç”±å™¨ä¸­çš„è·¯ç”±è¡¨ï¼ŒæŠŠè™šæ‹Ÿ IP é‡å®šå‘åˆ°å¦å¤–ä¸€å°æ­£å¸¸çš„ LVS æœåŠ¡å™¨ï¼Œä»è€Œè¾¾åˆ° LVS æœåŠ¡å™¨é«˜å¯ç”¨çš„æ•ˆæœã€‚</p>
<p>æ­¤å¤„éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šå›¾ä¸­ä» Nginx å±‚åˆ° Tomcat å±‚è¿™æ ·ç”»å¹¶ä¸ä»£è¡¨å…¨éƒ¨ Nginx éƒ½è½¬å‘è¯·æ±‚åˆ°å…¨éƒ¨çš„ Tomcatï¼Œåœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œå¯èƒ½ä¼šæ˜¯å‡ ä¸ª Nginx ä¸‹é¢æ¥ä¸€éƒ¨åˆ†çš„ Tomcatï¼Œè¿™äº› Nginx ä¹‹é—´é€šè¿‡ keepalived å®ç°é«˜å¯ç”¨ï¼Œå…¶ä»–çš„ Nginx æ¥å¦å¤–çš„ Tomcatï¼Œè¿™æ ·å¯æ¥å…¥çš„ Tomcat æ•°é‡å°±èƒ½æˆå€çš„å¢åŠ ã€‚</p>
<blockquote>
<p>ç”±äº LVS ä¹Ÿæ˜¯å•æœºçš„ï¼Œéšç€å¹¶å‘æ•°å¢é•¿åˆ°å‡ åä¸‡æ—¶ï¼ŒLVS æœåŠ¡å™¨æœ€ç»ˆä¼šè¾¾åˆ°ç“¶é¢ˆï¼Œæ­¤æ—¶ç”¨æˆ·æ•°è¾¾åˆ°åƒä¸‡ç”šè‡³ä¸Šäº¿çº§åˆ«ï¼Œç”¨æˆ·åˆ†å¸ƒåœ¨ä¸åŒçš„åœ°åŒºï¼Œä¸æœåŠ¡å™¨æœºæˆ¿è·ç¦»ä¸åŒï¼Œå¯¼è‡´äº†è®¿é—®çš„å»¶è¿Ÿä¼šæ˜æ˜¾ä¸åŒ</p>
</blockquote>
<h3 id="39-ç¬¬å…«æ¬¡æ¼”è¿›é€šè¿‡-dns-è½®è¯¢å®ç°æœºæˆ¿é—´çš„è´Ÿè½½å‡è¡¡" class="headerLink">
    <a href="#39-%e7%ac%ac%e5%85%ab%e6%ac%a1%e6%bc%94%e8%bf%9b%e9%80%9a%e8%bf%87-dns-%e8%bd%ae%e8%af%a2%e5%ae%9e%e7%8e%b0%e6%9c%ba%e6%88%bf%e9%97%b4%e7%9a%84%e8%b4%9f%e8%bd%bd%e5%9d%87%e8%a1%a1" class="header-mark"></a>3.9 ç¬¬å…«æ¬¡æ¼”è¿›ï¼šé€šè¿‡ DNS è½®è¯¢å®ç°æœºæˆ¿é—´çš„è´Ÿè½½å‡è¡¡</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/460349470a99405eb838823aa29cbe27.png" title="ç¬¬å…«æ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/460349470a99405eb838823aa29cbe27.png" data-sub-html="<h2>ç¬¬å…«æ¬¡æ¼”è¿›</h2><p>ç¬¬å…«æ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬å…«æ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>åœ¨ DNS æœåŠ¡å™¨ä¸­å¯é…ç½®ä¸€ä¸ªåŸŸåå¯¹åº”å¤šä¸ª IP åœ°å€ï¼Œæ¯ä¸ª IP åœ°å€å¯¹åº”åˆ°ä¸åŒçš„æœºæˆ¿é‡Œçš„è™šæ‹Ÿ IPã€‚å½“ç”¨æˆ·è®¿é—® <code>www.taobao.com</code> æ—¶ï¼ŒDNS æœåŠ¡å™¨ä¼šä½¿ç”¨è½®è¯¢ç­–ç•¥æˆ–å…¶ä»–ç­–ç•¥ï¼Œæ¥é€‰æ‹©æŸä¸ª IP ä¾›ç”¨æˆ·è®¿é—®ã€‚æ­¤æ–¹å¼èƒ½å®ç°æœºæˆ¿é—´çš„è´Ÿè½½å‡è¡¡ï¼Œè‡³æ­¤ï¼Œç³»ç»Ÿå¯åšåˆ°æœºæˆ¿çº§åˆ«çš„æ°´å¹³æ‰©å±•ï¼Œåƒä¸‡çº§åˆ°äº¿çº§çš„å¹¶å‘é‡éƒ½å¯é€šè¿‡å¢åŠ æœºæˆ¿æ¥è§£å†³ï¼Œç³»ç»Ÿå…¥å£å¤„çš„è¯·æ±‚å¹¶å‘é‡ä¸å†æ˜¯é—®é¢˜ã€‚</p>
<blockquote>
<p>éšç€æ•°æ®çš„ä¸°å¯Œç¨‹åº¦å’Œä¸šåŠ¡çš„å‘å±•ï¼Œæ£€ç´¢ã€åˆ†æç­‰éœ€æ±‚è¶Šæ¥è¶Šä¸°å¯Œï¼Œå•å•ä¾é æ•°æ®åº“æ— æ³•è§£å†³å¦‚æ­¤ä¸°å¯Œçš„éœ€æ±‚</p>
</blockquote>
<h3 id="310-ç¬¬ä¹æ¬¡æ¼”è¿›å¼•å…¥-nosql-æ•°æ®åº“å’Œæœç´¢å¼•æ“ç­‰æŠ€æœ¯" class="headerLink">
    <a href="#310-%e7%ac%ac%e4%b9%9d%e6%ac%a1%e6%bc%94%e8%bf%9b%e5%bc%95%e5%85%a5-nosql-%e6%95%b0%e6%8d%ae%e5%ba%93%e5%92%8c%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e7%ad%89%e6%8a%80%e6%9c%af" class="header-mark"></a>3.10 ç¬¬ä¹æ¬¡æ¼”è¿›ï¼šå¼•å…¥ NoSQL æ•°æ®åº“å’Œæœç´¢å¼•æ“ç­‰æŠ€æœ¯</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/4431084b90e14e95bad5a0beb93e9196.png" title="ç¬¬ä¹æ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/4431084b90e14e95bad5a0beb93e9196.png" data-sub-html="<h2>ç¬¬ä¹æ¬¡æ¼”è¿›</h2><p>ç¬¬ä¹æ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬ä¹æ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>å½“æ•°æ®åº“ä¸­çš„æ•°æ®å¤šåˆ°ä¸€å®šè§„æ¨¡æ—¶ï¼Œæ•°æ®åº“å°±ä¸é€‚ç”¨äºå¤æ‚çš„æŸ¥è¯¢äº†ï¼Œå¾€å¾€åªèƒ½æ»¡è¶³æ™®é€šæŸ¥è¯¢çš„åœºæ™¯ã€‚å¯¹äºç»Ÿè®¡æŠ¥è¡¨åœºæ™¯ï¼Œåœ¨æ•°æ®é‡å¤§æ—¶ä¸ä¸€å®šèƒ½è·‘å‡ºç»“æœï¼Œè€Œä¸”åœ¨è·‘å¤æ‚æŸ¥è¯¢æ—¶ä¼šå¯¼è‡´å…¶ä»–æŸ¥è¯¢å˜æ…¢ï¼Œå¯¹äºå…¨æ–‡æ£€ç´¢ã€å¯å˜æ•°æ®ç»“æ„ç­‰åœºæ™¯ï¼Œæ•°æ®åº“å¤©ç”Ÿä¸é€‚ç”¨ã€‚å› æ­¤éœ€è¦é’ˆå¯¹ç‰¹å®šçš„åœºæ™¯ï¼Œå¼•å…¥åˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚å¦‚å¯¹äºæµ·é‡æ–‡ä»¶å­˜å‚¨ï¼Œå¯é€šè¿‡åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ HDFS è§£å†³ï¼Œå¯¹äº key value ç±»å‹çš„æ•°æ®ï¼Œå¯é€šè¿‡ HBase å’Œ Redis ç­‰æ–¹æ¡ˆè§£å†³ï¼Œå¯¹äºå…¨æ–‡æ£€ç´¢åœºæ™¯ï¼Œå¯é€šè¿‡æœç´¢å¼•æ“å¦‚ ElasticSearch è§£å†³ï¼Œå¯¹äºå¤šç»´åˆ†æåœºæ™¯ï¼Œå¯é€šè¿‡ Kylin æˆ– Druid ç­‰æ–¹æ¡ˆè§£å†³ã€‚</p>
<p>å½“ç„¶ï¼Œå¼•å…¥æ›´å¤šç»„ä»¶åŒæ—¶ä¼šæé«˜ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œä¸åŒçš„ç»„ä»¶ä¿å­˜çš„æ•°æ®éœ€è¦åŒæ­¥ï¼Œéœ€è¦è€ƒè™‘ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œéœ€è¦æœ‰æ›´å¤šçš„è¿ç»´æ‰‹æ®µæ¥ç®¡ç†è¿™äº›ç»„ä»¶ç­‰ã€‚</p>
<blockquote>
<p>å¼•å…¥æ›´å¤šç»„ä»¶è§£å†³äº†ä¸°å¯Œçš„éœ€æ±‚ï¼Œä¸šåŠ¡ç»´åº¦èƒ½å¤Ÿæå¤§æ‰©å……ï¼Œéšä¹‹è€Œæ¥çš„æ˜¯ä¸€ä¸ªåº”ç”¨ä¸­åŒ…å«äº†å¤ªå¤šçš„ä¸šåŠ¡ä»£ç ï¼Œä¸šåŠ¡çš„å‡çº§è¿­ä»£å˜å¾—å›°éš¾</p>
</blockquote>
<h3 id="311-ç¬¬åæ¬¡æ¼”è¿›å¤§åº”ç”¨æ‹†åˆ†ä¸ºå°åº”ç”¨" class="headerLink">
    <a href="#311-%e7%ac%ac%e5%8d%81%e6%ac%a1%e6%bc%94%e8%bf%9b%e5%a4%a7%e5%ba%94%e7%94%a8%e6%8b%86%e5%88%86%e4%b8%ba%e5%b0%8f%e5%ba%94%e7%94%a8" class="header-mark"></a>3.11 ç¬¬åæ¬¡æ¼”è¿›ï¼šå¤§åº”ç”¨æ‹†åˆ†ä¸ºå°åº”ç”¨</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/8cb5f4af10c54384bcda7ac1a19bdaba.png" title="ç¬¬åæ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/8cb5f4af10c54384bcda7ac1a19bdaba.png" data-sub-html="<h2>ç¬¬åæ¬¡æ¼”è¿›</h2><p>ç¬¬åæ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬åæ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>æŒ‰ç…§ä¸šåŠ¡æ¿å—æ¥åˆ’åˆ†åº”ç”¨ä»£ç ï¼Œä½¿å•ä¸ªåº”ç”¨çš„èŒè´£æ›´æ¸…æ™°ï¼Œç›¸äº’ä¹‹é—´å¯ä»¥åšåˆ°ç‹¬ç«‹å‡çº§è¿­ä»£ã€‚è¿™æ—¶å€™åº”ç”¨ä¹‹é—´å¯èƒ½ä¼šæ¶‰åŠåˆ°ä¸€äº›å…¬å…±é…ç½®ï¼Œå¯ä»¥é€šè¿‡åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ Zookeeper æ¥è§£å†³ã€‚</p>
<blockquote>
<p>ä¸åŒåº”ç”¨ä¹‹é—´å­˜åœ¨å…±ç”¨çš„æ¨¡å—ï¼Œç”±åº”ç”¨å•ç‹¬ç®¡ç†ä¼šå¯¼è‡´ç›¸åŒä»£ç å­˜åœ¨å¤šä»½ï¼Œå¯¼è‡´å…¬å…±åŠŸèƒ½å‡çº§æ—¶å…¨éƒ¨åº”ç”¨ä»£ç éƒ½è¦è·Ÿç€å‡çº§</p>
</blockquote>
<h3 id="312-ç¬¬åä¸€æ¬¡æ¼”è¿›å¤ç”¨çš„åŠŸèƒ½æŠ½ç¦»æˆå¾®æœåŠ¡" class="headerLink">
    <a href="#312-%e7%ac%ac%e5%8d%81%e4%b8%80%e6%ac%a1%e6%bc%94%e8%bf%9b%e5%a4%8d%e7%94%a8%e7%9a%84%e5%8a%9f%e8%83%bd%e6%8a%bd%e7%a6%bb%e6%88%90%e5%be%ae%e6%9c%8d%e5%8a%a1" class="header-mark"></a>3.12 ç¬¬åä¸€æ¬¡æ¼”è¿›ï¼šå¤ç”¨çš„åŠŸèƒ½æŠ½ç¦»æˆå¾®æœåŠ¡</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/542da2f0e6704dd2bc537098708aedcc.png" title="ç¬¬åä¸€æ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/542da2f0e6704dd2bc537098708aedcc.png" data-sub-html="<h2>ç¬¬åä¸€æ¬¡æ¼”è¿›</h2><p>ç¬¬åä¸€æ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬åä¸€æ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>å¦‚ç”¨æˆ·ç®¡ç†ã€è®¢å•ã€æ”¯ä»˜ã€é‰´æƒç­‰åŠŸèƒ½åœ¨å¤šä¸ªåº”ç”¨ä¸­éƒ½å­˜åœ¨ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠè¿™äº›åŠŸèƒ½çš„ä»£ç å•ç‹¬æŠ½å–å‡ºæ¥å½¢æˆä¸€ä¸ªå•ç‹¬çš„æœåŠ¡æ¥ç®¡ç†ï¼Œè¿™æ ·çš„æœåŠ¡å°±æ˜¯æ‰€è°“çš„å¾®æœåŠ¡ï¼Œåº”ç”¨å’ŒæœåŠ¡ä¹‹é—´é€šè¿‡ HTTPã€TCP æˆ– RPC è¯·æ±‚ç­‰å¤šç§æ–¹å¼æ¥è®¿é—®å…¬å…±æœåŠ¡ï¼Œæ¯ä¸ªå•ç‹¬çš„æœåŠ¡éƒ½å¯ä»¥ç”±å•ç‹¬çš„å›¢é˜Ÿæ¥ç®¡ç†ã€‚æ­¤å¤–ï¼Œå¯ä»¥é€šè¿‡ Dubboã€SpringCloud ç­‰æ¡†æ¶å®ç°æœåŠ¡æ²»ç†ã€é™æµã€ç†”æ–­ã€é™çº§ç­‰åŠŸèƒ½ï¼Œæé«˜æœåŠ¡çš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ã€‚</p>
<blockquote>
<p>ä¸åŒæœåŠ¡çš„æ¥å£è®¿é—®æ–¹å¼ä¸åŒï¼Œåº”ç”¨ä»£ç éœ€è¦é€‚é…å¤šç§è®¿é—®æ–¹å¼æ‰èƒ½ä½¿ç”¨æœåŠ¡ï¼Œæ­¤å¤–ï¼Œåº”ç”¨è®¿é—®æœåŠ¡ï¼ŒæœåŠ¡ä¹‹é—´ä¹Ÿå¯èƒ½ç›¸äº’è®¿é—®ï¼Œè°ƒç”¨é“¾å°†ä¼šå˜å¾—éå¸¸å¤æ‚ï¼Œé€»è¾‘å˜å¾—æ··ä¹±</p>
</blockquote>
<h3 id="313-ç¬¬åäºŒæ¬¡æ¼”è¿›å¼•å…¥ä¼ä¸šæœåŠ¡æ€»çº¿-esb-å±è”½æœåŠ¡æ¥å£çš„è®¿é—®å·®å¼‚" class="headerLink">
    <a href="#313-%e7%ac%ac%e5%8d%81%e4%ba%8c%e6%ac%a1%e6%bc%94%e8%bf%9b%e5%bc%95%e5%85%a5%e4%bc%81%e4%b8%9a%e6%9c%8d%e5%8a%a1%e6%80%bb%e7%ba%bf-esb-%e5%b1%8f%e8%94%bd%e6%9c%8d%e5%8a%a1%e6%8e%a5%e5%8f%a3%e7%9a%84%e8%ae%bf%e9%97%ae%e5%b7%ae%e5%bc%82" class="header-mark"></a>3.13 ç¬¬åäºŒæ¬¡æ¼”è¿›ï¼šå¼•å…¥ä¼ä¸šæœåŠ¡æ€»çº¿ ESB å±è”½æœåŠ¡æ¥å£çš„è®¿é—®å·®å¼‚</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/a2f54a652b6141f88fc441a97e8dea97.png" title="ç¬¬åäºŒæ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/a2f54a652b6141f88fc441a97e8dea97.png" data-sub-html="<h2>ç¬¬åäºŒæ¬¡æ¼”è¿›</h2><p>ç¬¬åäºŒæ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬åäºŒæ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>é€šè¿‡ ESB ç»Ÿä¸€è¿›è¡Œè®¿é—®åè®®è½¬æ¢ï¼Œåº”ç”¨ç»Ÿä¸€é€šè¿‡ ESB æ¥è®¿é—®åç«¯æœåŠ¡ï¼ŒæœåŠ¡ä¸æœåŠ¡ä¹‹é—´ä¹Ÿé€šè¿‡ ESB æ¥ç›¸äº’è°ƒç”¨ï¼Œä»¥æ­¤é™ä½ç³»ç»Ÿçš„è€¦åˆç¨‹åº¦ã€‚è¿™ç§å•ä¸ªåº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªåº”ç”¨ï¼Œå…¬å…±æœåŠ¡å•ç‹¬æŠ½å–å‡ºæ¥æ¥ç®¡ç†ï¼Œå¹¶ä½¿ç”¨ä¼ä¸šæ¶ˆæ¯æ€»çº¿æ¥è§£é™¤æœåŠ¡ä¹‹é—´è€¦åˆé—®é¢˜çš„æ¶æ„ï¼Œå°±æ˜¯æ‰€è°“çš„
<strong><ruby>SOA<rt>Service-Oriented Architecture</rt></ruby></strong>ï¼ˆé¢å‘æœåŠ¡ï¼‰æ¶æ„ï¼Œè¿™ç§æ¶æ„ä¸å¾®æœåŠ¡æ¶æ„å®¹æ˜“æ··æ·†ï¼Œå› ä¸ºè¡¨ç°å½¢å¼ååˆ†ç›¸ä¼¼ã€‚</p>
<p>ä¸ªäººç†è§£ï¼Œå¾®æœåŠ¡æ¶æ„æ›´å¤šæ˜¯æŒ‡æŠŠç³»ç»Ÿé‡Œçš„å…¬å…±æœåŠ¡æŠ½å–å‡ºæ¥å•ç‹¬è¿ç»´ç®¡ç†çš„æ€æƒ³ï¼Œè€Œ SOA æ¶æ„åˆ™æ˜¯æŒ‡ä¸€ç§æ‹†åˆ†æœåŠ¡å¹¶ä½¿æœåŠ¡æ¥å£è®¿é—®å˜å¾—ç»Ÿä¸€çš„æ¶æ„æ€æƒ³ï¼ŒSOA æ¶æ„ä¸­åŒ…å«äº†å¾®æœåŠ¡çš„æ€æƒ³ã€‚</p>
<blockquote>
<p>ä¸šåŠ¡ä¸æ–­å‘å±•ï¼Œåº”ç”¨å’ŒæœåŠ¡éƒ½ä¼šä¸æ–­å˜å¤šï¼Œåº”ç”¨å’ŒæœåŠ¡çš„éƒ¨ç½²å˜å¾—å¤æ‚ï¼ŒåŒä¸€å°æœåŠ¡å™¨ä¸Šéƒ¨ç½²å¤šä¸ªæœåŠ¡è¿˜è¦è§£å†³è¿è¡Œç¯å¢ƒå†²çªçš„é—®é¢˜ï¼Œ
æ­¤å¤–ï¼Œå¯¹äºå¦‚å¤§ä¿ƒè¿™ç±»éœ€è¦åŠ¨æ€æ‰©ç¼©å®¹çš„åœºæ™¯ï¼Œéœ€è¦æ°´å¹³æ‰©å±•æœåŠ¡çš„æ€§èƒ½ï¼Œå°±éœ€è¦åœ¨æ–°å¢çš„æœåŠ¡ä¸Šå‡†å¤‡è¿è¡Œç¯å¢ƒï¼Œéƒ¨ç½²æœåŠ¡ç­‰ï¼Œè¿ç»´å°†å˜å¾—ååˆ†å›°éš¾</p>
</blockquote>
<h3 id="314-ç¬¬åä¸‰æ¬¡æ¼”è¿›å¼•å…¥å®¹å™¨åŒ–æŠ€æœ¯å®ç°è¿è¡Œç¯å¢ƒéš”ç¦»ä¸åŠ¨æ€æœåŠ¡ç®¡ç†" class="headerLink">
    <a href="#314-%e7%ac%ac%e5%8d%81%e4%b8%89%e6%ac%a1%e6%bc%94%e8%bf%9b%e5%bc%95%e5%85%a5%e5%ae%b9%e5%99%a8%e5%8c%96%e6%8a%80%e6%9c%af%e5%ae%9e%e7%8e%b0%e8%bf%90%e8%a1%8c%e7%8e%af%e5%a2%83%e9%9a%94%e7%a6%bb%e4%b8%8e%e5%8a%a8%e6%80%81%e6%9c%8d%e5%8a%a1%e7%ae%a1%e7%90%86" class="header-mark"></a>3.14 ç¬¬åä¸‰æ¬¡æ¼”è¿›ï¼šå¼•å…¥å®¹å™¨åŒ–æŠ€æœ¯å®ç°è¿è¡Œç¯å¢ƒéš”ç¦»ä¸åŠ¨æ€æœåŠ¡ç®¡ç†</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/ebae2b361aaa4d00a266279ffb59f28e.png" title="ç¬¬åä¸‰æ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/ebae2b361aaa4d00a266279ffb59f28e.png" data-sub-html="<h2>ç¬¬åä¸‰æ¬¡æ¼”è¿›</h2><p>ç¬¬åä¸‰æ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬åä¸‰æ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>ç›®å‰æœ€æµè¡Œçš„å®¹å™¨åŒ–æŠ€æœ¯æ˜¯ Dockerï¼Œæœ€æµè¡Œçš„å®¹å™¨ç®¡ç†æœåŠ¡æ˜¯ Kubernetes(K8S)ï¼Œåº”ç”¨/æœåŠ¡å¯ä»¥æ‰“åŒ…ä¸º Docker é•œåƒï¼Œé€šè¿‡ K8S æ¥åŠ¨æ€åˆ†å‘å’Œéƒ¨ç½²é•œåƒã€‚Docker é•œåƒå¯ç†è§£ä¸ºä¸€ä¸ªèƒ½è¿è¡Œä½ çš„åº”ç”¨/æœåŠ¡çš„æœ€å°çš„æ“ä½œç³»ç»Ÿï¼Œé‡Œé¢æ”¾ç€åº”ç”¨/æœåŠ¡çš„è¿è¡Œä»£ç ï¼Œè¿è¡Œç¯å¢ƒæ ¹æ®å®é™…çš„éœ€è¦è®¾ç½®å¥½ã€‚æŠŠæ•´ä¸ªâ€œæ“ä½œç³»ç»Ÿâ€æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒåï¼Œå°±å¯ä»¥åˆ†å‘åˆ°éœ€è¦éƒ¨ç½²ç›¸å…³æœåŠ¡çš„æœºå™¨ä¸Šï¼Œç›´æ¥å¯åŠ¨ Docker é•œåƒå°±å¯ä»¥æŠŠæœåŠ¡èµ·èµ·æ¥ï¼Œä½¿æœåŠ¡çš„éƒ¨ç½²å’Œè¿ç»´å˜å¾—ç®€å•ã€‚</p>
<p>åœ¨å¤§ä¿ƒçš„ä¹‹å‰ï¼Œå¯ä»¥åœ¨ç°æœ‰çš„æœºå™¨é›†ç¾¤ä¸Šåˆ’åˆ†å‡ºæœåŠ¡å™¨æ¥å¯åŠ¨ Docker é•œåƒï¼Œå¢å¼ºæœåŠ¡çš„æ€§èƒ½ï¼Œå¤§ä¿ƒè¿‡åå°±å¯ä»¥å…³é—­é•œåƒï¼Œå¯¹æœºå™¨ä¸Šçš„å…¶ä»–æœåŠ¡ä¸é€ æˆå½±å“ï¼ˆåœ¨ 3.14 èŠ‚ä¹‹å‰ï¼ŒæœåŠ¡è¿è¡Œåœ¨æ–°å¢æœºå™¨ä¸Šéœ€è¦ä¿®æ”¹ç³»ç»Ÿé…ç½®æ¥é€‚é…æœåŠ¡ï¼Œè¿™ä¼šå¯¼è‡´æœºå™¨ä¸Šå…¶ä»–æœåŠ¡éœ€è¦çš„è¿è¡Œç¯å¢ƒè¢«ç ´åï¼‰ã€‚</p>
<blockquote>
<p>ä½¿ç”¨å®¹å™¨åŒ–æŠ€æœ¯åæœåŠ¡åŠ¨æ€æ‰©ç¼©å®¹é—®é¢˜å¾—ä»¥è§£å†³ï¼Œä½†æ˜¯æœºå™¨è¿˜æ˜¯éœ€è¦å…¬å¸è‡ªèº«æ¥ç®¡ç†ï¼Œåœ¨éå¤§ä¿ƒçš„æ—¶å€™ï¼Œè¿˜æ˜¯éœ€è¦é—²ç½®ç€å¤§é‡çš„æœºå™¨èµ„æºæ¥åº”å¯¹å¤§ä¿ƒï¼Œæœºå™¨è‡ªèº«æˆæœ¬å’Œè¿ç»´æˆæœ¬éƒ½æé«˜ï¼Œèµ„æºåˆ©ç”¨ç‡ä½</p>
</blockquote>
<h3 id="315-ç¬¬åå››æ¬¡æ¼”è¿›ä»¥äº‘å¹³å°æ‰¿è½½ç³»ç»Ÿ" class="headerLink">
    <a href="#315-%e7%ac%ac%e5%8d%81%e5%9b%9b%e6%ac%a1%e6%bc%94%e8%bf%9b%e4%bb%a5%e4%ba%91%e5%b9%b3%e5%8f%b0%e6%89%bf%e8%bd%bd%e7%b3%bb%e7%bb%9f" class="header-mark"></a>3.15 ç¬¬åå››æ¬¡æ¼”è¿›ï¼šä»¥äº‘å¹³å°æ‰¿è½½ç³»ç»Ÿ</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/9c8cba63d6594fa19726b0b0c97fe17d.png" title="ç¬¬åå››æ¬¡æ¼”è¿›" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220830/9c8cba63d6594fa19726b0b0c97fe17d.png" data-sub-html="<h2>ç¬¬åå››æ¬¡æ¼”è¿›</h2><p>ç¬¬åå››æ¬¡æ¼”è¿›</p>">
        
    </a><figcaption class="image-caption">ç¬¬åå››æ¬¡æ¼”è¿›</figcaption>
    </figure></p>
<p>ç³»ç»Ÿå¯éƒ¨ç½²åˆ°å…¬æœ‰äº‘ä¸Šï¼Œåˆ©ç”¨å…¬æœ‰äº‘çš„æµ·é‡æœºå™¨èµ„æºï¼Œè§£å†³åŠ¨æ€ç¡¬ä»¶èµ„æºçš„é—®é¢˜ï¼Œåœ¨å¤§ä¿ƒçš„æ—¶é—´æ®µé‡Œï¼Œåœ¨äº‘å¹³å°ä¸­ä¸´æ—¶ç”³è¯·æ›´å¤šçš„èµ„æºï¼Œç»“åˆ Docker å’Œ K8S æ¥å¿«é€Ÿéƒ¨ç½²æœåŠ¡ï¼Œåœ¨å¤§ä¿ƒç»“æŸåé‡Šæ”¾èµ„æºï¼ŒçœŸæ­£åšåˆ°æŒ‰éœ€ä»˜è´¹ï¼Œèµ„æºåˆ©ç”¨ç‡å¤§å¤§æé«˜ï¼ŒåŒæ—¶å¤§å¤§é™ä½äº†è¿ç»´æˆæœ¬ã€‚</p>
<p>æ‰€è°“çš„äº‘å¹³å°ï¼Œå°±æ˜¯æŠŠæµ·é‡æœºå™¨èµ„æºï¼Œé€šè¿‡ç»Ÿä¸€çš„èµ„æºç®¡ç†ï¼ŒæŠ½è±¡ä¸ºä¸€ä¸ªèµ„æºæ•´ä½“ï¼Œåœ¨ä¹‹ä¸Šå¯æŒ‰éœ€åŠ¨æ€ç”³è¯·ç¡¬ä»¶èµ„æºï¼ˆå¦‚ CPUã€å†…å­˜ã€ç½‘ç»œç­‰ï¼‰ï¼Œå¹¶ä¸”ä¹‹ä¸Šæä¾›é€šç”¨çš„æ“ä½œç³»ç»Ÿï¼Œæä¾›å¸¸ç”¨çš„æŠ€æœ¯ç»„ä»¶ï¼ˆå¦‚ Hadoop æŠ€æœ¯æ ˆï¼ŒMPP æ•°æ®åº“ç­‰ï¼‰ä¾›ç”¨æˆ·ä½¿ç”¨ï¼Œç”šè‡³æä¾›å¼€å‘å¥½çš„åº”ç”¨ï¼Œç”¨æˆ·ä¸éœ€è¦å…³ç³»åº”ç”¨å†…éƒ¨ä½¿ç”¨äº†ä»€ä¹ˆæŠ€æœ¯ï¼Œå°±èƒ½å¤Ÿè§£å†³éœ€æ±‚ï¼ˆå¦‚éŸ³è§†é¢‘è½¬ç æœåŠ¡ã€é‚®ä»¶æœåŠ¡ã€ä¸ªäººåšå®¢ç­‰ï¼‰ã€‚åœ¨äº‘å¹³å°ä¸­ä¼šæ¶‰åŠå¦‚ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š</p>
<ul>
<li>
<p><strong>IaaS</strong>åŸºç¡€è®¾æ–½å³æœåŠ¡ã€‚å¯¹åº”äºä¸Šé¢æ‰€è¯´çš„æœºå™¨èµ„æºç»Ÿä¸€ä¸ºèµ„æºæ•´ä½“ï¼Œå¯åŠ¨æ€ç”³è¯·ç¡¬ä»¶èµ„æºçš„å±‚é¢ï¼›</p>
</li>
<li>
<p><strong>PaaS</strong>å¹³å°å³æœåŠ¡ã€‚å¯¹åº”äºä¸Šé¢æ‰€è¯´çš„æä¾›å¸¸ç”¨çš„æŠ€æœ¯ç»„ä»¶æ–¹ä¾¿ç³»ç»Ÿçš„å¼€å‘å’Œç»´æŠ¤ï¼›</p>
</li>
<li>
<p><strong>SaaS</strong>è½¯ä»¶å³æœåŠ¡ã€‚å¯¹åº”äºä¸Šé¢æ‰€è¯´çš„æä¾›å¼€å‘å¥½çš„åº”ç”¨æˆ–æœåŠ¡ï¼ŒæŒ‰åŠŸèƒ½æˆ–æ€§èƒ½è¦æ±‚ä»˜è´¹ã€‚</p>
</li>
</ul>
<blockquote>
<p>è‡³æ­¤ï¼Œä»¥ä¸Šæ‰€æåˆ°çš„ä»é«˜å¹¶å‘è®¿é—®é—®é¢˜ï¼Œåˆ°æœåŠ¡çš„æ¶æ„å’Œç³»ç»Ÿå®æ–½çš„å±‚é¢éƒ½æœ‰äº†å„è‡ªçš„è§£å†³æ–¹æ¡ˆï¼Œä½†åŒæ—¶ä¹Ÿåº”è¯¥æ„è¯†åˆ°ï¼Œåœ¨ä¸Šé¢çš„ä»‹ç»ä¸­ï¼Œå…¶å®æ˜¯æœ‰æ„å¿½ç•¥äº†è¯¸å¦‚è·¨æœºæˆ¿æ•°æ®åŒæ­¥ã€åˆ†å¸ƒå¼äº‹åŠ¡å®ç°ç­‰ç­‰çš„å®é™…é—®é¢˜ï¼Œè¿™äº›é—®é¢˜ä»¥åæœ‰æœºä¼šå†æ‹¿å‡ºæ¥å•ç‹¬è®¨è®º</p>
</blockquote>
<h2 id="4-æ¶æ„è®¾è®¡æ€»ç»“" class="headerLink">
    <a href="#4-%e6%9e%b6%e6%9e%84%e8%ae%be%e8%ae%a1%e6%80%bb%e7%bb%93" class="header-mark"></a>4. æ¶æ„è®¾è®¡æ€»ç»“</h2><ul>
<li><strong>æ¶æ„çš„è°ƒæ•´æ˜¯å¦å¿…é¡»æŒ‰ç…§ä¸Šè¿°æ¼”å˜è·¯å¾„è¿›è¡Œï¼Ÿ</strong></li>
</ul>
<p>ä¸æ˜¯çš„ï¼Œä»¥ä¸Šæ‰€è¯´çš„æ¶æ„æ¼”å˜é¡ºåºåªæ˜¯é’ˆå¯¹æŸä¸ªä¾§é¢è¿›è¡Œå•ç‹¬çš„æ”¹è¿›ï¼Œåœ¨å®é™…åœºæ™¯ä¸­ï¼Œå¯èƒ½åŒä¸€æ—¶é—´ä¼šæœ‰å‡ ä¸ªé—®é¢˜éœ€è¦è§£å†³ï¼Œæˆ–è€…å¯èƒ½å…ˆè¾¾åˆ°ç“¶é¢ˆçš„æ˜¯å¦å¤–çš„æ–¹é¢ï¼Œè¿™æ—¶å€™å°±åº”è¯¥æŒ‰ç…§å®é™…é—®é¢˜å®é™…è§£å†³ã€‚å¦‚åœ¨æ”¿åºœç±»çš„å¹¶å‘é‡å¯èƒ½ä¸å¤§ï¼Œä½†ä¸šåŠ¡å¯èƒ½å¾ˆä¸°å¯Œçš„åœºæ™¯ï¼Œé«˜å¹¶å‘å°±ä¸æ˜¯é‡ç‚¹è§£å†³çš„é—®é¢˜ï¼Œæ­¤æ—¶ä¼˜å…ˆéœ€è¦çš„å¯èƒ½ä¼šæ˜¯ä¸°å¯Œéœ€æ±‚çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<ul>
<li><strong>å¯¹äºå°†è¦å®æ–½çš„ç³»ç»Ÿï¼Œæ¶æ„åº”è¯¥è®¾è®¡åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿ</strong></li>
</ul>
<p>å¯¹äºå•æ¬¡å®æ–½å¹¶ä¸”æ€§èƒ½æŒ‡æ ‡æ˜ç¡®çš„ç³»ç»Ÿï¼Œæ¶æ„è®¾è®¡åˆ°èƒ½å¤Ÿæ”¯æŒç³»ç»Ÿçš„æ€§èƒ½æŒ‡æ ‡è¦æ±‚å°±è¶³å¤Ÿäº†ï¼Œä½†è¦ç•™æœ‰æ‰©å±•æ¶æ„çš„æ¥å£ä»¥ä¾¿ä¸å¤‡ä¹‹éœ€ã€‚å¯¹äºä¸æ–­å‘å±•çš„ç³»ç»Ÿï¼Œå¦‚ç”µå•†å¹³å°ï¼Œåº”è®¾è®¡åˆ°èƒ½æ»¡è¶³ä¸‹ä¸€é˜¶æ®µç”¨æˆ·é‡å’Œæ€§èƒ½æŒ‡æ ‡è¦æ±‚çš„ç¨‹åº¦ï¼Œå¹¶æ ¹æ®ä¸šåŠ¡çš„å¢é•¿ä¸æ–­çš„è¿­ä»£å‡çº§æ¶æ„ï¼Œä»¥æ”¯æŒæ›´é«˜çš„å¹¶å‘å’Œæ›´ä¸°å¯Œçš„ä¸šåŠ¡ã€‚</p>
<ul>
<li><strong>æœåŠ¡ç«¯æ¶æ„å’Œå¤§æ•°æ®æ¶æ„æœ‰ä»€ä¹ˆåŒºåˆ«</strong>?</li>
</ul>
<p>æ‰€è°“çš„â€œå¤§æ•°æ®â€å…¶å®æ˜¯æµ·é‡æ•°æ®é‡‡é›†æ¸…æ´—è½¬æ¢ã€æ•°æ®å­˜å‚¨ã€æ•°æ®åˆ†æã€æ•°æ®æœåŠ¡ç­‰åœºæ™¯è§£å†³æ–¹æ¡ˆçš„ä¸€ä¸ªç»Ÿç§°ï¼Œåœ¨æ¯ä¸€ä¸ªåœºæ™¯éƒ½åŒ…å«äº†å¤šç§å¯é€‰çš„æŠ€æœ¯ï¼Œå¦‚æ•°æ®é‡‡é›†æœ‰ Flumeã€Sqoopã€Kettle ç­‰ï¼Œæ•°æ®å­˜å‚¨æœ‰åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ HDFSã€FastDFSï¼ŒNoSQL æ•°æ®åº“ HBaseã€MongoDB ç­‰ï¼Œæ•°æ®åˆ†ææœ‰ Spark æŠ€æœ¯æ ˆã€æœºå™¨å­¦ä¹ ç®—æ³•ç­‰ã€‚æ€»çš„æ¥è¯´å¤§æ•°æ®æ¶æ„å°±æ˜¯æ ¹æ®ä¸šåŠ¡çš„éœ€æ±‚ï¼Œæ•´åˆå„ç§å¤§æ•°æ®ç»„ä»¶ç»„åˆè€Œæˆçš„æ¶æ„ï¼Œä¸€èˆ¬ä¼šæä¾›åˆ†å¸ƒå¼å­˜å‚¨ã€åˆ†å¸ƒå¼è®¡ç®—ã€å¤šç»´åˆ†æã€æ•°æ®ä»“åº“ã€æœºå™¨å­¦ä¹ ç®—æ³•ç­‰èƒ½åŠ›ã€‚è€ŒæœåŠ¡ç«¯æ¶æ„æ›´å¤šæŒ‡çš„æ˜¯åº”ç”¨ç»„ç»‡å±‚é¢çš„æ¶æ„ï¼Œåº•å±‚èƒ½åŠ›å¾€å¾€æ˜¯ç”±å¤§æ•°æ®æ¶æ„æ¥æä¾›ã€‚</p>
<ul>
<li>
<p><strong>æœ‰æ²¡æœ‰ä¸€äº›æ¶æ„è®¾è®¡çš„åŸåˆ™ï¼Ÿ</strong></p>
<ul>
<li>
<p>N+1 è®¾è®¡ã€‚ç³»ç»Ÿä¸­çš„æ¯ä¸ªç»„ä»¶éƒ½åº”åšåˆ°æ²¡æœ‰å•ç‚¹æ•…éšœï¼›</p>
</li>
<li>
<p>å›æ»šè®¾è®¡ã€‚ç¡®ä¿ç³»ç»Ÿå¯ä»¥å‘å‰å…¼å®¹ï¼Œåœ¨ç³»ç»Ÿå‡çº§æ—¶åº”èƒ½æœ‰åŠæ³•å›æ»šç‰ˆæœ¬ï¼›</p>
</li>
<li>
<p>ç¦ç”¨è®¾è®¡ã€‚åº”è¯¥æä¾›æ§åˆ¶å…·ä½“åŠŸèƒ½æ˜¯å¦å¯ç”¨çš„é…ç½®ï¼Œåœ¨ç³»ç»Ÿå‡ºç°æ•…éšœæ—¶èƒ½å¤Ÿå¿«é€Ÿä¸‹çº¿åŠŸèƒ½ï¼›</p>
</li>
<li>
<p>ç›‘æ§è®¾è®¡ã€‚åœ¨è®¾è®¡é˜¶æ®µå°±è¦è€ƒè™‘ç›‘æ§çš„æ‰‹æ®µï¼›</p>
</li>
<li>
<p>å¤šæ´»æ•°æ®ä¸­å¿ƒè®¾è®¡ã€‚è‹¥ç³»ç»Ÿéœ€è¦æé«˜çš„é«˜å¯ç”¨ï¼Œåº”è€ƒè™‘åœ¨å¤šåœ°å®æ–½æ•°æ®ä¸­å¿ƒè¿›è¡Œå¤šæ´»ï¼Œè‡³å°‘åœ¨ä¸€ä¸ªæœºæˆ¿æ–­ç”µçš„æƒ…å†µä¸‹ç³»ç»Ÿä¾ç„¶å¯ç”¨ï¼›</p>
</li>
<li>
<p>é‡‡ç”¨æˆç†Ÿçš„æŠ€æœ¯ã€‚åˆšå¼€å‘çš„æˆ–å¼€æºçš„æŠ€æœ¯å¾€å¾€å­˜åœ¨å¾ˆå¤šéšè—çš„ bugï¼Œå‡ºäº†é—®é¢˜æ²¡æœ‰å•†ä¸šæ”¯æŒå¯èƒ½ä¼šæ˜¯ä¸€ä¸ªç¾éš¾ï¼›</p>
</li>
<li>
<p>èµ„æºéš”ç¦»è®¾è®¡ã€‚åº”é¿å…å•ä¸€ä¸šåŠ¡å ç”¨å…¨éƒ¨èµ„æºï¼›</p>
</li>
<li>
<p>æ¶æ„åº”èƒ½æ°´å¹³æ‰©å±•ã€‚ç³»ç»Ÿåªæœ‰åšåˆ°èƒ½æ°´å¹³æ‰©å±•ï¼Œæ‰èƒ½æœ‰æ•ˆé¿å…ç“¶é¢ˆé—®é¢˜ï¼›</p>
</li>
<li>
<p>éæ ¸å¿ƒåˆ™è´­ä¹°ã€‚éæ ¸å¿ƒåŠŸèƒ½è‹¥éœ€è¦å ç”¨å¤§é‡çš„ç ”å‘èµ„æºæ‰èƒ½è§£å†³ï¼Œåˆ™è€ƒè™‘è´­ä¹°æˆç†Ÿçš„äº§å“ï¼›</p>
</li>
<li>
<p>ä½¿ç”¨å•†ç”¨ç¡¬ä»¶ã€‚å•†ç”¨ç¡¬ä»¶èƒ½æœ‰æ•ˆé™ä½ç¡¬ä»¶æ•…éšœçš„æœºç‡ï¼›</p>
</li>
<li>
<p>å¿«é€Ÿè¿­ä»£ã€‚ç³»ç»Ÿåº”è¯¥å¿«é€Ÿå¼€å‘å°åŠŸèƒ½æ¨¡å—ï¼Œå°½å¿«ä¸Šçº¿è¿›è¡ŒéªŒè¯ï¼Œæ—©æ—¥å‘ç°é—®é¢˜å¤§å¤§é™ä½ç³»ç»Ÿäº¤ä»˜çš„é£é™©ï¼›</p>
</li>
<li>
<p>æ— çŠ¶æ€è®¾è®¡ã€‚æœåŠ¡æ¥å£åº”è¯¥åšæˆæ— çŠ¶æ€çš„ï¼Œå½“å‰æ¥å£çš„è®¿é—®ä¸ä¾èµ–äºæ¥å£ä¸Šæ¬¡è®¿é—®çš„çŠ¶æ€ã€‚</p>
</li>
</ul>
</li>
</ul>
]]></description>
</item><item>
    <title>Chrome æµè§ˆå™¨ä½¿ç”¨å¤‡å¿˜</title>
    <link>https://www.xiaobinqt.cn/chrome-use/</link>
    <pubDate>Tue, 03 May 2022 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/chrome-use/</guid>
    <description><![CDATA[<!-- authorï¼š xiaobinqt -->
<!-- emailï¼š xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="volume-control" class="headerLink">
    <a href="#volume-control" class="header-mark"></a>Volume Control</h2><p>åˆšåœ¨ä½¿ç”¨è“ç‰™æ—¶ï¼Œå‘ç°ä¸€çœ‹è§†é¢‘ï¼Œç”µè„‘å·¦ä¸Šè§’å±å¹•å°±å‡ºç°äº†éŸ³é‡å—ï¼Œç±»ä¼¼è¿™æ ·ï¼š</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230710/1c7725ac551d4b98a7857468b5e58e57.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230710/1c7725ac551d4b98a7857468b5e58e57.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230710/1c7725ac551d4b98a7857468b5e58e57.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>voice</h2>">
        
    </a><figcaption class="image-caption">voice</figcaption>
    </figure></p>
<p>è§£å†³æ–¹å¼å¯ä»¥å‚è€ƒï¼š</p>
<ul>
<li><a href="https://winbuzzer.com/2021/06/16/how-to-enable-or-disable-chrome-volume-control-and-hardware-media-key-handling-xcxwbt/" target="_blank" rel="noopener noreferrer">How to Enable or Disable Chrome Volume Control and Hardware Media Key Handling</a></li>
</ul>
]]></description>
</item><item>
    <title>Redis ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜é›ªå´©</title>
    <link>https://www.xiaobinqt.cn/redis-break-pierce-avalanche/</link>
    <pubDate>Wed, 13 Apr 2022 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/redis-break-pierce-avalanche/</guid>
    <description><![CDATA[<h2 id="ç¼“å­˜å‡»ç©¿" class="headerLink">
    <a href="#%e7%bc%93%e5%ad%98%e5%87%bb%e7%a9%bf" class="header-mark"></a>ç¼“å­˜å‡»ç©¿</h2><p>é«˜å¹¶å‘æµé‡ï¼Œè®¿é—®çš„è¿™ä¸ªæ•°æ®æ˜¯çƒ­ç‚¹æ•°æ®ï¼Œè¯·æ±‚çš„æ•°æ®åœ¨ DB ä¸­å­˜åœ¨ï¼Œä½†æ˜¯ Redis å­˜çš„é‚£ä¸€ä»½å·²ç»è¿‡æœŸï¼Œåç«¯éœ€è¦ä» DB ä»åŠ è½½æ•°æ®å¹¶å†™åˆ° Redisã€‚</p>
<p>æ€»ç»“èµ·æ¥å°±æ˜¯ï¼šå•ä¸€çƒ­ç‚¹æ•°æ®ã€é«˜å¹¶å‘ã€æ•°æ®å¤±æ•ˆã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/10c8c8557c8b41ea967c82617bef1814.png" title="ç¼“å­˜å‡»ç©¿" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/10c8c8557c8b41ea967c82617bef1814.png" data-sub-html="<h2>ç¼“å­˜å‡»ç©¿</h2><p>ç¼“å­˜å‡»ç©¿</p>">
        
    </a><figcaption class="image-caption">ç¼“å­˜å‡»ç©¿</figcaption>
    </figure></p>
<h3 id="è§£å†³æ–¹æ¡ˆ" class="headerLink">
    <a href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" class="header-mark"></a>è§£å†³æ–¹æ¡ˆ</h3><h4 id="è¿‡æœŸæ—¶é—´éšæœºå€¼" class="headerLink">
    <a href="#%e8%bf%87%e6%9c%9f%e6%97%b6%e9%97%b4%e9%9a%8f%e6%9c%ba%e5%80%bc" class="header-mark"></a>è¿‡æœŸæ—¶é—´â•éšæœºå€¼</h4><p>å¯¹äºçƒ­ç‚¹æ•°æ®ï¼Œæˆ‘ä»¬ä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠè¯·æ±‚éƒ½æ”¾åœ¨ç¼“å­˜ä¸­å¤„ç†ï¼Œå……åˆ†æŠŠ Redis é«˜ååé‡æ€§èƒ½åˆ©ç”¨èµ·æ¥ã€‚æˆ–è€…è¿‡æœŸæ—¶é—´å†åŠ ä¸€ä¸ªéšæœºå€¼ã€‚</p>
<p>è®¾è®¡ç¼“å­˜çš„è¿‡æœŸæ—¶é—´æ—¶ï¼Œä½¿ç”¨å…¬å¼ï¼š<strong>è¿‡æœŸæ—¶é—´ = baes æ—¶é—´ + éšæœºæ—¶é—´</strong>ã€‚</p>
<p>å³ç›¸åŒä¸šåŠ¡æ•°æ®å†™ç¼“å­˜æ—¶ï¼Œåœ¨åŸºç¡€è¿‡æœŸæ—¶é—´ä¹‹ä¸Šï¼Œå†åŠ ä¸€ä¸ªéšæœºçš„è¿‡æœŸæ—¶é—´ï¼Œè®©æ•°æ®åœ¨æœªæ¥ä¸€æ®µæ—¶é—´å†…æ…¢æ…¢è¿‡æœŸï¼Œé¿å…ç¬æ—¶å…¨éƒ¨è¿‡æœŸï¼Œå¯¹ DB é€ æˆè¿‡å¤§å‹åŠ›ã€‚</p>
<h4 id="é¢„çƒ­" class="headerLink">
    <a href="#%e9%a2%84%e7%83%ad" class="header-mark"></a>é¢„çƒ­</h4><p>é¢„å…ˆæŠŠçƒ­é—¨æ•°æ®æå‰å­˜å…¥ Redis ä¸­ï¼Œå¹¶è®¾çƒ­é—¨æ•°æ®çš„è¿‡æœŸæ—¶é—´è¶…å¤§å€¼ã€‚</p>
<h4 id="ä½¿ç”¨é”" class="headerLink">
    <a href="#%e4%bd%bf%e7%94%a8%e9%94%81" class="header-mark"></a>ä½¿ç”¨é”</h4><p>å½“å‘ç°ç¼“å­˜å¤±æ•ˆçš„æ—¶å€™ï¼Œä¸æ˜¯ç«‹å³ä»æ•°æ®åº“åŠ è½½æ•°æ®ã€‚</p>
<p>è€Œæ˜¯å…ˆè·å–åˆ†å¸ƒå¼é”ï¼Œè·å–é”æˆåŠŸæ‰æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢å’Œå†™æ•°æ®åˆ°ç¼“å­˜çš„æ“ä½œï¼Œè·å–é”å¤±è´¥ï¼Œåˆ™è¯´æ˜å½“å‰æœ‰çº¿ç¨‹åœ¨æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢æ“ä½œï¼Œå½“å‰çº¿ç¨‹ç¡çœ ä¸€æ®µæ—¶é—´å†é‡è¯•ã€‚è¿™æ ·åªè®©ä¸€ä¸ªè¯·æ±‚å»æ•°æ®åº“è¯»å–æ•°æ®ã€‚</p>
<h2 id="ç¼“å­˜ç©¿é€" class="headerLink">
    <a href="#%e7%bc%93%e5%ad%98%e7%a9%bf%e9%80%8f" class="header-mark"></a>ç¼“å­˜ç©¿é€</h2><p>æ•°æ®åº“æœ¬å°±æ²¡æœ‰è¿™ä¸ªæ•°æ®ï¼Œè¯·æ±‚ç›´å¥”æ•°æ®åº“ï¼Œç¼“å­˜ç³»ç»Ÿå½¢åŒè™šè®¾ã€‚</p>
<p>å¤§é‡è¯·æ±‚çš„ key æ ¹æœ¬<font color="red"><strong>ä¸å­˜åœ¨äºç¼“å­˜ä¸­ä¹Ÿä¸å­˜åœ¨æ•°æ®åº“</strong></font>ï¼Œå¯¼è‡´è¯·æ±‚ç›´æ¥åˆ°äº†æ•°æ®åº“ä¸Šï¼Œæ ¹æœ¬æ²¡æœ‰ç»è¿‡ç¼“å­˜è¿™ä¸€å±‚ï¼Œå¯¹æ•°æ®åº“é€ æˆå‹åŠ›è€Œå½±å“æ­£å¸¸æœåŠ¡ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/19352698c9c047d4a635c3e561b8293b.png" title="ç¼“å­˜ç©¿é€" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/19352698c9c047d4a635c3e561b8293b.png" data-sub-html="<h2>ç¼“å­˜ç©¿é€</h2><p>ç¼“å­˜ç©¿é€</p>">
        
    </a><figcaption class="image-caption">ç¼“å­˜ç©¿é€</figcaption>
    </figure></p>
<h3 id="è§£å†³æ–¹æ¡ˆ-1" class="headerLink">
    <a href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88-1" class="header-mark"></a>è§£å†³æ–¹æ¡ˆ</h3><p>æœ€åŸºæœ¬çš„é¦–å…ˆå°±æ˜¯åšå¥½å‚æ•°æ ¡éªŒï¼Œä¸€äº›ä¸åˆæ³•çš„å‚æ•°è¯·æ±‚ç›´æ¥æŠ›å‡ºå¼‚å¸¸ä¿¡æ¯è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>
<h4 id="ç¼“å­˜æ— æ•ˆçš„-key" class="headerLink">
    <a href="#%e7%bc%93%e5%ad%98%e6%97%a0%e6%95%88%e7%9a%84-key" class="header-mark"></a>ç¼“å­˜æ— æ•ˆçš„ key</h4><p>å¦‚æœ<strong>ç¼“å­˜å’Œæ•°æ®åº“éƒ½æŸ¥ä¸åˆ°</strong>
æŸä¸ª key çš„æ•°æ®å°±å†™ä¸€ä¸ªåˆ° Redis ä¸­å»å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚è¿™ç§æ–¹å¼å¯ä»¥è§£å†³è¯·æ±‚çš„ key å˜åŒ–ä¸é¢‘ç¹çš„æƒ…å†µï¼Œå¦‚æœé»‘å®¢æ¶æ„æ”»å‡»ï¼Œæ¯æ¬¡æ„å»ºä¸åŒçš„è¯·æ±‚ keyï¼Œä¼šå¯¼è‡´ Redis ä¸­ç¼“å­˜å¤§é‡æ— æ•ˆçš„ key ã€‚è¿™ç§æ–¹æ¡ˆå¹¶ä¸èƒ½ä»æ ¹æœ¬ä¸Šè§£å†³æ­¤é—®é¢˜ã€‚å¦‚æœéè¦ç”¨è¿™ç§æ–¹å¼æ¥è§£å†³ç©¿é€é—®é¢˜çš„è¯ï¼Œåº”è¯¥å°½é‡å°†æ— æ•ˆçš„ key çš„è¿‡æœŸæ—¶é—´è®¾ç½®çŸ­ä¸€ç‚¹æ¯”å¦‚ 1 åˆ†é’Ÿã€‚</p>
<h4 id="å¸ƒéš†è¿‡æ»¤å™¨" class="headerLink">
    <a href="#%e5%b8%83%e9%9a%86%e8%bf%87%e6%bb%a4%e5%99%a8" class="header-mark"></a>å¸ƒéš†è¿‡æ»¤å™¨</h4><p>å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ä¸ªéå¸¸ç¥å¥‡çš„æ•°æ®ç»“æ„ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿åœ°<strong>åˆ¤æ–­ä¸€ä¸ªç»™å®šæ•°æ®æ˜¯å¦å­˜åœ¨äºæµ·é‡æ•°æ®ä¸­</strong>ã€‚æˆ‘ä»¬éœ€è¦çš„ä»…ä»…å°±æ˜¯åˆ¤æ–­ key æ˜¯å¦åˆæ³•ã€‚</p>
<p>å…·ä½“æ˜¯è¿™æ ·åšçš„ï¼šæŠŠæ‰€æœ‰å¯èƒ½å­˜åœ¨çš„è¯·æ±‚çš„å€¼éƒ½å­˜æ”¾åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ï¼Œå½“ç”¨æˆ·è¯·æ±‚è¿‡æ¥ï¼Œå…ˆåˆ¤æ–­ç”¨æˆ·å‘æ¥çš„è¯·æ±‚çš„å€¼æ˜¯å¦å­˜åœ¨äºå¸ƒéš†è¿‡æ»¤å™¨ä¸­ã€‚ä¸å­˜åœ¨çš„è¯ï¼Œç›´æ¥è¿”å›è¯·æ±‚å‚æ•°é”™è¯¯ä¿¡æ¯ç»™å®¢æˆ·ç«¯ï¼Œå­˜åœ¨çš„è¯å†èµ°å…¶ä»–çš„åˆ¤æ–­æµç¨‹ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220407/c81922434bf5420c94e349e07980054b.png" title="å¸ƒéš†è¿‡æ»¤å™¨" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220407/c81922434bf5420c94e349e07980054b.png" data-sub-html="<h2>å¸ƒéš†è¿‡æ»¤å™¨</h2><p>å¸ƒéš†è¿‡æ»¤å™¨</p>">
        
    </a><figcaption class="image-caption">å¸ƒéš†è¿‡æ»¤å™¨</figcaption>
    </figure></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯å¸ƒéš†è¿‡æ»¤å™¨å¯èƒ½ä¼šå­˜åœ¨è¯¯åˆ¤çš„æƒ…å†µã€‚</p>
<p><strong>å¸ƒéš†è¿‡æ»¤å™¨è¯´æŸä¸ªå…ƒç´ å­˜åœ¨ï¼Œå°æ¦‚ç‡ä¼šè¯¯åˆ¤ã€‚å¸ƒéš†è¿‡æ»¤å™¨è¯´æŸä¸ªå…ƒç´ ä¸åœ¨ï¼Œè¿™ä¸ªå…ƒç´ ä¸€å®šä¸åœ¨</strong>ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºï¼Œå½“ä¸€ä¸ªå…ƒç´ åŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨ä¸­çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<ol>
<li>ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­çš„å“ˆå¸Œå‡½æ•°å¯¹å…ƒç´ å€¼è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°å“ˆå¸Œå€¼ï¼ˆæœ‰å‡ ä¸ªå“ˆå¸Œå‡½æ•°å¾—åˆ°å‡ ä¸ªå“ˆå¸Œå€¼ï¼‰ã€‚</li>
<li>æ ¹æ®å¾—åˆ°çš„å“ˆå¸Œå€¼ï¼Œåœ¨æ•°ç»„ä¸­æŠŠå¯¹åº”ä¸‹æ ‡çš„å€¼ç½®ä¸º 1ã€‚</li>
</ol>
<p>å½“éœ€è¦åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨äºå¸ƒéš†è¿‡æ»¤å™¨çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<ol>
<li>å¯¹ç»™å®šå…ƒç´ å†æ¬¡è¿›è¡Œç›¸åŒçš„å“ˆå¸Œè®¡ç®—ï¼›</li>
<li>å¾—åˆ°å€¼ä¹‹ååˆ¤æ–­ä½æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯å¦éƒ½ä¸º 1ï¼Œå¦‚æœå€¼éƒ½ä¸º 1ï¼Œé‚£ä¹ˆè¯´æ˜è¿™ä¸ªå€¼åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªå€¼ä¸ä¸º 1ï¼Œè¯´æ˜è¯¥å…ƒç´ ä¸åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ã€‚</li>
</ol>
<p>ç„¶è€Œï¼Œä¸€å®šä¼šå‡ºç°è¿™æ ·ä¸€ç§æƒ…å†µï¼šä¸åŒçš„å­—ç¬¦ä¸²å¯èƒ½å“ˆå¸Œå‡ºæ¥çš„ä½ç½®ç›¸åŒã€‚æˆ‘ä»¬å¯ä»¥é€‚å½“å¢åŠ ä½æ•°ç»„å¤§å°æˆ–è€…è°ƒæ•´æˆ‘ä»¬çš„å“ˆå¸Œå‡½æ•°æ¥é™ä½æ¦‚ç‡ã€‚</p>
<h2 id="ç¼“å­˜é›ªå´©" class="headerLink">
    <a href="#%e7%bc%93%e5%ad%98%e9%9b%aa%e5%b4%a9" class="header-mark"></a>ç¼“å­˜é›ªå´©</h2><p>ç¼“å­˜åœ¨åŒä¸€æ—¶é—´å¤§é¢ç§¯çš„å¤±æ•ˆï¼Œåé¢çš„è¯·æ±‚éƒ½ç›´æ¥è½åˆ°äº†æ•°æ®åº“ä¸Šï¼Œé€ æˆæ•°æ®åº“çŸ­æ—¶é—´å†…æ‰¿å—å¤§é‡è¯·æ±‚ã€‚æˆ–æ˜¯æœ‰ä¸€äº›è¢«å¤§é‡è®¿é—®æ•°æ®ï¼ˆçƒ­ç‚¹ç¼“å­˜ï¼‰åœ¨æŸä¸€æ—¶åˆ»å¤§é¢ç§¯å¤±æ•ˆï¼Œå¯¼è‡´å¯¹åº”çš„è¯·æ±‚ç›´æ¥è½åˆ°äº†æ•°æ®åº“ä¸Šã€‚</p>
<p>è€Œå‡ºç°è¯¥åŸå› ä¸»è¦æœ‰ä¸¤ç§ï¼š</p>
<ul>
<li>å¤§é‡çƒ­ç‚¹æ•°æ®åŒæ—¶è¿‡æœŸï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚éœ€è¦æŸ¥è¯¢æ•°æ®åº“å¹¶å†™åˆ°ç¼“å­˜ã€‚</li>
<li>Redis æ•…éšœå®•æœºï¼Œç¼“å­˜ç³»ç»Ÿå¼‚å¸¸ã€‚</li>
</ul>
<h3 id="ç¼“å­˜å¤§é‡æ•°æ®åŒæ—¶è¿‡æœŸ" class="headerLink">
    <a href="#%e7%bc%93%e5%ad%98%e5%a4%a7%e9%87%8f%e6%95%b0%e6%8d%ae%e5%90%8c%e6%97%b6%e8%bf%87%e6%9c%9f" class="header-mark"></a>ç¼“å­˜å¤§é‡æ•°æ®åŒæ—¶è¿‡æœŸ</h3><p>æ•°æ®ä¿å­˜åœ¨ç¼“å­˜ç³»ç»Ÿå¹¶è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œä½†æ˜¯ç”±äºåœ¨åŒæ—¶ä¸€åˆ»ï¼Œå¤§é‡æ•°æ®åŒæ—¶è¿‡æœŸã€‚ç³»ç»Ÿå°±æŠŠè¯·æ±‚å…¨éƒ¨æ‰“åˆ°æ•°æ®åº“è·å–æ•°æ®ï¼Œå¹¶å‘é‡å¤§çš„è¯å°±ä¼šå¯¼è‡´æ•°æ®åº“å‹åŠ›æ¿€å¢ã€‚</p>
<p><font color="red"><strong>ç¼“å­˜é›ªå´©æ˜¯å‘ç”Ÿåœ¨å¤§é‡æ•°æ®åŒæ—¶å¤±æ•ˆçš„åœºæ™¯ï¼Œè€Œç¼“å­˜å‡»ç©¿æ˜¯åœ¨æŸä¸ªçƒ­ç‚¹æ•°æ®å¤±æ•ˆçš„åœºæ™¯ï¼Œè¿™æ˜¯ä»–ä»¬æœ€å¤§çš„åŒºåˆ«</strong>
</font>ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/12a33b5773ef4e36be2c71a94b93df11.png" title="ç¼“å­˜å¤§é‡æ•°æ®åŒæ—¶è¿‡æœŸ" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/12a33b5773ef4e36be2c71a94b93df11.png" data-sub-html="<h2>ç¼“å­˜å¤§é‡æ•°æ®åŒæ—¶è¿‡æœŸ</h2><p>ç¼“å­˜å¤§é‡æ•°æ®åŒæ—¶è¿‡æœŸ</p>">
        
    </a><figcaption class="image-caption">ç¼“å­˜å¤§é‡æ•°æ®åŒæ—¶è¿‡æœŸ</figcaption>
    </figure></p>
<h4 id="è¿‡æœŸæ—¶é—´æ·»åŠ éšæœºå€¼" class="headerLink">
    <a href="#%e8%bf%87%e6%9c%9f%e6%97%b6%e9%97%b4%e6%b7%bb%e5%8a%a0%e9%9a%8f%e6%9c%ba%e5%80%bc" class="header-mark"></a>è¿‡æœŸæ—¶é—´æ·»åŠ éšæœºå€¼</h4><p>è¦é¿å…ç»™å¤§é‡çš„æ•°æ®è®¾ç½®ä¸€æ ·çš„è¿‡æœŸæ—¶é—´ï¼Œè¿‡æœŸæ—¶é—´ = baes æ—¶é—´+ éšæœºæ—¶é—´ï¼ˆè¾ƒå°çš„éšæœºæ•°ï¼Œæ¯”å¦‚éšæœºå¢åŠ  1~5 åˆ†é’Ÿï¼‰ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œå°±ä¸ä¼šå¯¼è‡´åŒä¸€æ—¶åˆ»çƒ­ç‚¹æ•°æ®å…¨éƒ¨å¤±æ•ˆï¼ŒåŒæ—¶è¿‡æœŸæ—¶é—´å·®åˆ«ä¹Ÿä¸ä¼šå¤ªå¤§ï¼Œæ—¢ä¿è¯äº†ç›¸è¿‘æ—¶é—´å¤±æ•ˆï¼Œåˆèƒ½æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚</p>
<h4 id="æ¥å£é™æµ" class="headerLink">
    <a href="#%e6%8e%a5%e5%8f%a3%e9%99%90%e6%b5%81" class="header-mark"></a>æ¥å£é™æµ</h4><p>å½“è®¿é—®çš„ä¸æ˜¯æ ¸å¿ƒæ•°æ®çš„æ—¶å€™ï¼Œåœ¨æŸ¥è¯¢çš„æ–¹æ³•ä¸ŠåŠ ä¸Šæ¥å£é™æµä¿æŠ¤ã€‚æ¯”å¦‚è®¾ç½® 10000 req/sã€‚å¦‚æœè®¿é—®çš„æ˜¯æ ¸å¿ƒæ•°æ®æ¥å£ï¼Œç¼“å­˜ä¸å­˜åœ¨å…è®¸ä»æ•°æ®åº“ä¸­æŸ¥è¯¢å¹¶è®¾ç½®åˆ°ç¼“å­˜ä¸­ã€‚è¿™æ ·çš„è¯ï¼Œåªæœ‰éƒ¨åˆ†è¯·æ±‚ä¼šå‘é€åˆ°æ•°æ®åº“ï¼Œå‡å°‘äº†å‹åŠ›ã€‚</p>
<p><strong>é™æµï¼Œå°±æ˜¯æŒ‡ï¼Œæˆ‘ä»¬åœ¨ä¸šåŠ¡ç³»ç»Ÿçš„è¯·æ±‚å…¥å£å‰ç«¯æ§åˆ¶æ¯ç§’è¿›å…¥ç³»ç»Ÿçš„è¯·æ±‚æ•°ï¼Œé¿å…è¿‡å¤šçš„è¯·æ±‚è¢«å‘é€åˆ°æ•°æ®åº“</strong>ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/340401972fac48f391fa6906a9444eac.png" title="é™æµ" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/340401972fac48f391fa6906a9444eac.png" data-sub-html="<h2>é™æµ</h2><p>é™æµ</p>">
        
    </a><figcaption class="image-caption">é™æµ</figcaption>
    </figure></p>
<h3 id="redis-æ•…éšœ" class="headerLink">
    <a href="#redis-%e6%95%85%e9%9a%9c" class="header-mark"></a>Redis æ•…éšœ</h3><p>ä¸€æ—¦ Redis æ•…éšœæˆ–å®•æœºï¼Œä¼šå¯¼è‡´å¤§é‡è¯·æ±‚æ‰“åˆ°æ•°æ®åº“ï¼Œä»è€Œå‘ç”Ÿç¼“å­˜é›ªå´©ã€‚å¯¹äº Redis æ•…éšœï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 id="æœåŠ¡ç†”æ–­å’Œé™æµ" class="headerLink">
    <a href="#%e6%9c%8d%e5%8a%a1%e7%86%94%e6%96%ad%e5%92%8c%e9%99%90%e6%b5%81" class="header-mark"></a>æœåŠ¡ç†”æ–­å’Œé™æµ</h4><p>åœ¨ä¸šåŠ¡ç³»ç»Ÿä¸­ï¼Œé’ˆå¯¹é«˜å¹¶å‘çš„ä½¿ç”¨æœåŠ¡ç†”æ–­æ¥æœ‰æŸæä¾›æœåŠ¡ä»è€Œä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚</p>
<p>æœåŠ¡ç†”æ–­å°±æ˜¯å½“ä»ç¼“å­˜è·å–æ•°æ®å‘ç°å¼‚å¸¸ï¼Œåˆ™ç›´æ¥è¿”å›é”™è¯¯æ•°æ®ç»™å‰ç«¯ï¼Œé˜²æ­¢æ‰€æœ‰æµé‡æ‰“åˆ°æ•°æ®åº“å¯¼è‡´å®•æœºã€‚</p>
<p>æœåŠ¡ç†”æ–­å’Œé™æµå±äºåœ¨å‘ç”Ÿäº†ç¼“å­˜é›ªå´©ï¼Œå¦‚ä½•<strong>é™ä½é›ªå´©å¯¹æ•°æ®åº“é€ æˆçš„å½±å“</strong>çš„æ–¹æ¡ˆã€‚</p>
<h4 id="é«˜å¯ç”¨ç¼“å­˜é›†ç¾¤" class="headerLink">
    <a href="#%e9%ab%98%e5%8f%af%e7%94%a8%e7%bc%93%e5%ad%98%e9%9b%86%e7%be%a4" class="header-mark"></a>é«˜å¯ç”¨ç¼“å­˜é›†ç¾¤</h4><p>ç¼“å­˜ç³»ç»Ÿä¸€å®šè¦æ„å»ºä¸€å¥— Redis é«˜å¯ç”¨é›†ç¾¤ï¼Œæ¯”å¦‚ <a href="" rel="">Redis å“¨å…µé›†ç¾¤ TODO</a> æˆ–è€… <a href="" rel="">Redis Cluster é›†ç¾¤ TODO</a>ï¼Œå¦‚æœ Redis çš„ä¸»èŠ‚ç‚¹æ•…éšœå®•æœºäº†ï¼Œä»èŠ‚ç‚¹è¿˜å¯ä»¥åˆ‡æ¢æˆä¸ºä¸»èŠ‚ç‚¹ï¼Œç»§ç»­æä¾›ç¼“å­˜æœåŠ¡ï¼Œé¿å…äº†ç”±äºç¼“å­˜å®ä¾‹å®•æœºè€Œå¯¼è‡´çš„ç¼“å­˜é›ªå´©é—®é¢˜ã€‚</p>
<h2 id="æ€»ç»“" class="headerLink">
    <a href="#%e6%80%bb%e7%bb%93" class="header-mark"></a>æ€»ç»“</h2><ul>
<li>ç¼“å­˜ç©¿é€æŒ‡çš„æ˜¯æ•°æ®åº“æœ¬å°±æ²¡æœ‰è¿™ä¸ªæ•°æ®ï¼Œè¯·æ±‚ç›´å¥”æ•°æ®åº“ï¼Œç¼“å­˜ç³»ç»Ÿå½¢åŒè™šè®¾ã€‚</li>
<li>ç¼“å­˜å‡»ç©¿ï¼ˆå¤±æ•ˆï¼‰æŒ‡çš„æ˜¯æ•°æ®åº“æœ‰æ•°æ®ï¼Œç¼“å­˜æœ¬åº”è¯¥ä¹Ÿæœ‰æ•°æ®ï¼Œä½†æ˜¯ç¼“å­˜è¿‡æœŸäº†ï¼ŒRedis è¿™å±‚æµé‡é˜²æŠ¤å±éšœè¢«å‡»ç©¿äº†ï¼Œè¯·æ±‚ç›´å¥”æ•°æ®åº“ã€‚</li>
<li>ç¼“å­˜é›ªå´©æŒ‡çš„æ˜¯å¤§é‡çš„çƒ­ç‚¹æ•°æ®æ— æ³•åœ¨ Redis ç¼“å­˜ä¸­å¤„ç†ï¼ˆå¤§é¢ç§¯çƒ­ç‚¹æ•°æ®ç¼“å­˜å¤±æ•ˆã€Redis å®•æœºï¼‰ï¼Œæµé‡å…¨éƒ¨æ‰“åˆ°æ•°æ®åº“ï¼Œå¯¼è‡´æ•°æ®åº“æå¤§å‹åŠ›ã€‚</li>
</ul>
<h2 id="å‚è€ƒ" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>å‚è€ƒ</h2><ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=Mzg5NDY2MDk4Mw==&amp;mid=2247488270&amp;idx=1&amp;sn=03674abcaa78b027bd12aaafd5a2f6e2" target="_blank" rel="noopener noreferrer">Redis ç¼“å­˜å‡»ç©¿ï¼ˆå¤±æ•ˆï¼‰ã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜é›ªå´©æ€ä¹ˆè§£å†³ï¼Ÿ</a></li>
</ul>
]]></description>
</item></channel>
</rss>
