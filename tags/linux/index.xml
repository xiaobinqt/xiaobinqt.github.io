<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>linux - 标签 - xiaobinqt 博客 - 技术改变生活</title>
        <link>https://www.xiaobinqt.cn/tags/linux/</link>
        <description>linux - 标签 - xiaobinqt 博客 - 技术改变生活</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>xiaobinqt@163.com (xiaobinqt)</managingEditor>
            <webMaster>xiaobinqt@163.com (xiaobinqt)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Tue, 17 Jan 2023 00:00:00 &#43;0000</lastBuildDate><atom:link href="https://www.xiaobinqt.cn/tags/linux/" rel="self" type="application/rss+xml" /><item>
    <title>curl: (60) Peer&#39;s Certificate has expired 问题解决</title>
    <link>https://www.xiaobinqt.cn/curl-ertificate-has-expired/</link>
    <pubDate>Tue, 17 Jan 2023 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/curl-ertificate-has-expired/</guid>
    <description><![CDATA[<!-- author： xiaobinqt -->
<!-- email： xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<p>刚执行 curl 命令时发现一个问题</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/51b67e1e9f9847d096a86fe7f7ff27e3.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/51b67e1e9f9847d096a86fe7f7ff27e3.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/51b67e1e9f9847d096a86fe7f7ff27e3.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Certificate has expired</h2>">
        
    </a><figcaption class="image-caption">Certificate has expired</figcaption>
    </figure></p>
<p>可以先更新证书试试</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">update-ca-trust
</span></span></code></pre></td></tr></table>
</div>
</div><p>更新证书后如果问题没有解决，继续看是不是由于时间过期引起的问题</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">date
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果发现机器时间不对就需要同步时间</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ntpdate pool.ntp.org
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/b4ce330953b840b4a1d63c1380beb688.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/b4ce330953b840b4a1d63c1380beb688.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230117/b4ce330953b840b4a1d63c1380beb688.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>问题解决</h2>">
        
    </a><figcaption class="image-caption">问题解决</figcaption>
    </figure></p>
]]></description>
</item><item>
    <title>Failed to start LSB: Bring up/down networking 问题解决</title>
    <link>https://www.xiaobinqt.cn/lsb-bring-networking-err/</link>
    <pubDate>Sun, 15 Aug 2021 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/lsb-bring-networking-err/</guid>
    <description><![CDATA[<!-- author： xiaobinqt -->
<!-- email： xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<p>刚在虚拟机上执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">service network restart
</span></span></code></pre></td></tr></table>
</div>
</div><p>时报了以下错误&#x1f447;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">2月 04 11:09:16 192.168.48.151 postfix/pickup[19414]: fatal: unable to use my own hostname
</span></span><span class="line"><span class="cl">2月 04 11:09:17 192.168.48.151 postfix/master[7179]: warning: process /usr/libexec/postfix/pickup pid 19414 exit status 1
</span></span><span class="line"><span class="cl">2月 04 11:09:17 192.168.48.151 postfix/master[7179]: warning: /usr/libexec/postfix/pickup: bad command startup -- throttling
</span></span><span class="line"><span class="cl">2月 04 11:10:17 192.168.48.151 postfix/pickup[19416]: warning: valid_hostname: numeric hostname: 192.168.48.151
</span></span><span class="line"><span class="cl">2月 04 11:10:17 192.168.48.151 postfix/pickup[19416]: fatal: unable to use my own hostname
</span></span><span class="line"><span class="cl">2月 04 11:10:18 192.168.48.151 postfix/master[7179]: warning: process /usr/libexec/postfix/pickup pid 19416 exit status 1
</span></span><span class="line"><span class="cl">2月 04 11:10:18 192.168.48.151 postfix/master[7179]: warning: /usr/libexec/postfix/pickup: bad command startup -- throttling
</span></span><span class="line"><span class="cl">2月 04 11:11:18 192.168.48.151 postfix/pickup[19441]: warning: valid_hostname: numeric hostname: 192.168.48.151
</span></span><span class="line"><span class="cl">2月 04 11:11:18 192.168.48.151 postfix/pickup[19441]: fatal: unable to use my own hostname
</span></span><span class="line"><span class="cl">2月 04 11:11:19 192.168.48.151 postfix/master[7179]: warning: process /usr/libexec/postfix/pickup pid 19441 exit status 1
</span></span><span class="line"><span class="cl">2月 04 11:11:19 192.168.48.151 postfix/master[7179]: warning: /usr/libexec/postfix/pickup: bad command startup -- throttling
</span></span><span class="line"><span class="cl">2月 04 11:12:19 192.168.48.151 postfix/pickup[19442]: warning: valid_hostname: numeric hostname: 192.168.48.151
</span></span><span class="line"><span class="cl">2月 04 11:12:19 192.168.48.151 postfix/pickup[19442]: fatal: unable to use my own hostname
</span></span><span class="line"><span class="cl">2月 04 11:12:20 192.168.48.151 postfix/master[7179]: warning: process /usr/libexec/postfix/pickup pid 19442 exit status 1
</span></span><span class="line"><span class="cl">2月 04 11:12:20 192.168.48.151 postfix/master[7179]: warning: /usr/libexec/postfix/pickup: bad command startup -- throttling
</span></span><span class="line"><span class="cl">2月 04 11:13:20 192.168.48.151 postfix/pickup[19443]: warning: valid_hostname: numeric hostname: 192.168.48.151
</span></span><span class="line"><span class="cl">2月 04 11:13:20 192.168.48.151 postfix/pickup[19443]: fatal: unable to use my own hostname
</span></span><span class="line"><span class="cl">2月 04 11:13:21 192.168.48.151 postfix/master[7179]: warning: process /usr/libexec/postfix/pickup pid 19443 exit status 1
</span></span><span class="line"><span class="cl">2月 04 11:13:21 192.168.48.151 postfix/master[7179]: warning: /usr/libexec/postfix/pickup: bad command startup -- throttling
</span></span><span class="line"><span class="cl">2月 04 11:13:32 192.168.48.151 polkitd[6082]: Registered Authentication Agent for unix-process:19457:2442477 (system bus name :1.95 [/usr/bin/pkttyagent --notify-fd 5 --fallback], object path /org/freedesktop/
</span></span><span class="line"><span class="cl">2月 04 11:13:32 192.168.48.151 systemd[1]: Starting LSB: Bring up/down networking...
</span></span><span class="line"><span class="cl">-- Subject: Unit network.service has begun start-up
</span></span><span class="line"><span class="cl">-- Defined-By: systemd
</span></span><span class="line"><span class="cl">-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel
</span></span><span class="line"><span class="cl">--
</span></span><span class="line"><span class="cl">-- Unit network.service has begun starting up.
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: 正在打开环回接口： [  确定  ]
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 NetworkManager[6504]: &lt;info&gt;  [1675480413.4150] audit: op=&#34;connection-activate&#34; uuid=&#34;8740e83d-258d-4030-a9d6-8433e9cfccbb&#34; name=&#34;ens33&#34; result=&#34;fail&#34; reason=&#34;No suitable device
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: 正在打开接口 ens33： 错误：激活连接失败：No suitable device found for this connection.
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: [失败]
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: RTNETLINK answers: File exists
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: RTNETLINK answers: File exists
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: RTNETLINK answers: File exists
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: RTNETLINK answers: File exists
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: RTNETLINK answers: File exists
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: RTNETLINK answers: File exists
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: RTNETLINK answers: File exists
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: RTNETLINK answers: File exists
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 network[19463]: RTNETLINK answers: File exists
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 systemd[1]: network.service: control process exited, code=exited status=1
</span></span><span class="line"><span class="cl">2月 04 11:13:33 192.168.48.151 systemd[1]: Failed to start LSB: Bring up/down networking.
</span></span><span class="line"><span class="cl">-- Subject: Unit network.service has failed
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230204/6d13f35511864b5691d6e6eed02a0748.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="systemctl status network.service" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230204/6d13f35511864b5691d6e6eed02a0748.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>systemctl status network.service</h2><p>systemctl status network.service</p>">
        
    </a><figcaption class="image-caption">systemctl status network.service</figcaption>
    </figure></p>
<p>我虚拟机的型号是 CentOS Linux release 7.6.1810 (Core)</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230204/cf61f62164b2461a9d2547006973faa7.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="release" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230204/cf61f62164b2461a9d2547006973faa7.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>release</h2><p>release</p>">
        
    </a><figcaption class="image-caption">release</figcaption>
    </figure></p>
<p>由于我把网卡从 ensXX 格式改成了 ethX 格式，但是我<strong>没有</strong>把配置文件从 ifcfg-ens33 改成 ifcfg-eth0，先备份旧的文件，然后重命名为 eth0 格式的配置文件。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230204/7a09a119f02d4dafa76380e87516a70a.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="备份并重命名" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230204/7a09a119f02d4dafa76380e87516a70a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>备份并重命名</h2><p>备份并重命名</p>">
        
    </a><figcaption class="image-caption">备份并重命名</figcaption>
    </figure></p>
<p>将 ifcfg-eth0 配置文件中的 NAME 和 DEVICE 值改为 eth0。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230204/a137db46bcdf4fcb94ae18cfc8bd233f.png" title="修改配置值" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230204/a137db46bcdf4fcb94ae18cfc8bd233f.png" data-sub-html="<h2>修改配置值</h2><p>修改配置值</p>">
        
    </a><figcaption class="image-caption">修改配置值</figcaption>
    </figure></p>
]]></description>
</item><item>
    <title>Centos 7.9 安装 Redis 6.0.16</title>
    <link>https://www.xiaobinqt.cn/centos-7.9-install-redis-6.0.16/</link>
    <pubDate>Tue, 13 Jul 2021 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/centos-7.9-install-redis-6.0.16/</guid>
    <description><![CDATA[<!-- author： xiaobinqt -->
<!-- email： xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="服务器版本" class="headerLink">
    <a href="#%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%89%88%e6%9c%ac" class="header-mark"></a>服务器版本</h2><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220713/366f5d82de6e4da6af53042bc19237b3.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="linux version" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220713/366f5d82de6e4da6af53042bc19237b3.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>linux version</h2><p>linux version</p>">
        
    </a><figcaption class="image-caption">linux version</figcaption>
    </figure></p>
<h2 id="下载" class="headerLink">
    <a href="#%e4%b8%8b%e8%bd%bd" class="header-mark"></a>下载</h2><p>可以直接去官网<a href="https://redis.io/download/" target="_blank" rel="noopener noreferrer">下载</a>需要的版本即可，这里已 6.0.16 版本为准。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220713/049679c099254e5997410c5b3ac3320c.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="redis download" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220713/049679c099254e5997410c5b3ac3320c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>redis download</h2><p>redis download</p>">
        
    </a><figcaption class="image-caption">redis download</figcaption>
    </figure></p>
<h2 id="安装" class="headerLink">
    <a href="#%e5%ae%89%e8%a3%85" class="header-mark"></a>安装</h2><p>我把下载的 tar 包放在了 <code>/root</code> 目录下，这里可以自行修改。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tar -xzf redis-6.0.16.tar.gz 
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> redis-6.0.16
</span></span><span class="line"><span class="cl">make <span class="o">&amp;&amp;</span> make install
</span></span></code></pre></td></tr></table>
</div>
</div><p>安装成功启动服务：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220713/60ee0e9fb15347e7bb24fd512296201c.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="install success" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220713/60ee0e9fb15347e7bb24fd512296201c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>install success</h2><p>install success</p>">
        
    </a><figcaption class="image-caption">install success</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220713/610f7cb66b1144fa831debe76fe97613.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="redis start" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220713/610f7cb66b1144fa831debe76fe97613.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>redis start</h2><p>redis start</p>">
        
    </a><figcaption class="image-caption">redis start</figcaption>
    </figure></p>
<h2 id="常见问题" class="headerLink">
    <a href="#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98" class="header-mark"></a>常见问题</h2><h3 id="cc-command-not-found" class="headerLink">
    <a href="#cc-command-not-found" class="header-mark"></a>cc: command not found</h3><p>需要安装 gcc&#x1f447;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">yum -y install gcc gcc-c++ libstdc++-devel
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="struct-redisserver-server_xxx" class="headerLink">
    <a href="#struct-redisserver-server_xxx" class="header-mark"></a>struct redisServer server_xxx</h3><p>需要升级 gcc 到 9 版本&#x1f447;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">yum -y install centos-release-scl
</span></span><span class="line"><span class="cl">yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils
</span></span><span class="line"><span class="cl">scl <span class="nb">enable</span> devtoolset-9 bash
</span></span></code></pre></td></tr></table>
</div>
</div><p>设置永久升级</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;source /opt/rh/devtoolset-9/enable&#34;</span> &gt;&gt;/etc/profile
</span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item><item>
    <title>VMware 安装 CentOS 7.x</title>
    <link>https://www.xiaobinqt.cn/vmware-install-centos7.x/</link>
    <pubDate>Mon, 08 Mar 2021 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/vmware-install-centos7.x/</guid>
    <description><![CDATA[<!-- author： xiaobinqt -->
<!-- email： xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="下载镜像" class="headerLink">
    <a href="#%e4%b8%8b%e8%bd%bd%e9%95%9c%e5%83%8f" class="header-mark"></a>下载镜像</h2><p>在 CentOS 的官网 <a href="https://wiki.centos.org/Download" target="_blank" rel="noopener noreferrer">https://wiki.centos.org/Download</a> 可以下载 CentOS 各个版本的镜像文件。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/b74714e1b8a14d97898350923f9bdc9a.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="CentOS Download" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/b74714e1b8a14d97898350923f9bdc9a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>CentOS Download</h2><p>CentOS Download</p>">
        
    </a><figcaption class="image-caption">CentOS Download</figcaption>
    </figure></p>
<p>包括已经不在维护的各个版本：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/ec976869da494f84bf74d765ed21b59c.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="Archived Versions" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/ec976869da494f84bf74d765ed21b59c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Archived Versions</h2><p>Archived Versions</p>">
        
    </a><figcaption class="image-caption">Archived Versions</figcaption>
    </figure></p>
<p>也可以去阿里的镜像仓库去下载 <a href="https://mirrors.aliyun.com/centos/" target="_blank" rel="noopener noreferrer">mirrors.aliyun.com/centos</a>。</p>
<h2 id="安装-centos-79" class="headerLink">
    <a href="#%e5%ae%89%e8%a3%85-centos-79" class="header-mark"></a>安装 CentOS 7.9</h2><p>下载完 <a href="https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/" target="_blank" rel="noopener noreferrer">CentOS-7-x86_64-Minimal-2009</a> 就可以安装了，这里用的是 Minimal 版本，安装完成后，系统中只有最基本的组件，方便学习。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/b3e26ed50cd849c4acb1fd03eda92705.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="新建虚拟机" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/b3e26ed50cd849c4acb1fd03eda92705.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>新建虚拟机</h2><p>新建虚拟机</p>">
        
    </a><figcaption class="image-caption">新建虚拟机</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/8a9a3656b1f14461847da9924c730acb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="典型配置" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/8a9a3656b1f14461847da9924c730acb.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>典型配置</h2><p>典型配置</p>">
        
    </a><figcaption class="image-caption">典型配置</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/f31b7d2ae48548d9b9273829a75fc4d6.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="选择 ios 文件" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/f31b7d2ae48548d9b9273829a75fc4d6.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>选择 ios 文件</h2><p>选择 ios 文件</p>">
        
    </a><figcaption class="image-caption">选择 ios 文件</figcaption>
    </figure></p>
<p>命名虚拟机并选择系统文件保存路径：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/ba19b8c62ee94986985291c00dd5a88c.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="命名虚拟机" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/ba19b8c62ee94986985291c00dd5a88c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>命名虚拟机</h2><p>命名虚拟机</p>">
        
    </a><figcaption class="image-caption">命名虚拟机</figcaption>
    </figure></p>
<blockquote>
<p>如果物理机支持大与 4GB 以上的单文件，可以选择“将虚拟磁盘存储为单个文件”</p>
</blockquote>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/72fc8ae20afe4887809079325a562115.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="指定磁盘容量" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/72fc8ae20afe4887809079325a562115.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>指定磁盘容量</h2><p>指定磁盘容量</p>">
        
    </a><figcaption class="image-caption">指定磁盘容量</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/439029d3f584484582121b347112eaa0.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="自定义硬件" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/439029d3f584484582121b347112eaa0.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>自定义硬件</h2><p>自定义硬件</p>">
        
    </a><figcaption class="image-caption">自定义硬件</figcaption>
    </figure></p>
<p>由于服务器用不到声卡，USB 控制器，打印机这些设备，可以将这些设备移除：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/c13f3ed6b3d5458fbf9c9a676894eb43.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="移除硬件" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/c13f3ed6b3d5458fbf9c9a676894eb43.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>移除硬件</h2><p>移除硬件</p>">
        
    </a><figcaption class="image-caption">移除硬件</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/15df2863d25b49d7a76ec9bdc6b617b9.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="移除后的硬件" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/15df2863d25b49d7a76ec9bdc6b617b9.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>移除后的硬件</h2><p>移除后的硬件</p>">
        
    </a><figcaption class="image-caption">移除后的硬件</figcaption>
    </figure></p>
<p>可以<strong>不用</strong>勾选「创建后开启此虚拟机选项」：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/d5663f41d9ee4c25a9d842ee42d92d17.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="完成" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/d5663f41d9ee4c25a9d842ee42d92d17.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>完成</h2><p>完成</p>">
        
    </a><figcaption class="image-caption">完成</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/476f763d3cbc41d4839429bca8b3175e.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="开启虚拟机" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220415/476f763d3cbc41d4839429bca8b3175e.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>开启虚拟机</h2><p>开启虚拟机</p>">
        
    </a><figcaption class="image-caption">开启虚拟机</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/c9840008ce6144e5a91e17e33c03d3bf.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="Install CentOS7" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/c9840008ce6144e5a91e17e33c03d3bf.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Install CentOS7</h2><p>Install CentOS7</p>">
        
    </a><figcaption class="image-caption">Install CentOS7</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/a939c8c699a042aaa1b0cb6bdbd85b60.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="安装中" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/a939c8c699a042aaa1b0cb6bdbd85b60.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>安装中</h2><p>安装中</p>">
        
    </a><figcaption class="image-caption">安装中</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/a1e517684d1946fa9f560b4a848eaaff.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="选择语言" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/a1e517684d1946fa9f560b4a848eaaff.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>选择语言</h2><p>选择语言</p>">
        
    </a><figcaption class="image-caption">选择语言</figcaption>
    </figure></p>
<p>点击 INSTALLATION DESTINATION</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/f78e0f23022749eb88895182d245375f.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="INSTALLATION DESTINATION" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/f78e0f23022749eb88895182d245375f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>INSTALLATION DESTINATION</h2><p>INSTALLATION DESTINATION</p>">
        
    </a><figcaption class="image-caption">INSTALLATION DESTINATION</figcaption>
    </figure></p>
<p>INSTALLATION DESTINATION 默认值不用改，直接点 Done</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/0f3fef4c733c499eb1f6690d1421280b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="INSTALLATION DESTINATION Done" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/0f3fef4c733c499eb1f6690d1421280b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>INSTALLATION DESTINATION Done</h2><p>INSTALLATION DESTINATION Done</p>">
        
    </a><figcaption class="image-caption">INSTALLATION DESTINATION Done</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/a9563032d90c46f0aaf001b848b486b7.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="Begin Installation" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/a9563032d90c46f0aaf001b848b486b7.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Begin Installation</h2><p>Begin Installation</p>">
        
    </a><figcaption class="image-caption">Begin Installation</figcaption>
    </figure></p>
<p>如果想要创建带桌面的虚拟机，可以在 SOFTWARE SELECTION 中选择 GNOME Desktop：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230710/fad64195e6e64249a5a26bad0fb928c7.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230710/fad64195e6e64249a5a26bad0fb928c7.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230710/fad64195e6e64249a5a26bad0fb928c7.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>GNOME Desktop</h2>">
        
    </a><figcaption class="image-caption">GNOME Desktop</figcaption>
    </figure></p>
<p>设置 ROOT 密码和创建用户</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/3352639ce0dd4648b3dcebf1b2bc69dd.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="设置 ROOT 密码和创建用户" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/3352639ce0dd4648b3dcebf1b2bc69dd.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>设置 ROOT 密码和创建用户</h2><p>设置 ROOT 密码和创建用户</p>">
        
    </a><figcaption class="image-caption">设置 ROOT 密码和创建用户</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/066889c865c44947bde9387c1e5187a1.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="创建用户" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/066889c865c44947bde9387c1e5187a1.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>创建用户</h2><p>创建用户</p>">
        
    </a><figcaption class="image-caption">创建用户</figcaption>
    </figure></p>
<p>等待安装任务</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/d411484eb47847dfb51dd5c24ef58de8.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="等待安装任务" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/d411484eb47847dfb51dd5c24ef58de8.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>等待安装任务</h2><p>等待安装任务</p>">
        
    </a><figcaption class="image-caption">等待安装任务</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/154217e8813f421fbb8649a3816d1c79.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="安装任务完成重启" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/154217e8813f421fbb8649a3816d1c79.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>安装任务完成重启</h2><p>安装任务完成重启</p>">
        
    </a><figcaption class="image-caption">安装任务完成重启</figcaption>
    </figure></p>
<p>重启完成登录</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/3585320091a1411586204f12701ccd94.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="root Login" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/3585320091a1411586204f12701ccd94.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>root Login</h2><p>root Login</p>">
        
    </a><figcaption class="image-caption">root Login</figcaption>
    </figure></p>
<h2 id="网络配置" class="headerLink">
    <a href="#%e7%bd%91%e7%bb%9c%e9%85%8d%e7%bd%ae" class="header-mark"></a>网络配置</h2><p>一般新装的<strong>最小化</strong>的 CentOS 7.x 系统是没有网络配置的，而安装命令就是联网下载软件，所以网络配置是必须的。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/3a7a989e2f68499e853cc206c3eb9a13.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="ping" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/3a7a989e2f68499e853cc206c3eb9a13.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>ping</h2><p>ping</p>">
        
    </a><figcaption class="image-caption">ping</figcaption>
    </figure></p>
<p>CentOS 7.x 的默认网卡是 essxx，我们可以在配置文件 <code>/etc/syconfig/network-scripts</code> 中看到：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/b09768d8763041f0bcefe58d5dbea5c6.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="network-scripts" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/b09768d8763041f0bcefe58d5dbea5c6.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>network-scripts</h2><p>network-scripts</p>">
        
    </a><figcaption class="image-caption">network-scripts</figcaption>
    </figure></p>
<p>可以先把 ifcfg-ensxx 这个文件<strong>备份下</strong>，然后修改 <code>onboot</code> 参数从 no 修改为 yes ，保存，重启机器。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/62dffe2555ef424e8f0009b9c3bc7be8.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="update onboot" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/62dffe2555ef424e8f0009b9c3bc7be8.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>update onboot</h2><p>update onboot</p>">
        
    </a><figcaption class="image-caption">update onboot</figcaption>
    </figure></p>
<p>重启完后就可以 ping 通网络了：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/5db4c9b9390f4617b8ca1a3e900ffa3f.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="ping 2" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/5db4c9b9390f4617b8ca1a3e900ffa3f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>ping 2</h2><p>ping 2</p>">
        
    </a><figcaption class="image-caption">ping 2</figcaption>
    </figure></p>
<h2 id="ifconfig-command-not-found" class="headerLink">
    <a href="#ifconfig-command-not-found" class="header-mark"></a>ifconfig command not found</h2><p>安装 net-tools 工具</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">yum install -y net-tools
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/d77b3da7989f4020b5d9a7ee9574e719.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="net-tools install" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/d77b3da7989f4020b5d9a7ee9574e719.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>net-tools install</h2><p>net-tools install</p>">
        
    </a><figcaption class="image-caption">net-tools install</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/3e3b4820d5ac4ce0b5883f0be3e547e1.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="ifconfig" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/3e3b4820d5ac4ce0b5883f0be3e547e1.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>ifconfig</h2><p>ifconfig</p>">
        
    </a><figcaption class="image-caption">ifconfig</figcaption>
    </figure></p>
<h2 id="修改网卡为-eth0" class="headerLink">
    <a href="#%e4%bf%ae%e6%94%b9%e7%bd%91%e5%8d%a1%e4%b8%ba-eth0" class="header-mark"></a>修改网卡为 eth0</h2><p>CentOS 7.x 的网卡不是 eth0 而是 ensxx，这是 CentOS 7.x 的一致性网络设备命名导致的，可以使用以下方式，将网卡名称回到 eth0 格式。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/031a5551677449d8a3e83f3dc02a3562.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="ensxx" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/031a5551677449d8a3e83f3dc02a3562.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>ensxx</h2><p>ensxx</p>">
        
    </a><figcaption class="image-caption">ensxx</figcaption>
    </figure></p>
<p>修改配置</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">vim /etc/default/grub
</span></span></code></pre></td></tr></table>
</div>
</div><p>中添加</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">biosdevname</span><span class="o">=</span><span class="m">0</span> net.ifnames<span class="o">=</span><span class="m">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/ee2294ced6d54804ac88fe49edabd248.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="biosdevname=0 net.ifnames=0" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/ee2294ced6d54804ac88fe49edabd248.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>biosdevname=0 net.ifnames=0</h2><p>biosdevname=0 net.ifnames=0</p>">
        
    </a><figcaption class="image-caption">biosdevname=0 net.ifnames=0</figcaption>
    </figure></p>
<p>执行命令</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">grub2-mkconfig -o /boot/grub2/grub.cfg
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/15180738ff9745dda45fd7060d61efba.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="执行命令" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/15180738ff9745dda45fd7060d61efba.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>执行命令</h2><p>执行命令</p>">
        
    </a><figcaption class="image-caption">执行命令</figcaption>
    </figure></p>
<p><code>reboot</code> 重启机器</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/05fde4e3946c43c88de3b9e063408e1b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="修改成功" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220417/05fde4e3946c43c88de3b9e063408e1b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>
修改成功</h2><p>修改成功</p>">
        
    </a><figcaption class="image-caption">
修改成功</figcaption>
    </figure></p>
<h2 id="设置静态-ip" class="headerLink">
    <a href="#%e8%ae%be%e7%bd%ae%e9%9d%99%e6%80%81-ip" class="header-mark"></a>设置静态 IP</h2><p>NAT 模式是 VMware 虚拟机默认使用的模式，其最大的优势就是虚拟机接入网络非常简单，只要物理机可以访问网络，虚拟机就可以访问网络。网络结构如下图：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230708/c8ee635f5e554f8c8e717360a51f763b.png" title="NAT模式" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230708/c8ee635f5e554f8c8e717360a51f763b.png" data-sub-html="<h2>NAT模式</h2><p>NAT模式</p>">
        
    </a><figcaption class="image-caption">NAT模式</figcaption>
    </figure></p>
<p>所谓的静态 ip ，就是设置后固定不变的，因为在真实环境中，需要为所有的服务器配置静态 ip，从而确保通过一个 ip 地址只能找到一台服务器。</p>
<h3 id="设置" class="headerLink">
    <a href="#%e8%ae%be%e7%bd%ae" class="header-mark"></a>设置</h3><p>在修改配置文件之前，为了防止配置出错，建议提前备份配置文件 <code>ifcfg-eth0</code>。我把原来的 ifcfg-ens32 重命名为了 ifcfg-eth0。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cp /etc/sysconfig/network-scripts/ifcfg-eth0 /etc/sysconfig/network-scripts/ifcfg-eth0.bak
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们需要把 <code>ifcfg-eth0</code> 配置文件中的 <code>BOOTPROTO</code> 的值设置为 <code>static</code>，将 <code>IPADDR</code>(IP 地址)的值设置为其所在的子网中正确的，无冲突的 ip 地址即可。</p>
<p>在 NAT 模式中，我们需要找到 4 个地址才能确定我们的无冲突的 ip 到底是哪些。</p>
<ul>
<li>子网 ip</li>
<li>VMnet8 虚拟网卡 ip</li>
<li>NAT 网关 ip</li>
<li>DHCP 地址池</li>
</ul>
<p>接下来找这几个参数：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/8197b0164ca24015b522f4ba13b5f04a.png" title="图 1" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/8197b0164ca24015b522f4ba13b5f04a.png" data-sub-html="<h2>图 1</h2><p>图 1</p>">
        
    </a><figcaption class="image-caption">图 1</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/fc5eb5ca96ca4bd29b796b8f32fbec1b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="图 2" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/fc5eb5ca96ca4bd29b796b8f32fbec1b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>图 2</h2><p>图 2</p>">
        
    </a><figcaption class="image-caption">图 2</figcaption>
    </figure></p>
<p>点击【NAT设置】查看子网掩码和网关 IP。点击【DHCP 设置】查看起始 IP 地址和结束 IP 地址。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/bc1b37ed3e9c43e39c6988342b746b0d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="图 3" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/bc1b37ed3e9c43e39c6988342b746b0d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>图 3</h2><p>图 3</p>">
        
    </a><figcaption class="image-caption">图 3</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/59acd1549914426b9375c5850e8b5b36.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="图 4" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/59acd1549914426b9375c5850e8b5b36.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>图 4</h2><p>图 4</p>">
        
    </a><figcaption class="image-caption">图 4</figcaption>
    </figure></p>
<p>打开物理机的 cmd 输入 <code>ipconfig</code> 命令：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/655158e74b14445cb92005f842ed225e.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="图 5" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/655158e74b14445cb92005f842ed225e.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>图 5</h2><p>图 5</p>">
        
    </a><figcaption class="image-caption">图 5</figcaption>
    </figure></p>
<p>如果发现物理机的 VMnet8 跟虚拟机的不在一个网段，可以在「虚拟网络适配器」中「还原默认设置」：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230708/c8e5f4dc518e4bb9b076e890ed1d37be.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230708/c8e5f4dc518e4bb9b076e890ed1d37be.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230708/c8e5f4dc518e4bb9b076e890ed1d37be.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>还原默认设置</h2>">
        
    </a><figcaption class="image-caption">还原默认设置</figcaption>
    </figure></p>
<p>所以，除去这几个地址，<code>192.168.48.3</code> ~ <code>192.168.48.127</code> 范围内的 ip 都可以作为静态 ip 使用。</p>
<p><code>vi ifcfg-eth0</code> 需要修改的地方为：</p>
<ol>
<li>将 <code>ONBOOT</code> 改为 <code>yes</code></li>
<li><code>BOOTPROTO</code> 由 <code>dhcp</code> 改为 <code>static</code></li>
<li>增加 <code>IPADDR</code>(ip 地址)</li>
<li>增加 <code>NETMASK</code>(子网掩码)</li>
<li>增加 <code>GATEWAY</code>(网关)</li>
<li>增加 <code>DNS1</code>(首选域名服务器)</li>
</ol>
<p>其中，网关不设置，虚拟机只能在局域网内访问，无法访问外部网络。DNS 不设置则无法解析域名。 <strong>DNS 可以设置成跟网关一样的地址</strong>。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/3e52c6df0d1c40678ad826e6a3d995c1.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="图 6" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/3e52c6df0d1c40678ad826e6a3d995c1.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>图 6</h2><p>图 6</p>">
        
    </a><figcaption class="image-caption">图 6</figcaption>
    </figure></p>
<p>设置完成后执行：<code>systemctl restart network </code> 命令使配置生效。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/b5384ea25f6a4345b041f0d488c8ff6c.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="图 7" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/b5384ea25f6a4345b041f0d488c8ff6c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>图 7</h2><p>图 7</p>">
        
    </a><figcaption class="image-caption">图 7</figcaption>
    </figure></p>
<h3 id="访问测试" class="headerLink">
    <a href="#%e8%ae%bf%e9%97%ae%e6%b5%8b%e8%af%95" class="header-mark"></a>访问测试</h3><h3 id="物理机测试" class="headerLink">
    <a href="#%e7%89%a9%e7%90%86%e6%9c%ba%e6%b5%8b%e8%af%95" class="header-mark"></a>物理机测试</h3><p>在物理机中 ping 虚拟机 ip 地址：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/32c855d6ab164f8293c14191716296e4.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="图 8" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/32c855d6ab164f8293c14191716296e4.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>图 8</h2><p>图 8</p>">
        
    </a><figcaption class="image-caption">图 8</figcaption>
    </figure></p>
<p>物理机共向 ip 地址 <code>192.168.48.8</code> 发送了 4 次 ping 请求，4 次都是成功的，发送的数据包为 32 字节，TTL(生存时间值)为 64，其中 TTL 在发送时的默认值为 64，每经过一个路由则减 1 ，此次显示最终结果为 64 说明中间没有经过路由。</p>
<h3 id="虚拟机测试" class="headerLink">
    <a href="#%e8%99%9a%e6%8b%9f%e6%9c%ba%e6%b5%8b%e8%af%95" class="header-mark"></a>虚拟机测试</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/356ddc9263ac44619d2c003fbcc146f5.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="图 9" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/356ddc9263ac44619d2c003fbcc146f5.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>图 9</h2><p>图 9</p>">
        
    </a><figcaption class="image-caption">图 9</figcaption>
    </figure></p>
<h3 id="说明" class="headerLink">
    <a href="#%e8%af%b4%e6%98%8e" class="header-mark"></a>说明</h3><p>因为我把默认网卡从 ensxx 改成了 eth0 所以在修改静态 ip 是把配置文件也改成了 ifcfg-eth0</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/a1e71dfe0e6948648eed5ac052fdd3e9.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="图 10" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220418/a1e71dfe0e6948648eed5ac052fdd3e9.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>图 10</h2><p>图 10</p>">
        
    </a><figcaption class="image-caption">图 10</figcaption>
    </figure></p>
<h2 id="faq" class="headerLink">
    <a href="#faq" class="header-mark"></a>FAQ</h2><ul>
<li>&#x2753;重启网卡问题</li>
</ul>
<p><code>loaded (/etc/rc.d/init.d/network; bad; vendor preset: disabled)</code></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220428/ef54a9001aea4752bd5591e0d555a986.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="network err" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220428/ef54a9001aea4752bd5591e0d555a986.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>network err</h2><p>network err</p>">
        
    </a><figcaption class="image-caption">network err</figcaption>
    </figure></p>
<p>&#x261d;&#xfe0f; 以上这个问题可以参考<a href="https://blog.csdn.net/qq_41601836/article/details/90171237" target="_blank" rel="noopener noreferrer">centos7重启网卡提示错误的解决方法</a>这篇文章。</p>
<h2 id="参考" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>参考</h2><ul>
<li><a href="https://www.itzgeek.com/how-tos/linux/centos-how-tos/how-to-configure-static-ip-address-in-centos-7-rhel-7-fedora-26.html" target="_blank" rel="noopener noreferrer">How To Configure Static IP Address in CentOS 7 / RHEL 7</a></li>
<li><a href="https://blog.csdn.net/qi341500/article/details/128974230" target="_blank" rel="noopener noreferrer">虚拟机安装CentOS 7（带界面）</a></li>
</ul>
]]></description>
</item><item>
    <title>Linux 常用命令备忘</title>
    <link>https://www.xiaobinqt.cn/linux-common-concept/</link>
    <pubDate>Thu, 19 Nov 2020 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/linux-common-concept/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221204/94b2915249db4141a082f45e4572f54b.png" referrerpolicy="no-referrer">
            </div><!-- author： xiaobinqt -->
<!-- email： xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="linux-和-unix-的区别" class="headerLink">
    <a href="#linux-%e5%92%8c-unix-%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-mark"></a>linux 和 unix 的区别</h2><p><a href="https://baijiahao.baidu.com/s?id=1725517662598994230&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener noreferrer">Linux和Unix之间的区别是什么？</a></p>
<h2 id="musl-和-glibc-的区别" class="headerLink">
    <a href="#musl-%e5%92%8c-glibc-%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-mark"></a>musl 和 glibc 的区别</h2><p>musl 和 glibc 都是 Linux 的标准库，区别是 musl 是一个 mini 版本，或是叫做基于 glibc 的库，而 glibc 是一个完整版本。</p>
<h2 id="ubuntu" class="headerLink">
    <a href="#ubuntu" class="header-mark"></a>ubuntu</h2><h3 id="获取系统代号" class="headerLink">
    <a href="#%e8%8e%b7%e5%8f%96%e7%b3%bb%e7%bb%9f%e4%bb%a3%e5%8f%b7" class="header-mark"></a>获取系统代号</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">lsb_release -cs
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220507/6fbea271a68b46a994188ae23a6eb291.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="获取系统代号" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220507/6fbea271a68b46a994188ae23a6eb291.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>获取系统代号</h2><p>获取系统代号</p>">
        
    </a><figcaption class="image-caption">获取系统代号</figcaption>
    </figure></p>
<h3 id="内核版本信息" class="headerLink">
    <a href="#%e5%86%85%e6%a0%b8%e7%89%88%e6%9c%ac%e4%bf%a1%e6%81%af" class="header-mark"></a>内核版本信息</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">uname -a
</span></span><span class="line"><span class="cl"><span class="c1"># 或者</span>
</span></span><span class="line"><span class="cl">cat /proc/version
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220507/5649c120ada14e0193593b847d46d652.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="内核版本信息" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220507/5649c120ada14e0193593b847d46d652.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>内核版本信息</h2><p>内核版本信息</p>">
        
    </a><figcaption class="image-caption">内核版本信息</figcaption>
    </figure></p>
<h2 id="lsb_release" class="headerLink">
    <a href="#lsb_release" class="header-mark"></a>lsb_release</h2><p><strong><ruby>LSB<rt>Linux Standard Base</rt></ruby></strong> 是 Linux 标准库的缩写， <code>lsb_release</code> 命令 用来与具体 Linux 发行版相关的 Linux 标准库信息。</p>
<p>CentOS 最小化安装时默认没有这个命令，需要安装 lsb_release 使用命令，&#x1f447;以下是常见系统的安装 lsb_release 命令。</p>
<h3 id="ubuntu-debian" class="headerLink">
    <a href="#ubuntu-debian" class="header-mark"></a>Ubuntu, Debian</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install lsb-core
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="centos" class="headerLink">
    <a href="#centos" class="header-mark"></a>CentOS</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum update <span class="o">&amp;&amp;</span> sudo yum install redhat-lsb-core
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="fedora" class="headerLink">
    <a href="#fedora" class="header-mark"></a>Fedora</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf update <span class="o">&amp;&amp;</span> sudo dnf install redhat-lsb-core
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="参数" class="headerLink">
    <a href="#%e5%8f%82%e6%95%b0" class="header-mark"></a>参数</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220507/287b2dcba4694769b879bcc0e19e8d68.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="lsb_release 参数" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220507/287b2dcba4694769b879bcc0e19e8d68.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>lsb_release 参数</h2><p>lsb_release 参数</p>">
        
    </a><figcaption class="image-caption">lsb_release 参数</figcaption>
    </figure></p>
<ul>
<li><code>-v</code>：显示与你 Linux 发行版相对应的 Linux 版本库描述信息。Linux 版本库模块描述使用冒号 <code>:</code> 分分隔</li>
<li><code>-i</code>：显示该 Linux 系统的发行商</li>
<li><code>-d</code>：显示 Linux 发行版描述信息</li>
<li><code>-r</code>：显示当前 Linux 发行版版本号</li>
<li><code>-c</code>：显示当前 Linux 发行版<strong><ruby>代号<rt>codename</rt></ruby></strong></li>
<li><code>-a</code>：显示全部信息，包括 LSB、版本号、代号、版本描述信息</li>
</ul>
<h2 id="常用命令" class="headerLink">
    <a href="#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" class="header-mark"></a>常用命令</h2><p>以下命令都是笔者在工作中用到过的，因为不是专业的 shell 工程师，所以便通过笔记记录下来防止忘记。</p>
<h3 id="cut" class="headerLink">
    <a href="#cut" class="header-mark"></a>cut</h3><p><code>cut</code> 命令从文件的每一行剪切字节、字符和字段并将这些字节、字符和字段写至标准输出。</p>
<ul>
<li><code>-d</code> ：自定义分隔符，默认为制表符。</li>
<li><code>-f</code> ：与<code>-d</code>一起使用，指定显示哪个区域。</li>
</ul>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220718/a050c61a3f2b410da7641f8972811dbb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="cut -d -f" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220718/a050c61a3f2b410da7641f8972811dbb.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>cut -d -f</h2><p>cut -d -f</p>">
        
    </a><figcaption class="image-caption">cut -d -f</figcaption>
    </figure></p>
<h3 id="grep" class="headerLink">
    <a href="#grep" class="header-mark"></a>grep</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">grep -v name <span class="c1"># 表示查看除了含有name之外的行内容</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220718/a7c681db9d6b461f8bbce757a75b9eec.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="grep -v" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220718/a7c681db9d6b461f8bbce757a75b9eec.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>grep -v</h2><p>grep -v</p>">
        
    </a><figcaption class="image-caption">grep -v</figcaption>
    </figure></p>
<h3 id="curl" class="headerLink">
    <a href="#curl" class="header-mark"></a>curl</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">curl -o /dev/null -s -w %<span class="o">{</span>http_code<span class="o">}</span>  https://www.baidu.com
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>-o</code> ：输出文件，默认为标准输出。</li>
<li><code>-s</code> ：屏蔽掉输出，不显示任何内容。</li>
<li><code>-w</code> ：输出http状态码。</li>
<li><code>-k</code> : 忽略证书</li>
<li><code>-v</code> 参数输出通信的整个过程，用于调试</li>
<li>添加请求 cookie</li>
</ul>
<p><code>--cookie &quot;TOKEN1=Yes;TOKEN2=no&quot;</code> 可以设置请求 cookie，多个 cookie 用<code>;</code>分隔。</p>
<p>比如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"> curl -v --cookie <span class="s1">&#39;LG=1cabdaad-e522-417c-8ee4-6d5c53daa043;U=2f2f01d2-4fb3-462b-8e38-1b1e11e7bc53&#39;</span> <span class="s1">&#39;http://example.com:42225/api/projects/819c4030-184f-42d2-924a-53184e903acd/jobs/3/artifacts/switch_app_test.tar?token=MYTOKEN&#39;</span> -o testsssss.tar
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="sed" class="headerLink">
    <a href="#sed" class="header-mark"></a>sed</h3><ol>
<li><strong><code>-e</code>多重编辑</strong></li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tail /etc/services <span class="p">|</span> sed -e <span class="s1">&#39;1,2d&#39;</span> -e <span class="s1">&#39;s/blp5/test/&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>1,2d</code>：删除第一行和第二行</li>
<li><code>s/blp5/test/</code>：将<code>blp5</code>替换为<code>test</code></li>
</ul>
<p>可以用<code>;</code>分隔多个命令&#x1f447;效果一样：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tail /etc/services <span class="p">|</span> sed  <span class="s1">&#39;1,2d;s/blp5/test/&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220719/ba6358760d314a4aa69c9fd10e5ad836.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="sed多行编辑" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220719/ba6358760d314a4aa69c9fd10e5ad836.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>sed多行编辑</h2><p>sed多行编辑</p>">
        
    </a><figcaption class="image-caption">sed多行编辑</figcaption>
    </figure></p>
<ol start="2">
<li><strong>读取下一行</strong></li>
</ol>
<p><code>n</code> 读取下一行到模式空间</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">seq <span class="m">6</span> <span class="p">|</span> sed -n <span class="s1">&#39;n;p&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>sed 先读取第一行 1，执行 n 命令，获取下一行 2，此时模式空间是 2，执行 p 命令，打印模式空间。现在模式空间是 2， sed 再读取 3，执行 n 命令，获取下一行 4，此时模式空间为 4，执行 p 命令，以此类推。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220719/22639dc6e1b048a280f0af7beb2c1fd3.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="打印偶数" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220719/22639dc6e1b048a280f0af7beb2c1fd3.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>打印偶数</h2><p>打印偶数</p>">
        
    </a><figcaption class="image-caption">打印偶数</figcaption>
    </figure></p>
<h3 id="tar" class="headerLink">
    <a href="#tar" class="header-mark"></a>tar</h3><ul>
<li><strong>不解压读取tar里面的某个文件</strong>，<code>tar xf tar包 路径 -O</code></li>
</ul>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/0ae5a5a4b67b4bcf8e136b91d39a046f.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="读取文件" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/0ae5a5a4b67b4bcf8e136b91d39a046f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>读取文件</h2><p>读取文件</p>">
        
    </a><figcaption class="image-caption">读取文件</figcaption>
    </figure></p>
<ul>
<li><strong>目录压缩成<code>.tgz</code></strong></li>
</ul>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-c</code></td>
<td>create 建立压缩档案的参数</td>
</tr>
<tr>
<td><code>-x</code></td>
<td>解压缩压缩档案的参数</td>
</tr>
<tr>
<td><code>-z</code></td>
<td>是否需要用gzip压缩</td>
</tr>
<tr>
<td><code>-v</code></td>
<td>压缩的过程中显示档案</td>
</tr>
<tr>
<td><code>-f</code></td>
<td>置顶文档名，在f后面立即接文件名，不能再加参数</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tar czvf xxxx.tgz 目录
</span></span><span class="line"><span class="cl"><span class="c1">#比如</span>
</span></span><span class="line"><span class="cl">tar czvf   node-test.tgz package
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="md5sum" class="headerLink">
    <a href="#md5sum" class="header-mark"></a>md5sum</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/9c6941cc68e847d38961d866591955f4.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="md5sum" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/9c6941cc68e847d38961d866591955f4.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>md5sum</h2><p>md5sum</p>">
        
    </a><figcaption class="image-caption">md5sum</figcaption>
    </figure></p>
<h3 id="mktemp" class="headerLink">
    <a href="#mktemp" class="header-mark"></a>mktemp</h3><ul>
<li><code>-d</code> 创建一个目录而非文件</li>
</ul>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/9d07f580d1f8414a8875935f9c9b7864.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="mktemp" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/9d07f580d1f8414a8875935f9c9b7864.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>mktemp</h2><p>mktemp</p>">
        
    </a><figcaption class="image-caption">mktemp</figcaption>
    </figure></p>
<h3 id="du" class="headerLink">
    <a href="#du" class="header-mark"></a>du</h3><ul>
<li><code>du -sh</code> 查看当前目录的总大小</li>
<li><code>du -sh *</code> 查看当前目录所有子目录的大小</li>
<li><code>du -ach *</code> 查看当前目录和所有子目录大小，最后一行会显示当前目录的总大小，不包括隐藏文件</li>
<li><code>du -sh /* --exclude=&quot;proc&quot;</code>，<code>du -sh /* --exclude=&quot;*proc*&quot;</code> 排除名字中包含 proc 的文件或目录</li>
</ul>
<h2 id="数组操作" class="headerLink">
    <a href="#%e6%95%b0%e7%bb%84%e6%93%8d%e4%bd%9c" class="header-mark"></a>数组操作</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="nb">let</span> <span class="nv">a</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> i in <span class="k">$(</span>seq <span class="m">1</span> 10<span class="k">)</span><span class="p">;</span><span class="k">do</span>
</span></span><span class="line"><span class="cl">  array<span class="o">[</span>a<span class="o">]=</span><span class="nv">$i</span>
</span></span><span class="line"><span class="cl">  <span class="nb">let</span> a++
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;一个添加多个元素：e f g&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">array</span><span class="o">+=(</span>e f g<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;数组所有元素 </span><span class="si">${</span><span class="nv">array</span><span class="p">[*]</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># shellcheck disable=SC2145</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;数组所有下标: </span><span class="si">${</span><span class="p">!array[@]</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;数组长度为：</span><span class="si">${#</span><span class="nv">array</span><span class="p">[*]</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;数组第一个元素为：</span><span class="si">${</span><span class="nv">array</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;删除数组第二个元素&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># shellcheck disable=SC2184</span>
</span></span><span class="line"><span class="cl"><span class="nb">unset</span> array<span class="o">[</span>1<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;再次数组所有元素 </span><span class="si">${</span><span class="nv">array</span><span class="p">[*]</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220718/45e1e48fc0ce4d1ca29cb4593a79257b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="数组操作" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220718/45e1e48fc0ce4d1ca29cb4593a79257b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>数组操作</h2><p>数组操作</p>">
        
    </a><figcaption class="image-caption">数组操作</figcaption>
    </figure></p>
<h2 id="cloc" class="headerLink">
    <a href="#cloc" class="header-mark"></a>cloc</h2><p><strong><ruby>cloc<rt>count lines of code</rt></ruby></strong>，是一款使用 Perl 语言开发的开源代码统计工具，支持多平台使用、多语言识别。从名字就能够直观地知道它的功能：可以帮助计算文件中的有效代码数量，而且会自动排除注释和空格。</p>
<p>cloc git 地址 <a href="https://github.com/AlDanial/cloc" target="_blank" rel="noopener noreferrer">https://github.com/AlDanial/cloc</a>，官网地址 <a href="https://cloc.sourceforge.net/" target="_blank" rel="noopener noreferrer">https://cloc.sourceforge.net/</a>。</p>
<p>cloc 还可以通过 <a href="https://www.npmjs.com/package/cloc" target="_blank" rel="noopener noreferrer">npm 安装</a>。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/148b71653e5b473a82e398a23d5ad399.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="cloc" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/148b71653e5b473a82e398a23d5ad399.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>cloc</h2><p>cloc</p>">
        
    </a><figcaption class="image-caption">cloc</figcaption>
    </figure></p>
<p>在执行完<code>cloc</code>命令以后它会计算不一样编程语言的文件数（files）、空行（blank）、注释（comment）和代码行数（code），而且最后返回 SUM 总数。</p>
<h3 id="常用命令-1" class="headerLink">
    <a href="#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4-1" class="header-mark"></a>常用命令</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--ignore-whitespace</code></td>
<td>在使用&ndash;diff比较文件时忽略水平空格</td>
</tr>
<tr>
<td><code>--max-file-size=&lt;MB&gt;</code></td>
<td>若是要跳过大于给定大小MB的文件</td>
</tr>
<tr>
<td><code>--exclude-dir=&lt;dir1&gt;,&lt;dir2&gt;</code></td>
<td>排除给定的逗号分隔目录</td>
</tr>
<tr>
<td><code>--exclude-ext=&lt;ext1&gt;,&lt;ext2&gt;</code></td>
<td>排除给定的文件扩展名</td>
</tr>
<tr>
<td><code>--out=&lt;file&gt;</code></td>
<td>将结果保存到<code>&lt;file&gt;</code></td>
</tr>
<tr>
<td><code>--quiet</code></td>
<td>禁止全部信息消息并仅显示最终报告</td>
</tr>
<tr>
<td><code>--diff&lt;set1&gt; &lt;set2&gt;</code></td>
<td>计算set1和set2的源文件之间的代码差别。 输入能够是文件和目录的混合</td>
</tr>
</tbody>
</table>
<h2 id="参考" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>参考</h2><ul>
<li><a href="https://blog.csdn.net/workdsz/article/details/78489101" target="_blank" rel="noopener noreferrer">curl -w,–write-out参数详解</a></li>
<li><a href="https://blog.csdn.net/jiangjun_dao519/article/details/125593433" target="_blank" rel="noopener noreferrer">【linux】查看文件目录大小</a></li>
</ul>
]]></description>
</item></channel>
</rss>
