<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>swagger - 标签 - xiaobinqt 博客 - 技术改变生活</title>
        <link>https://www.xiaobinqt.cn/tags/swagger/</link>
        <description>swagger - 标签 - xiaobinqt 博客 - 技术改变生活</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>xiaobinqt@163.com (xiaobinqt)</managingEditor>
            <webMaster>xiaobinqt@163.com (xiaobinqt)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Mon, 27 Dec 2021 00:00:00 &#43;0000</lastBuildDate><atom:link href="https://www.xiaobinqt.cn/tags/swagger/" rel="self" type="application/rss+xml" /><item>
    <title>Go 使用原生 Swagger</title>
    <link>https://www.xiaobinqt.cn/go-swagger/</link>
    <pubDate>Mon, 27 Dec 2021 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/go-swagger/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/a12951789f2d401bab720fd3d4bb6472.png" referrerpolicy="no-referrer">
            </div><!-- author： xiaobinqt -->
<!-- email： xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<p>Swagger 是一个规范且完整的框架，用于生成、描述、调用和可视化 RESTful 风格的 Web 服务。</p>
<p>当通过 Swagger 进行正确定义，用户可以理解远程服务并使用最少实现逻辑与远程服务进行交互。</p>
<p>支持 API 自动生成同步的在线文档。使用 Swagger 后可以直接通过代码生成文档，不再需要自己手动编写接口文档了，对程序员来说非常友好，可以节约写文档的时间。</p>
<p>提供 Web 页面在线测试 API。光有文档还不够，Swagger 生成的文档还支持在线测试。参数和格式都定好了，直接在界面上输入参数对应的值即可在线测试接口。</p>
<h2 id="swag-cli-安装" class="headerLink">
    <a href="#swag-cli-%e5%ae%89%e8%a3%85" class="header-mark"></a>swag cli 安装</h2><p>Swag 能将 Go 的注释转换为 Swagger 文档。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 安装swag</span>
</span></span><span class="line"><span class="cl">go get github.com/swaggo/swag/cmd/swag
</span></span><span class="line"><span class="cl"><span class="c1"># 查看版本</span>
</span></span><span class="line"><span class="cl">swag -v
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/90cbf963f17a451187e3527877bd8172.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="swag cli" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/90cbf963f17a451187e3527877bd8172.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>swag cli</h2><p>swag cli</p>">
        
    </a><figcaption class="image-caption">swag cli</figcaption>
    </figure></p>
<h2 id="swagger-ui-库" class="headerLink">
    <a href="#swagger-ui-%e5%ba%93" class="header-mark"></a>swagger-ui 库</h2><p>从 <a href="https://github.com/swagger-api/swagger-ui" target="_blank" rel="noopener noreferrer">swagger-ui</a>
库下载 <a href="https://github.com/swagger-api/swagger-ui/tree/master/dist" target="_blank" rel="noopener noreferrer">dist</a>
文件夹到自己的项目中，并更名为 swagger（更名不是必须的）。</p>
<p>把 swagger 中的 swagger-initializer.js 文件中有个 url 参数，<strong>全局替换</strong> swagger 文件夹中的这个 url 参数值为 <code>./swagger.json</code>。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/28a4221079dd478e926209292027748b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="swagger-initializer.js url" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/28a4221079dd478e926209292027748b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>swagger-initializer.js url</h2><p>swagger-initializer.js url</p>">
        
    </a><figcaption class="image-caption">swagger-initializer.js url</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/1fd26413ebe2426e8263e8cd7182526a.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="替换所有" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/1fd26413ebe2426e8263e8cd7182526a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>替换所有</h2><p>替换所有</p>">
        
    </a><figcaption class="image-caption">替换所有</figcaption>
    </figure></p>
<h2 id="swagger-文档" class="headerLink">
    <a href="#swagger-%e6%96%87%e6%a1%a3" class="header-mark"></a>swagger 文档</h2><p>swagger 是以注释的方式描述的，然后使用 swag cli 生成的文档。</p>
<p>比如我有一个 main.go 文件，文件内容如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;embed&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;net/http&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/go-martini/martini&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//go:embed swagger
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">embededFiles</span> <span class="nx">embed</span><span class="p">.</span><span class="nx">FS</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// @title 测试 API
</span></span></span><span class="line"><span class="cl"><span class="c1">// @version 4.0
</span></span></span><span class="line"><span class="cl"><span class="c1">// @description 测试 API V4.0
</span></span></span><span class="line"><span class="cl"><span class="c1">// @securityDefinitions.apiKey MyApiKey
</span></span></span><span class="line"><span class="cl"><span class="c1">// @in header
</span></span></span><span class="line"><span class="cl"><span class="c1">// @name Xiaobinqt-Api-Key
</span></span></span><span class="line"><span class="cl"><span class="c1">// @BasePath /
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span> <span class="o">:=</span> <span class="nx">martini</span><span class="p">.</span><span class="nf">Classic</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;/swagger/**&#34;</span><span class="p">,</span> <span class="nx">http</span><span class="p">.</span><span class="nf">FileServer</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nf">FS</span><span class="p">(</span><span class="nx">embededFiles</span><span class="p">)).</span><span class="nx">ServeHTTP</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">&#34;/api/login&#34;</span><span class="p">,</span> <span class="nx">Login</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Req</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Email</span>    <span class="kt">string</span> <span class="s">`json:&#34;email&#34;`</span> <span class="c1">// 邮箱
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Password</span> <span class="kt">string</span> <span class="s">`json:&#34;password&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// @Tags 用户管理
</span></span></span><span class="line"><span class="cl"><span class="c1">// @Summary 用户登录
</span></span></span><span class="line"><span class="cl"><span class="c1">// @Security MyApiKey
</span></span></span><span class="line"><span class="cl"><span class="c1">// @accept application/json
</span></span></span><span class="line"><span class="cl"><span class="c1">// @Produce application/json
</span></span></span><span class="line"><span class="cl"><span class="c1">// @Param data body Req true &#34;email: 用户名，password: 密码&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1">// @Success 200 {object} EdgeInstanceList
</span></span></span><span class="line"><span class="cl"><span class="c1">// @Router /api/login [POST]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">Login</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">w</span><span class="p">.</span><span class="nf">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="s">&#34;hello&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">EdgeInstanceList</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">A</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">B</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>使用 swag cli 生成 swagger 文档：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/41886c08ae484deaa904bec886cfa532.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="生成 swagger 文档" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/41886c08ae484deaa904bec886cfa532.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>生成 swagger 文档</h2><p>生成 swagger 文档</p>">
        
    </a><figcaption class="image-caption">生成 swagger 文档</figcaption>
    </figure></p>
<p>访问 swagger 路由：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/5bdd5117ff644d37a9a895c781a6b5b0.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="访问 swagger 路由" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/5bdd5117ff644d37a9a895c781a6b5b0.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>访问 swagger 路由</h2><p>访问 swagger 路由</p>">
        
    </a><figcaption class="image-caption">访问 swagger 路由</figcaption>
    </figure></p>
<h2 id="常见问题" class="headerLink">
    <a href="#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98" class="header-mark"></a>常见问题</h2><h3 id="apikey" class="headerLink">
    <a href="#apikey" class="header-mark"></a>apiKey</h3><p>有的 api 需要加上 header 头信息才能正确访问，这时可以添加注释信息：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">// @securityDefinitions.apiKey MyApiKey
</span></span><span class="line"><span class="cl">// @in header
</span></span><span class="line"><span class="cl">// @name Xiaobinqt-Api-Key
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>@in header</code> 设置，在请求 header 中，<code>@name Xiaobinqt-Api-Key</code> header 字段为<code>Xiaobinqt-Api-Key</code>，<code>@securityDefinitions.apiKey</code>
固定写法，<code>MyApiKey</code>在每个方法中的<code>@Security</code>注释信息值，如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">// @Tags 用户管理
</span></span><span class="line"><span class="cl">// @Summary 用户登录
</span></span><span class="line"><span class="cl">// @Security MyApiKey
</span></span><span class="line"><span class="cl">// @accept application/json
</span></span><span class="line"><span class="cl">// @Produce application/json
</span></span><span class="line"><span class="cl">// @Param data body Req <span class="nb">true</span> <span class="s2">&#34;email: 用户名，password: 密码&#34;</span>
</span></span><span class="line"><span class="cl">// @Success <span class="m">200</span> <span class="o">{</span>object<span class="o">}</span> EdgeInstanceList
</span></span><span class="line"><span class="cl">// @Router /api/login <span class="o">[</span>POST<span class="o">]</span>
</span></span><span class="line"><span class="cl">func Login<span class="o">(</span>w http.ResponseWriter, r *http.Request<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	w.Write<span class="o">([]</span>byte<span class="o">(</span><span class="s2">&#34;hello&#34;</span><span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果在 swagger 页面 Available authorizations 的值不为空，那么每次请求都会带着<code>Xiaobinqt-Api-Key</code>这个 header 头，值就是<code>Available authorizations</code>
填入的值。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/17586935d9494b30b83b30be0e46f45a.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="Available authorizations" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/17586935d9494b30b83b30be0e46f45a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Available authorizations</h2><p>Available authorizations</p>">
        
    </a><figcaption class="image-caption">Available authorizations</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/125010439aed41258b007ab94bba2309.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="Execute" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/125010439aed41258b007ab94bba2309.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Execute</h2><p>Execute</p>">
        
    </a><figcaption class="image-caption">Execute</figcaption>
    </figure></p>
<h3 id="paramtype" class="headerLink">
    <a href="#paramtype" class="header-mark"></a>paramType</h3><p>具体可以参看：<a href="https://swagger.io/docs/specification/describing-parameters/" target="_blank" rel="noopener noreferrer">https://swagger.io/docs/specification/describing-parameters/</a></p>
<ul>
<li>body</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">type</span> Req struct <span class="o">{</span>
</span></span><span class="line"><span class="cl">	Email    string <span class="sb">`</span>json:<span class="s2">&#34;email&#34;</span><span class="sb">`</span> // 邮箱
</span></span><span class="line"><span class="cl">	Password string <span class="sb">`</span>json:<span class="s2">&#34;password&#34;</span><span class="sb">`</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// @Param data body Req <span class="nb">true</span> <span class="s2">&#34;email: 用户名，password: 密码&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>path</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">// @Param  user_id path string <span class="nb">true</span> <span class="s2">&#34;用户ID&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>query</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">// @Param  search query string <span class="nb">false</span> <span class="s2">&#34;搜索内容&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>完整注释如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">// @Tags 用户管理
</span></span><span class="line"><span class="cl">// @Summary 用户登录
</span></span><span class="line"><span class="cl">// @Security MyApiKey
</span></span><span class="line"><span class="cl">// @accept application/json
</span></span><span class="line"><span class="cl">// @Produce application/json
</span></span><span class="line"><span class="cl">// @Param  user_id path string <span class="nb">true</span> <span class="s2">&#34;用户ID&#34;</span>
</span></span><span class="line"><span class="cl">// @Param  search query string <span class="nb">false</span> <span class="s2">&#34;搜索内容&#34;</span>
</span></span><span class="line"><span class="cl">// @Param data body Req <span class="nb">true</span> <span class="s2">&#34;email: 用户名，password: 密码&#34;</span>
</span></span><span class="line"><span class="cl">// @Success <span class="m">200</span> <span class="o">{</span>object<span class="o">}</span> EdgeInstanceList
</span></span><span class="line"><span class="cl">// @Router /api/login/<span class="o">{</span>user_id<span class="o">}</span> <span class="o">[</span>POST<span class="o">]</span>
</span></span><span class="line"><span class="cl">func Login<span class="o">(</span>w http.ResponseWriter, r *http.Request<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	w.Write<span class="o">([]</span>byte<span class="o">(</span><span class="s2">&#34;hello&#34;</span><span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/e46042ea6a5e4ce8bd4c85ec34223d9f.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="效果_01" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/e46042ea6a5e4ce8bd4c85ec34223d9f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>效果_01</h2><p>效果_01</p>">
        
    </a><figcaption class="image-caption">效果_01</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/c068d1585a49494992af4e7993a5a4f8.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="效果_02" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220519/c068d1585a49494992af4e7993a5a4f8.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>效果_02</h2><p>效果_02</p>">
        
    </a><figcaption class="image-caption">效果_02</figcaption>
    </figure></p>
<h2 id="参考" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>参考</h2><ul>
<li><a href="https://github.com/xiaobinqt/go.src/tree/master/dev/martini-swagger" target="_blank" rel="noopener noreferrer">&#x261d;&#xfe0f;文章示例源码</a></li>
<li><a href="https://swagger.io/docs/" target="_blank" rel="noopener noreferrer">swagger官方文档</a></li>
<li><a href="https://github.com/swaggo/swag/blob/master/README_zh-CN.md" target="_blank" rel="noopener noreferrer">https://github.com/swaggo/swag/blob/master/README_zh-CN.md</a></li>
<li><a href="https://www.jianshu.com/p/9313d0c5395d" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/9313d0c5395d</a></li>
<li><a href="https://colobu.com/2021/01/17/go-embed-tutorial/" target="_blank" rel="noopener noreferrer">Go embed 简明教程</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/351931501" target="_blank" rel="noopener noreferrer">Go 1.16新特性-embed包及其使用</a></li>
</ul>
]]></description>
</item></channel>
</rss>
