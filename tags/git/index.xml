<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>git - 标签 - xiaobinqt 博客 - 技术改变生活</title>
        <link>https://www.xiaobinqt.cn/tags/git/</link>
        <description>git - 标签 - xiaobinqt 博客 - 技术改变生活</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>xiaobinqt@163.com (xiaobinqt)</managingEditor>
            <webMaster>xiaobinqt@163.com (xiaobinqt)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sat, 25 Mar 2023 00:00:00 &#43;0000</lastBuildDate><atom:link href="https://www.xiaobinqt.cn/tags/git/" rel="self" type="application/rss+xml" /><item>
    <title>SSH error: permissions are too open</title>
    <link>https://www.xiaobinqt.cn/ssh-permissions-are-too-open/</link>
    <pubDate>Sat, 25 Mar 2023 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/ssh-permissions-are-too-open/</guid>
    <description><![CDATA[<h2 id="问题描述" class="headerLink">
    <a href="#%e9%97%ae%e9%a2%98%e6%8f%8f%e8%bf%b0" class="header-mark"></a>问题描述</h2><p>我的 git 版本在 1.8.3.1 的时候提交 push 代码时一直报错</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/66823aa8269d4341837ac1a2ecd69735.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/66823aa8269d4341837ac1a2ecd69735.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/66823aa8269d4341837ac1a2ecd69735.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>git 版本</h2>">
        
    </a><figcaption class="image-caption">git 版本</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/934bd49f1f9449ed9a22606e0c19f64d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/934bd49f1f9449ed9a22606e0c19f64d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/934bd49f1f9449ed9a22606e0c19f64d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Permission denied (publickey)</h2>">
        
    </a><figcaption class="image-caption">Permission denied (publickey)</figcaption>
    </figure></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Permission denied <span class="o">(</span>publickey<span class="o">)</span>.
</span></span><span class="line"><span class="cl">fatal: Could not <span class="nb">read</span> from remote repository.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Please make sure you have the correct access rights
</span></span><span class="line"><span class="cl">and the repository exists.
</span></span></code></pre></td></tr></table>
</div>
</div><p>排查了几个小时，一直没解决，之前也一直是这么用的，也没出现过问题。后来没办法，我尝试更新了下 git 版本到 2.39.2，发现错误提示不一样了&#x1f622;</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/f4a5ce70fd7146d982ff72b70ec5098a.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/f4a5ce70fd7146d982ff72b70ec5098a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/f4a5ce70fd7146d982ff72b70ec5098a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Permissions are too open</h2>">
        
    </a><figcaption class="image-caption">Permissions are too open</figcaption>
    </figure></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Warning: Permanently added <span class="s1">&#39;192.168.40.233&#39;</span> <span class="o">(</span>ECDSA<span class="o">)</span> to the list of known hosts.
</span></span><span class="line"><span class="cl">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
</span></span><span class="line"><span class="cl">@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
</span></span><span class="line"><span class="cl">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
</span></span><span class="line"><span class="cl">Permissions <span class="m">0755</span> <span class="k">for</span> <span class="s1">&#39;/tmp/tmp.LGAlGyMvNs/id_rsa&#39;</span> are too open.
</span></span><span class="line"><span class="cl">It is required that your private key files are NOT accessible by others.
</span></span><span class="line"><span class="cl">This private key will be ignored.
</span></span><span class="line"><span class="cl">Load key <span class="s2">&#34;/tmp/tmp.LGAlGyMvNs/id_rsa&#34;</span>: bad permissions
</span></span><span class="line"><span class="cl">Permission denied <span class="o">(</span>publickey<span class="o">)</span>.
</span></span><span class="line"><span class="cl">致命错误：无法读取远程仓库。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">请确认您有正确的访问权限并且仓库存在。
</span></span></code></pre></td></tr></table>
</div>
</div><p>我根据<code>Permissions 0755 for '/tmp/tmp.LGAlGyMvNs/id_rsa' are too open.</code> google 了下，原来是 isa 文件权限给的太高了，改成 400 或是 600 就可以了。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/283ea804c9de4b1dbe456b4e8915182f.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/283ea804c9de4b1dbe456b4e8915182f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20230324/283ea804c9de4b1dbe456b4e8915182f.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>问题解决</h2>">
        
    </a><figcaption class="image-caption">问题解决</figcaption>
    </figure></p>
<h2 id="参考" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>参考</h2><ul>
<li><a href="https://www.educative.io/answers/ssh-error-permissions-are-too-open" target="_blank" rel="noopener noreferrer">SSH error: permissions are too open</a></li>
<li><a href="https://juejin.cn/post/7071910670056292389" target="_blank" rel="noopener noreferrer">CentOS 7 升级 git 版本到 2.x</a></li>
</ul>
]]></description>
</item><item>
    <title>github pull request</title>
    <link>https://www.xiaobinqt.cn/pull-request/</link>
    <pubDate>Thu, 29 Apr 2021 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/pull-request/</guid>
    <description><![CDATA[<h2 id="总览" class="headerLink">
    <a href="#%e6%80%bb%e8%a7%88" class="header-mark"></a>总览</h2><p>之前在 CSDN 上写过一篇关于 RP 的笔记 <a href="https://blog.csdn.net/xiaobinqt/article/details/116277126" target="_blank" rel="noopener noreferrer">github fork PR 的简单使用</a>
，那篇文章写的比较随意且不是用命令行操作的，大部分操作都是基于 IDE，所以想着重新整理下那篇文章，同时也复习下 git 常用命令。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/cc120b7593074d3d8b2ff9adf3e13c64.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="pull request" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/cc120b7593074d3d8b2ff9adf3e13c64.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>pull request</h2><p>pull request</p>">
        
    </a><figcaption class="image-caption">pull request</figcaption>
    </figure></p>
<h2 id="模拟场景" class="headerLink">
    <a href="#%e6%a8%a1%e6%8b%9f%e5%9c%ba%e6%99%af" class="header-mark"></a>模拟场景</h2><p>公司有个项目为 <a href="https://github.com/xiao1996cc/git-dev" target="_blank" rel="noopener noreferrer">xiao1996cc/git-dev</a>
，有两个开发者，分别为 <a href="https://github.com/xiaobinqt" target="_blank" rel="noopener noreferrer">xiaobinqt</a>
和 <a href="https://github.com/lovenarcissus" target="_blank" rel="noopener noreferrer">lovenarcissus</a> 对这个项目进行开发，开发的新功能都会提交 PR 请求合并。</p>
<h2 id="fork" class="headerLink">
    <a href="#fork" class="header-mark"></a>fork</h2><p>两个开发者分别把项目 fork 项目到自己的账号下，以 <a href="https://github.com/xiaobinqt" target="_blank" rel="noopener noreferrer">xiaobinqt</a> 为例：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/8a9dc338417745369e88b4b3df91a014.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="forking" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/8a9dc338417745369e88b4b3df91a014.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>forking</h2><p>forking</p>">
        
    </a><figcaption class="image-caption">forking</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/f16363d22f0d4826acaba334bc5232af.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="fork 成功后" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/f16363d22f0d4826acaba334bc5232af.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>fork 成功后</h2><p>fork 成功后</p>">
        
    </a><figcaption class="image-caption">fork 成功后</figcaption>
    </figure></p>
<p><a href="https://github.com/xiaobinqt" target="_blank" rel="noopener noreferrer">xiaobinqt</a> 现在已经 fork 了 <a href="https://github.com/xiao1996cc/git-dev" target="_blank" rel="noopener noreferrer">xiao1996cc/git-dev</a>
项目到自己的账号下 <a href="https://github.com/xiaobinqt/git-dev" target="_blank" rel="noopener noreferrer">xiaobinqt/git-dev</a> 。</p>
<h2 id="xiaobinqt-开发新功能" class="headerLink">
    <a href="#xiaobinqt-%e5%bc%80%e5%8f%91%e6%96%b0%e5%8a%9f%e8%83%bd" class="header-mark"></a>xiaobinqt 开发新功能</h2><blockquote>
<p>每次开发新功能之前一定要先 <code>fetch</code> 下远程仓库。</p>
</blockquote>
<h3 id="clone" class="headerLink">
    <a href="#clone" class="header-mark"></a>clone</h3><p><a href="https://github.com/xiaobinqt" target="_blank" rel="noopener noreferrer">xiaobinqt</a> fork 完成后，clone 项目到本地。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/80f2eb7573af438683313396c4f63ca6.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="clone" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/80f2eb7573af438683313396c4f63ca6.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>clone</h2><p>clone</p>">
        
    </a><figcaption class="image-caption">clone</figcaption>
    </figure></p>
<h3 id="添加远程仓库" class="headerLink">
    <a href="#%e6%b7%bb%e5%8a%a0%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93" class="header-mark"></a>添加远程仓库</h3><p>添加远程仓库 <a href="https://github.com/xiao1996cc/git-dev" target="_blank" rel="noopener noreferrer">xiao1996cc/git-dev</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git remote add upstream git@github.com:xiao1996cc/git-dev.git
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/c34854f3e49048eba90bcc34cc309c0a.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="添加远程仓库" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/c34854f3e49048eba90bcc34cc309c0a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>添加远程仓库</h2><p>添加远程仓库</p>">
        
    </a><figcaption class="image-caption">添加远程仓库</figcaption>
    </figure></p>
<p>fetch 远程仓库</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git fetch upstream
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/3d0660ed67064b22a3689a54966248a4.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="fetch 远程仓库" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/3d0660ed67064b22a3689a54966248a4.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>fetch 远程仓库</h2><p>fetch 远程仓库</p>">
        
    </a><figcaption class="image-caption">fetch 远程仓库</figcaption>
    </figure></p>
<h3 id="新建分支并开发" class="headerLink">
    <a href="#%e6%96%b0%e5%bb%ba%e5%88%86%e6%94%af%e5%b9%b6%e5%bc%80%e5%8f%91" class="header-mark"></a>新建分支并开发</h3><p>基于 upstream/main 创建新分支 dev_xiaobinqt</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git checkout -b dev_xiaobinqt upstream/main
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/cb13278fb56c4a048cd816462159673a.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="创建 dev_xiaobinqt 分支" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/cb13278fb56c4a048cd816462159673a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>创建 dev_xiaobinqt 分支</h2><p>创建 dev_xiaobinqt 分支</p>">
        
    </a><figcaption class="image-caption">创建 dev_xiaobinqt 分支</figcaption>
    </figure></p>
<p>新建新文件 xiaobinqt.txt 并提交</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/d35eca199f72453f9ed972e75de3a91b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="新建文件并提交" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/d35eca199f72453f9ed972e75de3a91b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>新建文件并提交</h2><p>新建文件并提交</p>">
        
    </a><figcaption class="image-caption">新建文件并提交</figcaption>
    </figure></p>
<p>push 成功后再 github 项目下可以看到成功提示</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/c14f7b141e2e4b61885c90894a5b0e2d.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="push 成功提示" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/c14f7b141e2e4b61885c90894a5b0e2d.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>push 成功提示</h2><p>push 成功提示</p>">
        
    </a><figcaption class="image-caption">push 成功提示</figcaption>
    </figure></p>
<h3 id="新建-pr" class="headerLink">
    <a href="#%e6%96%b0%e5%bb%ba-pr" class="header-mark"></a>新建 PR</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/14eee66c4908418ca52fc44d04739bab.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="new pull request" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/14eee66c4908418ca52fc44d04739bab.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>new pull request</h2><p>new pull request</p>">
        
    </a><figcaption class="image-caption">new pull request</figcaption>
    </figure></p>
<p>选择要合并的分支并创建 pull request，这里我们将 <code>xiabinqt/git-dev</code> 下面的 <code>dev_xiaobinqt</code> 分支里的代码合并到 <code>xiao1996cc/git-dev</code> 下的 <code>main</code> 分支。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/1baa99b602894dbb92024f578aadaaaf.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="创建 pull request" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/1baa99b602894dbb92024f578aadaaaf.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>创建 pull request</h2><p>创建 pull request</p>">
        
    </a><figcaption class="image-caption">创建 pull request</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/e2e612f093d94ac7a3989b01578351f6.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="创建 pull request 成功" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/e2e612f093d94ac7a3989b01578351f6.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>创建 pull request 成功</h2><p>创建 pull request 成功</p>">
        
    </a><figcaption class="image-caption">创建 pull request 成功</figcaption>
    </figure></p>
<h3 id="合并-pr" class="headerLink">
    <a href="#%e5%90%88%e5%b9%b6-pr" class="header-mark"></a>合并 PR</h3><p><code>xiao1996cc/git-dev</code> 项目下的 PR 只有<strong>管理</strong>这个项目的用户才有权限处理。管理员看到的界面是如下这样的：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/f3005f3c551c429eae96deb6c53e78dd.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="管理者看到的 PR 界面" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/f3005f3c551c429eae96deb6c53e78dd.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>管理者看到的 PR 界面</h2><p>管理者看到的 PR 界面</p>">
        
    </a><figcaption class="image-caption">管理者看到的 PR 界面</figcaption>
    </figure></p>
<p>处理完的 PR 状态会变成 Merged</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/b983d0f5d73a4a8e8a01a457df8fa584.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="Merge PR" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/b983d0f5d73a4a8e8a01a457df8fa584.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Merge PR</h2><p>Merge PR</p>">
        
    </a><figcaption class="image-caption">Merge PR</figcaption>
    </figure></p>
<p>至此 xiaobinqt 开发的一个功能已经成功提交到远程 upstream 仓库，也就是 <code>xiao1996cc/git-dev</code> 仓库，虽然只新建了一个文件，但是一个完整的 pull request 流程。</p>
<h2 id="lovenarcissus-开发新功能" class="headerLink">
    <a href="#lovenarcissus-%e5%bc%80%e5%8f%91%e6%96%b0%e5%8a%9f%e8%83%bd" class="header-mark"></a>lovenarcissus 开发新功能</h2><p>对于 <code>lovenarcissus</code> 开发者来说，也是先 fork 项目再 clone 项目到本地。</p>
<p>可以看到 <code>lovenarcissus</code> fork 后的项目是有 xiaobinqt.txt 这个文件的，同时也验证了 xiaobinqt 开发者成功向远程仓库提交了代码。这里默认已经 clone 到了本地仓库。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/91c9b6dd2c614ff28d7d73751bbe59b8.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="lovenarcissus fork" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/91c9b6dd2c614ff28d7d73751bbe59b8.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>lovenarcissus fork</h2><p>lovenarcissus fork</p>">
        
    </a><figcaption class="image-caption">lovenarcissus fork</figcaption>
    </figure></p>
<h3 id="添加远程仓库-1" class="headerLink">
    <a href="#%e6%b7%bb%e5%8a%a0%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93-1" class="header-mark"></a>添加远程仓库</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/4ca1d947307d4ec58848a23eb5bc73fc.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="添加远程仓库" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/4ca1d947307d4ec58848a23eb5bc73fc.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>添加远程仓库</h2><p>添加远程仓库</p>">
        
    </a><figcaption class="image-caption">添加远程仓库</figcaption>
    </figure></p>
<p>fetch 远程仓库代码</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/2f039b5452514811a89853710843a6a0.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="git fetch upsteam" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/2f039b5452514811a89853710843a6a0.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>git fetch upsteam</h2><p>git fetch upsteam</p>">
        
    </a><figcaption class="image-caption">git fetch upsteam</figcaption>
    </figure></p>
<h3 id="新建分支并开发-1" class="headerLink">
    <a href="#%e6%96%b0%e5%bb%ba%e5%88%86%e6%94%af%e5%b9%b6%e5%bc%80%e5%8f%91-1" class="header-mark"></a>新建分支并开发</h3><p>基于 <code>upstream/main</code> 创建新分支 <code>dev_lovenarcissus</code> 开发分支</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git checkout -b dev_lovenarcissus upstream/main
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/64abb29d6e604f84b732c055a9359372.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="新建开发分支" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/64abb29d6e604f84b732c055a9359372.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>新建开发分支</h2><p>新建开发分支</p>">
        
    </a><figcaption class="image-caption">新建开发分支</figcaption>
    </figure></p>
<p>新建 lovenarcissus.txt 文件并修改 xiaobinqt.txt 文件</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/7af1393f145b4837b651c45c6c67167b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="开发代码" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/7af1393f145b4837b651c45c6c67167b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>开发代码</h2><p>开发代码</p>">
        
    </a><figcaption class="image-caption">开发代码</figcaption>
    </figure></p>
<p>提交代码</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/d748706fc84d4874bb3f548b9b770deb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="提交代码" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/d748706fc84d4874bb3f548b9b770deb.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>提交代码</h2><p>提交代码</p>">
        
    </a><figcaption class="image-caption">提交代码</figcaption>
    </figure></p>
<h3 id="新建-pr-1" class="headerLink">
    <a href="#%e6%96%b0%e5%bb%ba-pr-1" class="header-mark"></a>新建 PR</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/ae6ab7174cc74c58b02216267b2bfb06.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="新建 pull request" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/ae6ab7174cc74c58b02216267b2bfb06.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>新建 pull request</h2><p>新建 pull request</p>">
        
    </a><figcaption class="image-caption">新建 pull request</figcaption>
    </figure></p>
<h3 id="合并-pr-1" class="headerLink">
    <a href="#%e5%90%88%e5%b9%b6-pr-1" class="header-mark"></a>合并 PR</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/617fd9602dec47e39f6e69ce57138bee.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="Merge pull request" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/617fd9602dec47e39f6e69ce57138bee.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>Merge pull request</h2><p>Merge pull request</p>">
        
    </a><figcaption class="image-caption">Merge pull request</figcaption>
    </figure></p>
<h2 id="模拟并解决冲突" class="headerLink">
    <a href="#%e6%a8%a1%e6%8b%9f%e5%b9%b6%e8%a7%a3%e5%86%b3%e5%86%b2%e7%aa%81" class="header-mark"></a>模拟并解决冲突</h2><h3 id="出现冲突" class="headerLink">
    <a href="#%e5%87%ba%e7%8e%b0%e5%86%b2%e7%aa%81" class="header-mark"></a>出现冲突</h3><p>现在开发者 xiaobinqt 和开发者 lovenarcissus 都提了代码到远程仓库 <code>xiao1996cc/git-dev</code>，仓库里文件如下：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/ab47d38c6f544048a2e39a8f5c90314b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="远程代码仓库" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/ab47d38c6f544048a2e39a8f5c90314b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>远程代码仓库</h2><p>远程代码仓库</p>">
        
    </a><figcaption class="image-caption">远程代码仓库</figcaption>
    </figure></p>
<p>现在开发者 xiaobinqt 需要开发一个新的功能，新增一个 xiaobinqt2.txt 文件，并且修改 xiaobinqt.txt 文件，但是这时 xiaobinqt 并没有 fetch 合并远程仓库的代码，xiaobinqt 本地仓库文件如下：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/cd94ad34b4e4464598c6ec6726baec10.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="文件列表" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/cd94ad34b4e4464598c6ec6726baec10.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>文件列表</h2><p>文件列表</p>">
        
    </a><figcaption class="image-caption">文件列表</figcaption>
    </figure></p>
<p>直接新建 xiaobinqt2.txt 文件，并且修改 xiaobinqt.txt 文件</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/1faab506c99d4ca2ba4781fed2ae64bd.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="新建并修改文件" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/1faab506c99d4ca2ba4781fed2ae64bd.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>新建并修改文件</h2><p>新建并修改文件</p>">
        
    </a><figcaption class="image-caption">新建并修改文件</figcaption>
    </figure></p>
<p>push 代码到远程仓库，并创建 pull request</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/dc48fe23f17d424a93bd817868996c3c.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="push 代码" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/dc48fe23f17d424a93bd817868996c3c.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>push 代码</h2><p>push 代码</p>">
        
    </a><figcaption class="image-caption">push 代码</figcaption>
    </figure></p>
<p>可以看到在创建 pull request 时出现了冲突，提示 <strong>Can’t automatically merge</strong> ，</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/d3a54feea2844ffe82712751186a651a.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="PR 出现冲突" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/d3a54feea2844ffe82712751186a651a.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>PR 出现冲突</h2><p>PR 出现冲突</p>">
        
    </a><figcaption class="image-caption">PR 出现冲突</figcaption>
    </figure></p>
<h3 id="解决冲突" class="headerLink">
    <a href="#%e8%a7%a3%e5%86%b3%e5%86%b2%e7%aa%81" class="header-mark"></a>解决冲突</h3><p>出现冲突的原因是本地代码跟 origin 仓库的代码是一样的，但是 origin 仓库跟 upstream 仓库代码不一致。我们需要先 fetch 下 upstream 仓库的代码跟本地代码合并后再 push 到 origin 仓库，再从 origin 仓库提 pull request 到 upsteam 仓库。</p>
<p>由&#x1f447;图可知，在 merge upstream/main 分支时出现了冲突 <code>Automatic merge failed; fix conflicts and then commit the result.</code></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/40dd7bedf7c041d1859fb76c0cc3a2b7.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="merge conflicts" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/40dd7bedf7c041d1859fb76c0cc3a2b7.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>merge conflicts</h2><p>merge conflicts</p>">
        
    </a><figcaption class="image-caption">merge conflicts</figcaption>
    </figure></p>
<p>vim 打开冲突文件 xiaobinqt.txt 解决冲突</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/be7281a78f814a13b97c50fb8a643bbd.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="冲突文件内容" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/be7281a78f814a13b97c50fb8a643bbd.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>冲突文件内容</h2><p>冲突文件内容</p>">
        
    </a><figcaption class="image-caption">冲突文件内容</figcaption>
    </figure></p>
<p>解决冲突后的文件 &#x1f447;</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/e5f0185bb84548a98ad33d1a23d7f5c2.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="解决冲突后的文件" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/e5f0185bb84548a98ad33d1a23d7f5c2.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>解决冲突后的文件</h2><p>解决冲突后的文件</p>">
        
    </a><figcaption class="image-caption">解决冲突后的文件</figcaption>
    </figure></p>
<p>以下&#x1f447;是解决这次冲突的具体步骤：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/f54a92110ac345c68c327ed16f6aea47.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="解决冲突具体步骤" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/f54a92110ac345c68c327ed16f6aea47.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>解决冲突具体步骤</h2><p>解决冲突具体步骤</p>">
        
    </a><figcaption class="image-caption">解决冲突具体步骤</figcaption>
    </figure></p>
<h3 id="重提-pr" class="headerLink">
    <a href="#%e9%87%8d%e6%8f%90-pr" class="header-mark"></a>重提 PR</h3><p>这时对于 xiaobinqt 开发者来说，冲突已经解决，可以重新提 pull request &#x1f447;，可以看到现在的状态是 <strong>Able to merge.</strong>。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/df8451a7d11f4799a3ed00a36ffe37bb.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="重提 PR" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/df8451a7d11f4799a3ed00a36ffe37bb.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>重提 PR</h2><p>重提 PR</p>">
        
    </a><figcaption class="image-caption">重提 PR</figcaption>
    </figure></p>
<p>创建新的 pull request 成功</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c061dcc8dc51406b8ec77431273ea5cd.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="创建新的 PR 成功" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220413/c061dcc8dc51406b8ec77431273ea5cd.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>创建新的 PR 成功</h2><p>创建新的 PR 成功</p>">
        
    </a><figcaption class="image-caption">创建新的 PR 成功</figcaption>
    </figure></p>
]]></description>
</item><item>
    <title>Git 常见问题</title>
    <link>https://www.xiaobinqt.cn/git-common-question/</link>
    <pubDate>Sun, 12 Jul 2020 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/git-common-question/</guid>
    <description><![CDATA[<!-- author： xiaobinqt -->
<!-- email： xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="unable-to-auto-detect-email-address" class="headerLink">
    <a href="#unable-to-auto-detect-email-address" class="header-mark"></a>unable to auto-detect email address</h2><p>这个问题网上固定的解决方案是全局设置用户名和邮箱：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git config --global user.email <span class="s2">&#34;you@example.com&#34;</span>
</span></span><span class="line"><span class="cl">git config --global user.name <span class="s2">&#34;Your Name&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其实这个问题也可以<strong>在提交时单独设置</strong>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git -c <span class="s2">&#34;user.name=Your Name&#34;</span> -c <span class="s2">&#34;user.email=Your email&#34;</span> commit <span class="s2">&#34;Your commit message&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="指定私钥文件" class="headerLink">
    <a href="#%e6%8c%87%e5%ae%9a%e7%a7%81%e9%92%a5%e6%96%87%e4%bb%b6" class="header-mark"></a>指定私钥文件</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nv">GIT_SSH_COMMAND</span><span class="o">=</span><span class="s1">&#39;ssh  -i &#34;/data/flexcloud/vscode/.ssh/id_rsa&#34;&#39;</span> git push origin master
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="are-you-sure-you-want-to-continue-connecting" class="headerLink">
    <a href="#are-you-sure-you-want-to-continue-connecting" class="header-mark"></a>are you sure you want to continue connecting</h2><p><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220712/73049793ae584d35b6812cc0ec0f318b.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="are you sure" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220712/73049793ae584d35b6812cc0ec0f318b.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15">
        
    </a></p>
<p>如何想要忽略这个提示，可以在终端中输入&#x1f447;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nv">GIT_SSH_COMMAND</span><span class="o">=</span><span class="s1">&#39;ssh -o &#34;UserKnownHostsFile=/dev/null&#34; -o &#34;StrictHostKeyChecking=no&#34;&#39;</span> git push origin master
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="参考" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>参考</h2><ul>
<li><a href="https://stackoverflow.com/questions/19840921/override-configured-user-for-a-single-git-commit" target="_blank" rel="noopener noreferrer">Override configured user for a single git commit</a></li>
</ul>
]]></description>
</item><item>
    <title>git 使用笔记</title>
    <link>https://www.xiaobinqt.cn/git-glance/</link>
    <pubDate>Sat, 23 Mar 2019 00:00:00 &#43;0000</pubDate><author>
        <name>xiaobinqt</name>
    </author><guid>https://www.xiaobinqt.cn/git-glance/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/c4b622f71a954f5492654749f5bb2aef.png?imageView2/0/interlace/1/q/50%7cimageslim" referrerpolicy="no-referrer">
            </div><h2 id="基本概念" class="headerLink">
    <a href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" class="header-mark"></a>基本概念</h2><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/287032d97f2b4f7982abfcf4a28c802e.png?imageView2/0/interlace/1/q/50%7cimageslim" title="基本概念" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/287032d97f2b4f7982abfcf4a28c802e.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>基本概念</h2><p>基本概念</p>">
        
    </a><figcaption class="image-caption">基本概念</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/32a4a02c84184c078b859fa8b16e63da.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="git work" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220412/32a4a02c84184c078b859fa8b16e63da.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>git work</h2><p>git work</p>">
        
    </a><figcaption class="image-caption">git work</figcaption>
    </figure></p>
<h2 id="gitignore文件" class="headerLink">
    <a href="#gitignore%e6%96%87%e4%bb%b6" class="header-mark"></a>.gitignore文件</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 此为注释 – 将被 Git 忽略
</span></span><span class="line"><span class="cl">*.a       # 忽略所有 .a 结尾的文件
</span></span><span class="line"><span class="cl">!lib.a    # 但 lib.a 除外
</span></span><span class="line"><span class="cl">/TODO     # 仅仅忽略项目根目录下的 TODO 文件，不包括 subdir/TODO
</span></span><span class="line"><span class="cl">build/    # 忽略 build/ 目录下的所有文件
</span></span><span class="line"><span class="cl">doc/*.txt # 会忽略 doc/notes.txt 但不包括 doc/server/arch.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="git-常用命令" class="headerLink">
    <a href="#git-%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4" class="header-mark"></a>git 常用命令</h2><h3 id="git-reset" class="headerLink">
    <a href="#git-reset" class="header-mark"></a>git reset</h3><p>当已经把代码从暂存区提交到版本库了，<code>git rest</code>命令可以恢复到暂存区的状态。</p>
<p><code>git rest --hard HEAD $commit_id</code>，如果只会退上一个版本就是<code>HEAD^</code>，上上一个版本就是<code>HEAD^^</code>，当然往上100个版本写100个^比较容易数不过来，所以写成<code>HEAD~100</code>。</p>
<p>如果知道 commit id 的话，可以直接用 commit id，commit id 没必要写全，前6位基本就可以用，git会自动去找。</p>
<p>commit id 可以通过<code>git log</code>命令查看，格式化log可以使用<code>git log --pretty=oneline</code></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/28ed39984d0f4556ab87d4f2f3766c94.png?imageView2/0/interlace/1/q/50%7cimageslim" title="git log &amp;ndash;pretty=oneline" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/28ed39984d0f4556ab87d4f2f3766c94.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>git log --pretty=oneline</h2><p>git log &amp;ndash;pretty=oneline</p>">
        
    </a><figcaption class="image-caption">git log --pretty=oneline</figcaption>
    </figure></p>
<h4 id="--hard-参数的作用" class="headerLink">
    <a href="#--hard-%e5%8f%82%e6%95%b0%e7%9a%84%e4%bd%9c%e7%94%a8" class="header-mark"></a><code>--hard</code> 参数的作用</h4><p>当文件被修改过，并且 add 到了暂存区，<code>git reset</code> 命令会把文件状态恢复到最初的状态，也就是从暂存区撤销掉，此时跟<code>git reset HEAD </code>命令一样。</p>
<p>如果文件从暂存区 commit 了，说明已经生成了最新的版本号了，此时回退，则需要回退到之前的一个版本，如果知道前一个版本的版本号，<code>git reset 版本号</code>这样就可以了，但是一般我们不会去记版本号， 可以执行<code>git log</code>
命令去查看，也可以使用<code> git reset HEAD^</code> 命令用于回退到上一个版本，会重新回到工作区，也就是 add 之前的状态。</p>
<p>如果使用了 <code>--hard</code> 参数会连工作区的状态内容也修改了。</p>
<p>以下是同样的 commit 之后，不加 <code>--hard</code> 参数和使用 <code>--hard</code> 参数的区别：</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/07fd3ad257cb40ee81a4a2ef835258d8.png?imageView2/0/interlace/1/q/50%7cimageslim" title="不使用 &amp;ndash;hard 参数" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/07fd3ad257cb40ee81a4a2ef835258d8.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>不使用 --hard 参数</h2><p>不使用 &amp;ndash;hard 参数</p>">
        
    </a><figcaption class="image-caption">不使用 --hard 参数</figcaption>
    </figure></p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/84bb9684af7a4721aecaab77f6c8bf7a.png?imageView2/0/interlace/1/q/50%7cimageslim" title="使用 &amp;ndash;hard 参数" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/84bb9684af7a4721aecaab77f6c8bf7a.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>使用 --hard 参数</h2><p>使用 &amp;ndash;hard 参数</p>">
        
    </a><figcaption class="image-caption">使用 --hard 参数</figcaption>
    </figure></p>
<h3 id="git-diff" class="headerLink">
    <a href="#git-diff" class="header-mark"></a>git diff</h3><table>
<thead>
<tr>
<th>cmd</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git diff [file]</code></td>
<td>显示暂存区和工作区的差异</td>
</tr>
<tr>
<td><code>git diff --cached [file]</code>/<code>git diff --staged [file]</code></td>
<td>显示暂存区和上一次提交(commit)的差异</td>
</tr>
</tbody>
</table>
<h3 id="git-reflog" class="headerLink">
    <a href="#git-reflog" class="header-mark"></a>git reflog</h3><p><code>git reflog</code> 用来记录你的每一次命令，可以查看你最近执行过的命令，可以用来回退到某一个时刻。所以为了好查记录，<strong><code>commit -m</code> 的提交说明文案尽量写清楚</strong>。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/71328dc599e24269bd001430cabd606e.png?imageView2/0/interlace/1/q/50%7cimageslim" title="git reflog" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/71328dc599e24269bd001430cabd606e.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>git reflog</h2><p>git reflog</p>">
        
    </a><figcaption class="image-caption">git reflog</figcaption>
    </figure></p>
<table>
<thead>
<tr>
<th>cmd</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>git reflog &ndash;date=local &ndash;all | grep dev</td>
<td>查看 dev 分支是基于哪个分支创建的</td>
</tr>
</tbody>
</table>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Tips<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">markdown 表格中使用 <code>|</code> 可以使用<code>&amp;#124;</code></div>
        </div>
    </div>
<h3 id="git-log" class="headerLink">
    <a href="#git-log" class="header-mark"></a>git log</h3><h4 id="git-log-1" class="headerLink">
    <a href="#git-log-1" class="header-mark"></a>git log</h4><p>不传入任何参数的默认情况下，<code>git log</code> 会按时间先后顺序列出所有的提交，最近的更新排在最上面，当记录太多时会出现分页，可以按空格键翻页，按 <code>q</code> 键退出。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/91e168c43f4b486790fd8bd2f5f29349.png?imageView2/0/interlace/1/q/50%7cimageslim" title="git log" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/91e168c43f4b486790fd8bd2f5f29349.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>git log</h2><p>git log</p>">
        
    </a><figcaption class="image-caption">git log</figcaption>
    </figure></p>
<h4 id="git-log---prettyoneline" class="headerLink">
    <a href="#git-log---prettyoneline" class="header-mark"></a><code>git log --pretty=oneline</code></h4><p>将每个提交放在一行显示，在浏览大量的提交时非常有用。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/a613f48add4f4750bd4d8772cba995d7.png?imageView2/0/interlace/1/q/50%7cimageslim" title="git log pretty oneline" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/a613f48add4f4750bd4d8772cba995d7.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>git log --pretty=oneline</h2><p>git log pretty oneline</p>">
        
    </a><figcaption class="image-caption">git log --pretty=oneline</figcaption>
    </figure></p>
<h4 id="git-log---graph---prettyoneline-" class="headerLink">
    <a href="#git-log---graph---prettyoneline-" class="header-mark"></a><code>git log --graph --pretty=oneline </code></h4><p><code>--abbrev-commit</code> 仅显示 SHA-1 校验和所有 40 个字符中的前几个字符。<code>--oneline</code> 是 <code>--pretty=oneline --abbrev-commit</code> 合用的简写。</p>
<p>所以 <code>git log --graph --pretty=oneline </code> 可以也可以写为 <code>git log --graph --pretty=oneline --abbrev-commit</code>。</p>
<p><code>--graph</code> 在日志旁以 ASCII 图形显示分支与合并历史。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/e28c6a5447a44e04b73b63cbb8358352.png?imageView2/0/interlace/1/q/50%7cimageslim" title="git graph" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/e28c6a5447a44e04b73b63cbb8358352.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>git graph</h2><p>git graph</p>">
        
    </a><figcaption class="image-caption">git graph</figcaption>
    </figure></p>
<h3 id="git-checkout" class="headerLink">
    <a href="#git-checkout" class="header-mark"></a>git checkout</h3><table>
<thead>
<tr>
<th>cmd</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git checkout dev</code></td>
<td>切换到dev分支</td>
</tr>
<tr>
<td><code>git checkout -- file</code></td>
<td>可以丢弃工作区的修改， <code>git checkout -- readme.txt </code>意思是，把readme.txt文件在工作区的修改全部撤销。<br>这里有两种情况：<br>1. readme.txt自修改后还没有被放到暂存区，撤销修改就回到和版本库一模一样的状态。<br>2. readme.txt已经添加到暂存区后，又作了修改，撤销修改就回到添加到暂存区后的状态</td>
</tr>
<tr>
<td><code>git checkout -b yourbranchname origin/oldbranchname</code></td>
<td>在本地创建和远程分支对应的分支</td>
</tr>
</tbody>
</table>
<h3 id="git-rm" class="headerLink">
    <a href="#git-rm" class="header-mark"></a>git rm</h3><p>git rm 有 2 个常用命令：</p>
<ol>
<li><code>git rm &lt;file&gt;</code>：同时从工作区和索引中删除文件。即<strong>本地的文件也被删除</strong>了，并把此次删除操作提交到了暂存区。</li>
</ol>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/b22ecd44c7a94fc3974d5237fc3f048c.png?imageView2/0/interlace/1/q/50%7cimageslim" title="git rm file" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/b22ecd44c7a94fc3974d5237fc3f048c.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>git rm file</h2><p>git rm file</p>">
        
    </a><figcaption class="image-caption">git rm file</figcaption>
    </figure></p>
<ol start="2">
<li><code>git rm --cached</code> ：从索引中删除文件。但是<strong>本地文件还存在</strong>，只是不希望这个文件被版本控制。</li>
</ol>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/1134987486b345ef8f7157c8ac4636f6.png?imageView2/0/interlace/1/q/50%7cimageslim" title="git rm &amp;ndash;cached" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/1134987486b345ef8f7157c8ac4636f6.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>git rm --cached</h2><p>git rm &amp;ndash;cached</p>">
        
    </a><figcaption class="image-caption">git rm --cached</figcaption>
    </figure></p>
<p>如果是文件夹需要加上 <code>-r</code> 参数，比如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git rm -r --cached 文件/文件夹名字
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Tips<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">先手动删除文件，然后使用<code>git rm &lt;file&gt;</code>和<code>git add&lt;file&gt;</code>效果是一样的。</div>
        </div>
    </div>
<h3 id="git-remote" class="headerLink">
    <a href="#git-remote" class="header-mark"></a>git remote</h3><table>
<thead>
<tr>
<th>cmd</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git remote add 名字 地址</code></td>
<td>关联一个远程库时必须给远程库指定一个名字，如：<code>git remote add origin git@server-name:path/repo-name.git</code></td>
</tr>
<tr>
<td><code>git remote -v</code></td>
<td>查看远程库信息</td>
</tr>
<tr>
<td><code>git remote rm &lt;name&gt;</code></td>
<td>解除了本地和远程的绑定关系，如：<code>git remote rm origin</code></td>
</tr>
</tbody>
</table>
<h3 id="git-push" class="headerLink">
    <a href="#git-push" class="header-mark"></a>git push</h3><p>把本地库的内容推送到远程，用<code>git push</code>命令，比如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git push -u origin master
</span></span></code></pre></td></tr></table>
</div>
</div><p>实际上是把当前分支推送到远程的 master 分支上。</p>
<p>加上了<code>-u</code>参数，git不但会把本地的分支内容推送的远程的master分支，还会把本地的分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令，直接使用
<code>git push</code>。</p>
<h3 id="git-branch" class="headerLink">
    <a href="#git-branch" class="header-mark"></a>git branch</h3><table>
<thead>
<tr>
<th>cmd</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git brahcn -b 分支名</code></td>
<td>新建并切换到新分支，如新建并切换到dev分支：<code>git branch -b dev</code></td>
</tr>
<tr>
<td><code>git branch</code></td>
<td>列出所有分支，当前分支前面会标一个<code>*</code>号</td>
</tr>
<tr>
<td><code>git branch -d 分支名</code></td>
<td>删除某个分支</td>
</tr>
<tr>
<td><code>git branch -a</code></td>
<td>查看远程分支，远程分支会用红色表示出来（如果开了颜色支持的话）</td>
</tr>
<tr>
<td><code>git branch -D &lt;name&gt;</code></td>
<td>强行删除一个没有被合并过的分支</td>
</tr>
<tr>
<td><code>git branch --set-upstream branch-name origin/branch-name</code></td>
<td>建立本地分支和远程分支的关联</td>
</tr>
</tbody>
</table>
<h3 id="git-merge" class="headerLink">
    <a href="#git-merge" class="header-mark"></a>git merge</h3><p><code>git merge</code>命令用于合并指定分支到当前分支。如：<code>git merge dev</code> 合并 dev 分支到当前分支。</p>
<h3 id="git-switch" class="headerLink">
    <a href="#git-switch" class="header-mark"></a>git switch</h3><p>git 2.23+ 版本支持了 switch 命令用来切换分支，实际上，切换分支这个动作，用switch更好理解。</p>
<p>之前切换分支使用<code>git checkout &lt;branch&gt;</code>，而撤销修改则是<code>git checkout -- &lt;file&gt;</code>，同一个命令，有两种作用，确实有点令人迷惑。</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>version 2.23-</th>
<th>version 2.23+</th>
</tr>
</thead>
<tbody>
<tr>
<td>切换分支</td>
<td><code>git branch dev</code></td>
<td><code>git switch dev</code></td>
</tr>
<tr>
<td>新建并切换分支</td>
<td><code>git branch -b dev</code></td>
<td><code>git switch -c dev</code></td>
</tr>
</tbody>
</table>
<h3 id="git-cherry-pick" class="headerLink">
    <a href="#git-cherry-pick" class="header-mark"></a>git cherry-pick</h3><p>在合并代码的时候，有两种情况：</p>
<ol>
<li>需要另一个分支的所有代码变动，那么就采用合并<code>git merge</code>。</li>
<li>只需要部分代码变动（某几个提交），这时可以采用 <code>cherry pick</code>。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git cherry-pick &lt;commid_1&gt; &lt;commit_2&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="git-stash" class="headerLink">
    <a href="#git-stash" class="header-mark"></a>git stash</h3><p>新增的文件，直接执行 <code>git stash</code> 是不会被存储的，需要先执行 <code>git add</code> 把文件加到版本控制里。</p>
<p>文件在版本控制里，并不等于就被stash起来了，git add 和 git stash 没有必然的关系，但是执行 <strong>git stash 能正确存储的前提是文件必须在 git 版本控制中才行</strong>。</p>
<p>可以多次stash，恢复的时候，先用git stash list查看，然后恢复指定的stash。</p>
<table>
<thead>
<tr>
<th>cmd <div style="width: 200px;"></th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git stash save &quot;save message&quot;</code></td>
<td>执行存储时，添加备注，方便查找，只有git stash 也要可以的，但查找时不方便识别</td>
</tr>
<tr>
<td><code>git stash list</code></td>
<td>查看stash了哪些存储</td>
</tr>
<tr>
<td><code>git stash show</code></td>
<td>显示做了哪些改动，默认show第一个存储,如果要显示其他存贮，后面加 stash@{$num}，比如第二个 git stash show stash@{1}</td>
</tr>
<tr>
<td><code>git stash show -p</code></td>
<td>显示第一个存储的改动，如果想显示其他存存储，命令：<code>git stash show  stash@{$num}</code>  -p ，比如第二个：<code>git stash show  stash@{1} -p</code></td>
</tr>
<tr>
<td><code>git stash apply</code></td>
<td>应用某个存储，但不会把存储从存储列表中删除，默认使用第一个存储，即stash@{0}，如果要使用其他个，<code>git stash apply stash@{$num}</code> ， 比如第二个：<code>git stash apply stash@{1}</code></td>
</tr>
<tr>
<td><code>git stash pop</code></td>
<td>命令恢复之前缓存的工作目录，将缓存堆栈中的对应stash删除，并将对应修改应用到当前的工作目录下，默认为第一个stash，即stash@{0}，如果要应用并删除其他stash，命令：<code>git stash pop stash@{$num}</code> ，比如应用并删除第二个：<code>git stash pop stash@{1}</code></td>
</tr>
<tr>
<td><code>git stash drop stash@{$num}</code></td>
<td>丢弃stash@{$num}存储，从列表中删除这个存储</td>
</tr>
<tr>
<td><code>git stash clear</code></td>
<td>删除所有缓存的stash</td>
</tr>
</tbody>
</table>
<h2 id="分支管理" class="headerLink">
    <a href="#%e5%88%86%e6%94%af%e7%ae%a1%e7%90%86" class="header-mark"></a>分支管理</h2><p><code>HEAD</code>严格来说不是指向提交，而是指向某个分支，如master分支，master才是指向提交的，所以，HEAD指向的就是当前分支。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220326/ba117f59220d497f9dae512afe902ed4.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="HEAD" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220326/ba117f59220d497f9dae512afe902ed4.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>HEAD</h2><p>HEAD</p>">
        
    </a><figcaption class="image-caption">HEAD</figcaption>
    </figure></p>
<p>在合并分支时如果出现冲突，Git用<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>，<code>=======</code>，<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>标记出不同分支的内容。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/1071a4d1601f464080b4aedaa3acbe4e.png?imageView2/0/interlace/1/q/50%7cimageslim" title="merge conflict" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/1071a4d1601f464080b4aedaa3acbe4e.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>合并分支有冲突</h2><p>merge conflict</p>">
        
    </a><figcaption class="image-caption">合并分支有冲突</figcaption>
    </figure></p>
<h3 id="fast-forward" class="headerLink">
    <a href="#fast-forward" class="header-mark"></a>Fast forward</h3><p>通常，合并分支时，如果可能，git 会用 Fast forward 模式，但这种模式下，删除分支后，会丢掉分支信息。</p>
<p>可以使用<code>--no-ff</code>强制禁用 Fast forward 模式，git就会在merge时生成一个新的 commit，这样，从分支历史上就可以看出分支信息。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/38fbc059693942a69c7db82476275fed.png?imageView2/0/interlace/1/q/50%7cimageslim" title="git merge &amp;ndash;no-ff" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/38fbc059693942a69c7db82476275fed.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>git merge --no-ff</h2><p>git merge &amp;ndash;no-ff</p>">
        
    </a><figcaption class="image-caption">git merge --no-ff</figcaption>
    </figure></p>
<p>因为本次合并要创建一个新的 commit，所以加上 <code>-m</code> 参数，把 commit 描述写进去。</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/ff5c6a084f18472ab52ecf5b62d754e3.png?imageView2/0/interlace/1/q/50%7cimageslim" title="分支历史" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220324/ff5c6a084f18472ab52ecf5b62d754e3.png?imageView2/0/interlace/1/q/50|imageslim" data-sub-html="<h2>分支历史</h2><p>分支历史</p>">
        
    </a><figcaption class="image-caption">分支历史</figcaption>
    </figure></p>
<h2 id="标签tag" class="headerLink">
    <a href="#%e6%a0%87%e7%ad%betag" class="header-mark"></a>标签Tag</h2><p>tag 是基于某个分支下的某次 commit。如只执行 <code>git tag v1.0</code>，那么标签是打在该分支最新提交的 commit 上的。</p>
<p>创建的标签都只存储在本地，不会自动推送到远程，打错的标签可以在本地安全删除。如果标签已经推送到远程，得先删除本地标签，再删除远程标签。</p>
<table>
<thead>
<tr>
<th>cmd</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git tag -a v0.1 -m &quot;version 0.1 released&quot; 1094adb</code></td>
<td>基于某次 commit 打 tag，<code>-a</code>指定标签名，<code>-m</code>指定说明文字</td>
</tr>
<tr>
<td><code>git show &lt;tagname&gt;</code></td>
<td>显示 tag 的说明文字</td>
</tr>
<tr>
<td><code>git tag</code></td>
<td>可以查看所有标签</td>
</tr>
<tr>
<td><code>git tag -d v0.1</code></td>
<td>删除标签</td>
</tr>
<tr>
<td><code>git push origin &lt;tagname&gt;</code></td>
<td>推送某个标签到远程，如：<code>git push origin v1.0</code></td>
</tr>
<tr>
<td><code>git push origin --tags</code></td>
<td>一次性推送全部尚未推送到远程的本地标签</td>
</tr>
<tr>
<td><code>git push origin :refs/tags/&lt;tagname&gt;</code></td>
<td>删除一个远程标签</td>
</tr>
</tbody>
</table>
<h2 id="faq" class="headerLink">
    <a href="#faq" class="header-mark"></a>FAQ</h2><h3 id="pull-和-fetch-区别" class="headerLink">
    <a href="#pull-%e5%92%8c-fetch-%e5%8c%ba%e5%88%ab" class="header-mark"></a>pull 和 fetch 区别</h3><p><code>git fetch</code> 是将远程主机的最新内容拉到本地，用户检查后决定是否合并到分支中。</p>
<p><code>git pull</code> 是将远程主机的最新内容<strong>拉下来直接合并</strong>，可以理解成，<code>git pull = git fetch + git merge</code>。在 merge 合并时如果产生冲突需要手动解决。</p>
<blockquote>
<p>尽量不要用 <code>git pull</code>，用 <code>git fetch</code> 和 <code>git merge</code> 代替 <code>git pull</code>。
将 <code>fetch</code> 和 <code>merge</code> 放到一个命令里的另外一个弊端是，本地工作目录在未经确认的情况下就会被远程分支更新。</p>
</blockquote>
<h3 id="将提交回到暂存区" class="headerLink">
    <a href="#%e5%b0%86%e6%8f%90%e4%ba%a4%e5%9b%9e%e5%88%b0%e6%9a%82%e5%ad%98%e5%8c%ba" class="header-mark"></a>将提交回到暂存区</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git reset --soft $commitID
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220426/4d0f8299ff774a2baadea254b3c16eb9.png?imageView2/0/q/75%7cwatermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" title="将 commit 后的代码回退到暂存区" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20220426/4d0f8299ff774a2baadea254b3c16eb9.png?imageView2/0/q/75|watermark/2/text/eGlhb2JpbnF0/font/dmlqYXlh/fontsize/1000/fill/IzVDNUI1Qg==/dissolve/52/gravity/SouthEast/dx/15/dy/15" data-sub-html="<h2>将 commit 后的代码回退到暂存区</h2><p>将 commit 后的代码回退到暂存区</p>">
        
    </a><figcaption class="image-caption">将 commit 后的代码回退到暂存区</figcaption>
    </figure></p>
<p>或者</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git reset HEAD 文件/文件夹
</span></span></code></pre></td></tr></table>
</div>
</div><p>&#x261d;&#xfe0f;可以将某个文件/文件夹回滚到上一次操作。</p>
<h2 id="参考" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>参考</h2><ul>
<li><a href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%85%B3%E4%BA%8E%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6" target="_blank" rel="noopener noreferrer">git-fast-version-control</a></li>
<li><a href="https://www.liaoxuefeng.com/wiki/896043488029600" target="_blank" rel="noopener noreferrer">Git教程</a></li>
<li><a href="https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.pdf" target="_blank" rel="noopener noreferrer">Git Cheat Sheet</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html" target="_blank" rel="noopener noreferrer">git cherry-pick 教程</a></li>
<li><a href="https://www.cnblogs.com/zndxall/archive/2018/09/04/9586088.html" target="_blank" rel="noopener noreferrer">git stash 用法总结和注意点</a></li>
<li><a href="https://blog.csdn.net/weixin_41975655/article/details/82887273" target="_blank" rel="noopener noreferrer">详解git pull和git fetch的区别</a></li>
<li><a href="https://github.com/k88hudson/git-flight-rules/blob/master/README_zh-CN.md" target="_blank" rel="noopener noreferrer">Git飞行规则(Flight Rules)</a></li>
</ul>
]]></description>
</item></channel>
</rss>
