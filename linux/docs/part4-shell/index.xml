<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>第四部分 Shell on Linux 学习笔记</title>
    <link>https://example.com/linux/docs/part4-shell/</link>
    <description>Recent content in 第四部分 Shell on Linux 学习笔记</description>
    <generator>Hugo</generator>
    <language>zh</language>
    <atom:link href="https://example.com/linux/docs/part4-shell/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>4.1 Shell 简介</title>
      <link>https://example.com/linux/docs/part4-shell/4.1-introduction/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.com/linux/docs/part4-shell/4.1-introduction/</guid>
      <description>&lt;h1 id=&#34;41-shell-简介&#34;&gt;&#xA;  4.1 Shell 简介&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#41-shell-%e7%ae%80%e4%bb%8b&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;Shell 是命令解释器，用于解释用户对操作系统的操作。CentOS7 默认使用的 Shell 是 bash。&lt;/p&gt;&#xA;&lt;p&gt;Shell 有很多可以再 /etc/shells 文件中查看：&lt;/p&gt;&#xA;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230628/1ff1ac3c90164b56b212d53fea91ca85.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;h2 id=&#34;411-脚本格式&#34;&gt;&#xA;  4.1.1 脚本格式&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#411-%e8%84%9a%e6%9c%ac%e6%a0%bc%e5%bc%8f&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;UNIX 的哲学：一条命令只做一件事。为了组合命令和多次执行，使用脚本文件来保存需要执行的命令，并赋予该文件执行权限（chmod u+rx filename）。如果是二进制文件只需要一个可执性权限，如果是脚本文件需要可读和可执行权限。&lt;/p&gt;&#xA;&lt;h3 id=&#34;sha-bang&#34;&gt;&#xA;  Sha-Bang&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#sha-bang&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;p&gt;在 shell 脚本中，Sha-Bang（也称为 Shebang 或 Hashbang）是指位于脚本文件的第一行的特殊注释。它的形式是以井号 &lt;code&gt;#&lt;/code&gt; 开头，紧随其后是一个叹号 &lt;code&gt;!&lt;/code&gt;，再加上一个可执行程序的路径。&lt;/p&gt;&#xA;&lt;p&gt;下面是一个典型的 Sha-Bang 行示例：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/bash&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在上述示例中，&lt;code&gt;#!/bin/bash&lt;/code&gt; 是一个 Sha-Bang 行。其中 &lt;code&gt;#!/bin/&lt;/code&gt; 是固定的前缀，用于告诉系统该文件是一个可执行文件，接下来的 bash 是解释器的路径，表示使用 Bash 解释器来执行该脚本。&lt;/p&gt;&#xA;&lt;p&gt;Sha-Bang 行的作用是指定脚本所需的解释器。当在命令行中运行脚本文件时，操作系统会读取脚本文件的第一行，根据其中的 Sha-Bang 行来确定要使用的解释器，并将该解释器用于执行该脚本。&lt;/p&gt;&#xA;&lt;p&gt;除了 &lt;code&gt;#!/bin/bash&lt;/code&gt;，还可以使用其他解释器路径，如 &lt;code&gt;/bin/sh&lt;/code&gt;、&lt;code&gt;/usr/bin/env python&lt;/code&gt; 等，根据脚本的需求选择适当的解释器。&lt;/p&gt;&#xA;&lt;p&gt;需要注意的是，Sha-Bang 行必须位于脚本文件的第一行，否则它将不会被正确解析。同时，脚本文件需要具有执行权限才能被执行。&lt;/p&gt;&#xA;&lt;h2 id=&#34;412-不同执行方式&#34;&gt;&#xA;  4.1.2 不同执行方式&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#412-%e4%b8%8d%e5%90%8c%e6%89%a7%e8%a1%8c%e6%96%b9%e5%bc%8f&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;脚本的执行方式大致有以下几种：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# bash 执行不需要赋予执行权限&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bash ./filename.sh&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 需要有执行权限&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./filename.sh&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;source ./filename.sh&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;. filename.sh&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;bash 和 ./ 在执行时会产生一个新的子进程，对当前的环境不会产生影响。&lt;/p&gt;</description>
    </item>
    <item>
      <title>4.2 环境变量</title>
      <link>https://example.com/linux/docs/part4-shell/4.2-env-config-file/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.com/linux/docs/part4-shell/4.2-env-config-file/</guid>
      <description>&lt;h1 id=&#34;42-环境变量&#34;&gt;&#xA;  4.2 环境变量&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#42-%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;421-系统环境变量&#34;&gt;&#xA;  4.2.1 系统环境变量&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#421-%e7%b3%bb%e7%bb%9f%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;环境变量是每个 Shel 打开都可以直接获得到的变量。&lt;/p&gt;&#xA;&lt;p&gt;env 命令可以查看所有已经存在的环境变量。&lt;/p&gt;&#xA;&lt;p&gt;set 可以查看到比 env 更多的环境变量，包括预定义变量。&lt;/p&gt;&#xA;&lt;p&gt;$PATH 是命令搜索路径，如果使用的命令不在 $PATH 下就需要使用完整路径。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;code&gt;$?&lt;/code&gt; 可以查看上一条命令是否执行成功，成为返回 0&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;code&gt;$$&lt;/code&gt; 查看当前进程的 PID&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;code&gt;$0&lt;/code&gt; 查看当前执行的脚本或程序的名称。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h4 id=&#34;位置参数&#34;&gt;&#xA;  位置参数&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e4%bd%8d%e7%bd%ae%e5%8f%82%e6%95%b0&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h4&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$1,$2 ,...., $9,&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;10&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt; ...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230629/260cb6c6af9940098210d60530e0a433.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;p&gt;&lt;code&gt;${2-_}&lt;/code&gt; 表示变量替换，意思是，如果 $2 不为空就取 $2，如果为空就是 &lt;code&gt;_&lt;/code&gt;。&lt;/p&gt;&#xA;&lt;h4 id=&#34;ps1&#34;&gt;&#xA;  $PS1&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#ps1&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h4&gt;&#xA;&lt;p&gt;$PS1 用于定义 Unix 或类 Unix 操作系统中的命令行提示符。它控制着命令行界面（shell）中显示的每个命令行的外观和格式。用于设置主提示符（primary prompt）。主提示符通常在每个命令行的开始处显示，并用于指示用户输入命令。&lt;/p&gt;&#xA;&lt;p&gt;$PS1 的值可以包含一些特殊的转义字符和变量，以便在提示符中插入特定的信息，例如当前用户名、主机名、当前工作目录等。&lt;/p&gt;&#xA;&lt;p&gt;下面是一个示例，展示如何设置 $PS1 变量来定义自定义的命令行提示符：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置自定义的命令行提示符&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export PS1&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\u@\h:\w\$ &amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 示例输出：user@hostname:/current/path$&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在上述示例中，$PS1 的值为 &lt;code&gt;&amp;quot;\u@\h:\w\$ &amp;quot;&lt;/code&gt;，其中：&lt;/p&gt;</description>
    </item>
    <item>
      <title>4.3 数组</title>
      <link>https://example.com/linux/docs/part4-shell/4.3-array/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.com/linux/docs/part4-shell/4.3-array/</guid>
      <description>&lt;h1 id=&#34;43-数组&#34;&gt;&#xA;  4.3 数组&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#43-%e6%95%b0%e7%bb%84&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;定义数组&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;IPTS&lt;span style=&#34;color:#f92672&#34;&gt;=(&lt;/span&gt;10.0.0.1 10.0.0.2 10.0.0.3&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;显示数组的所有元素&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;IPTS[@]&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;显示数组元素个数&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;${#&lt;/span&gt;PTS[@]&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;显示数组的第一个元素&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo $IPTS&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;0&lt;span style=&#34;color:#f92672&#34;&gt;])&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230703/fbccd86370624c7b8e67e137557db63e.png&#34; width=  /&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>4.4 转义和引用</title>
      <link>https://example.com/linux/docs/part4-shell/4.4-escape-quot/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.com/linux/docs/part4-shell/4.4-escape-quot/</guid>
      <description>&lt;h1 id=&#34;44-转义和引用&#34;&gt;&#xA;  4.4 转义和引用&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#44-%e8%bd%ac%e4%b9%89%e5%92%8c%e5%bc%95%e7%94%a8&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;441-特殊字符&#34;&gt;&#xA;  4.4.1 特殊字符&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#441-%e7%89%b9%e6%ae%8a%e5%ad%97%e7%ac%a6&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;一个字符不仅有字面意义，还有元意（meta-meaning）&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;# 注释&lt;/li&gt;&#xA;&lt;li&gt;; 分号&lt;/li&gt;&#xA;&lt;li&gt;\ 转义符号&lt;/li&gt;&#xA;&lt;li&gt;“ 和 &amp;rsquo; 引号&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;引号&#34;&gt;&#xA;  引号&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%bc%95%e5%8f%b7&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&amp;rsquo; 单引号，完全引用。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&amp;quot; 双引号，不完全引用，变量会进行解释。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;` 反引号，执行命令&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;括号&#34;&gt;&#xA;  括号&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e6%8b%ac%e5%8f%b7&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;()，(())，$() 圆括号&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;单独使用圆括号会产生一个子 shell (yz=123)&lt;/p&gt;&#xA;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230704/0ca9f4345aa04357a5f1518d8607d786.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;p&gt;数组初始化 &lt;code&gt;lPS=(ip1 ip2 ip3)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;[]，[[]] 方括号&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;[]（方括号）是传统的条件测试语法，也被称为单方括号条件测试。它执行基本的条件测试，主要用于进行字符串比较和数值比较。例如，可以来检查两个字符串是否相等，或者一个数值是否大于另一个数值。&lt;/p&gt;&#xA;&lt;p&gt;[[]]（双方括号）是高级的条件测试语法，也被称为双方括号条件测试。它是 Bash shell 的扩展功能，提供了更多的条件测试选项和功能。它支持字符串比较、模式匹配、正则表达式匹配、文件匹配等更复杂的条件测试。此外，双方括号还提供了更灵活的逻辑运算符和字符串操作符。&lt;/p&gt;&#xA;&lt;p&gt;在使用条件测试时，以下是一些[]和[[]]的区别和注意事项：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;[] 需要在参数和操作符周围使用空格，而 [[]] 不需要使用空格。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;[] 是 POSIX 标准的一部分，因此在大多数 Shell 中都可以使用。而 [[]] 是 Bash shell 的扩展功能，只能在 Bash 或兼容 Bash 的 Shell 中使用。&lt;/p&gt;</description>
    </item>
    <item>
      <title>4.5 运算符</title>
      <link>https://example.com/linux/docs/part4-shell/4.5-operator/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.com/linux/docs/part4-shell/4.5-operator/</guid>
      <description>&lt;h1 id=&#34;45-运算符&#34;&gt;&#xA;  4.5 运算符&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#45-%e8%bf%90%e7%ae%97%e7%ac%a6&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;451-赋值运算符&#34;&gt;&#xA;  4.5.1 赋值运算符&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#451-%e8%b5%8b%e5%80%bc%e8%bf%90%e7%ae%97%e7%ac%a6&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;= 赋值运算符，用于算数赋值和字符串赋值。使用 unset 取消为变量的赋值。= 除了作为赋值运算符还可以作为测试操作符。&lt;/p&gt;&#xA;&lt;h2 id=&#34;452-基本运算符&#34;&gt;&#xA;  4.5.2 基本运算符&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#452-%e5%9f%ba%e6%9c%ac%e8%bf%90%e7%ae%97%e7%ac%a6&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;+ - * / ** %&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;使用 expr 进行运算。&lt;strong&gt;只能&lt;/strong&gt;支持整数。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 主要符号和数字之间要有空格&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;expr &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt; + &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230703/ac27163394604b4ea5a1a5ee7ee99b1a.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;h3 id=&#34;数字常量&#34;&gt;&#xA;  数字常量&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e6%95%b0%e5%ad%97%e5%b8%b8%e9%87%8f&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;let 变量名=变量值&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;变量值使用 0 开头为八进制&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;变量值使用 0x 开头为十六进制&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;双圆括号是 let 命令的简化，所以在实际使用中较少会使用到 let。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;((&lt;/span&gt;a&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;10&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;((&lt;/span&gt;a++&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#66d9ef&#34;&gt;$((&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;))&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230703/cc842f5d79be4f36abbec9ea75dba0ff.png&#34; width=  /&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>4.6 测试和判断</title>
      <link>https://example.com/linux/docs/part4-shell/4.6-test-and-judge/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.com/linux/docs/part4-shell/4.6-test-and-judge/</guid>
      <description>&lt;h1 id=&#34;46-测试和判断&#34;&gt;&#xA;  4.6 测试和判断&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#46-%e6%b5%8b%e8%af%95%e5%92%8c%e5%88%a4%e6%96%ad&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;461-退出状态&#34;&gt;&#xA;  4.6.1 退出状态&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#461-%e9%80%80%e5%87%ba%e7%8a%b6%e6%80%81&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;退出程序命令&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;exit&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;exit 10&lt;/code&gt; 表示自定义返回 10 给 Shell，返回值非 0 位不正常退出。&lt;/p&gt;&#xA;&lt;p&gt;$? 判断当前 Shell 前一个进程是否正常退出。&lt;/p&gt;&#xA;&lt;h2 id=&#34;462-测试命令-test&#34;&gt;&#xA;  4.6.2 测试命令 test&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#462-%e6%b5%8b%e8%af%95%e5%91%bd%e4%bb%a4-test&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;test 命令用于检查文件或者比较值&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;test 可以做以下测试：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;文件测试&lt;/li&gt;&#xA;&lt;li&gt;整数比较测试&lt;/li&gt;&#xA;&lt;li&gt;字符串测试&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;test 测试语句可以简化为 [] 符号&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;[] 符号还有扩展写法 [[]] 支持 &amp;amp;&amp;amp;、‖、&amp;lt;、&amp;gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230704/e3c619bda2fc4eb4954f46f761054594.png&#34; width=  /&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>4.7 流程控制</title>
      <link>https://example.com/linux/docs/part4-shell/4.7-process-control/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.com/linux/docs/part4-shell/4.7-process-control/</guid>
      <description>&lt;h1 id=&#34;47-流程控制&#34;&gt;&#xA;  4.7 流程控制&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#47-%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;471-if&#34;&gt;&#xA;  4.7.1 if&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#471-if&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;if-then&#34;&gt;&#xA;  if-then&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#if-then&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; 测试条件成立 &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; 或 命令返回值是否为0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt; 执行相应命令&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt; 结束&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230704/3392a03c0b8d42789cc0a6ae8d07590b.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230704/ed4c0d12d2124ea5a00ac5e2d7e87b32.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;h3 id=&#34;if-then-else&#34;&gt;&#xA;  if-then-else&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#if-then-else&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; 测试条件成立 &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt; 执行相应命令&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; 测试条件不成立，执行相应命令&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt; 结束&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230704/1732772c4f374956a7cba2f7014ad02c.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;h3 id=&#34;if-elif-else&#34;&gt;&#xA;  if-elif-else&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#if-elif-else&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; 测试条件成立 &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;elif&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; 测试条件成立 &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt; 执行相应命令&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; 测试条件不成立，执行相应命令&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt; 结束&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230704/7ac3461cf8d34643a8b11885ef75f058.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;h3 id=&#34;嵌套-if&#34;&gt;&#xA;  嵌套 if&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%b5%8c%e5%a5%97-if&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; 测试条件成立 &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  执行相应命令&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; 测试条件成立 &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    执行相应命令&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230704/bca30b393fb744cda243ecc5110c00eb.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;h2 id=&#34;472-case-分支&#34;&gt;&#xA;  4.7.2 case 分支&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#472-case-%e5%88%86%e6%94%af&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$&lt;span style=&#34;color:#e6db74&#34;&gt;变量&amp;#34;&lt;/span&gt; in&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;情况1&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    命令…;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;情况2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    命令…;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  *&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    命令…;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;esac&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230704/c256d22bc5374cedaabcd7ff32b3dbde.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;h2 id=&#34;473-循环&#34;&gt;&#xA;  4.7.3 循环&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#473-%e5%be%aa%e7%8e%af&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;for-循环&#34;&gt;&#xA;  for 循环&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#for-%e5%be%aa%e7%8e%af&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; 参数 in 列表&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt; 执行的命令&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt; 封闭一个循环&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;列表中包含多个变量，变量用空格分隔&lt;/li&gt;&#xA;&lt;li&gt;对文本处理，要使用文本查看命令取出文本内容。默认逐行处理，如果文本出现空格会当做多行处理&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230704/e1348a36432a42b981c49b4c11d9a3b3.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230704/cc6daeb18aac41d68e9cdb4a31db79bf.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;p&gt;使用反引号或 $() 方式执行命令，命令的结果当作列表进行处理。&lt;/p&gt;</description>
    </item>
    <item>
      <title>4.8 函数</title>
      <link>https://example.com/linux/docs/part4-shell/4.8-function/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.com/linux/docs/part4-shell/4.8-function/</guid>
      <description>&lt;h1 id=&#34;48-函数&#34;&gt;&#xA;  4.8 函数&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#48-%e5%87%bd%e6%95%b0&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;函数用于 “包含” 重复使用的命令集合。&lt;/p&gt;&#xA;&lt;h2 id=&#34;481-自定义函数&#34;&gt;&#xA;  4.8.1 自定义函数&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#481-%e8%87%aa%e5%ae%9a%e4%b9%89%e5%87%bd%e6%95%b0&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; fname&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# 命令&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 函数的执行 `fname`&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;function&lt;/code&gt; 关键字可以省略。&lt;/p&gt;&#xA;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/a511981f8b144c149bb77f44fac1b3ab.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;h3 id=&#34;变量和参数&#34;&gt;&#xA;  变量和参数&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e5%8f%98%e9%87%8f%e5%92%8c%e5%8f%82%e6%95%b0&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;p&gt;函数作用范围的变量可以使用 local 申明，只在函数内部生效：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;local 变量名&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/4935ca38672e4e2992e58491aae03bfc.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;p&gt;函数的参数：$1 $2 $3 ${10} .. $n&lt;/p&gt;&#xA;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/7e281a0af3d147f4ad4e8c0e2e7096d7.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;h2 id=&#34;482-系统脚本&#34;&gt;&#xA;  4.8.2 系统脚本&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#482-%e7%b3%bb%e7%bb%9f%e8%84%9a%e6%9c%ac&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;系统自建了函数库，可以在脚本中引用，目录是 &lt;code&gt;/etc/init.d/functions&lt;/code&gt;，如果想导入系统函数库，可以使用 source 函数脚本文件 “导入” 函数。&lt;/p&gt;&#xA;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/4c6ebdb34f694d169486e41eef9e80d5.png&#34; width=  /&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>4.9 脚本和计划任务</title>
      <link>https://example.com/linux/docs/part4-shell/4.9-script-cron/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.com/linux/docs/part4-shell/4.9-script-cron/</guid>
      <description>&lt;h1 id=&#34;49-脚本和计划任务&#34;&gt;&#xA;  4.9 脚本和计划任务&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#49-%e8%84%9a%e6%9c%ac%e5%92%8c%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;491-脚本优先级控制&#34;&gt;&#xA;  4.9.1 脚本优先级控制&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#491-%e8%84%9a%e6%9c%ac%e4%bc%98%e5%85%88%e7%ba%a7%e6%8e%a7%e5%88%b6&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;可以使用 nice 和 renice 调整脚本优先级。&lt;/p&gt;&#xA;&lt;p&gt;nice 命令用于启动一个新进程，并设置其优先级。通过指定一个优先级值（范围从 -20（最高优先级）到 +19（最低优先级）），可以告诉操作系统如何在调度进程时优先考虑它们。较低的优先级值意味着更高的优先级。&lt;/p&gt;&#xA;&lt;p&gt;例如，要在启动一个进程时设置较低的优先级，可以使用以下命令：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;nice -n &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt; command&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;上述命令将启动一个新的进程 command，并将其优先级设置为 +10。需要注意的是，使用 nice 启动的进程的优先级相对于默认值进行了调整。&lt;/p&gt;&#xA;&lt;p&gt;renice 命令用于修改已经运行的进程的优先级。可以使用 renice 命令将已经运行的进程的优先级增加或降低。&lt;/p&gt;&#xA;&lt;p&gt;例如，要将进程的优先级提高到较高值，可以使用以下命令：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;renice -n -5 &amp;lt;PID&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;上述命令将进程 &lt;PID&gt; 的优先级降低了 5。&lt;/p&gt;&#xA;&lt;p&gt;更改进程的优先级需要适当的权限。通常，只有具有足够权限（如 root 用户或具有 CAP_SYS_NICE 权限的用户）才能增加或降低进程的优先级。&lt;/p&gt;&#xA;&lt;p&gt;脚本避免出现 “不可控的” 死循环，死循环导致 cpu 占用过高，死循环导致死机。&lt;/p&gt;&#xA;&lt;h2 id=&#34;492-捕获信号&#34;&gt;&#xA;  4.9.2 捕获信号&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#492-%e6%8d%95%e8%8e%b7%e4%bf%a1%e5%8f%b7&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;kill 默认会发送 15 号信号给应用程序&lt;/li&gt;&#xA;&lt;li&gt;ctrl + C 发送 2 号信号给应用程序&lt;/li&gt;&#xA;&lt;li&gt;9 号信号不可阻塞，kill -9 不能进行捕获&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;trap 命令可以用来捕获信号。&lt;/p&gt;&#xA;&lt;div align=&#34;center&#34;&gt;&lt;img src=&#34;https://cdn.xiaobinqt.cn/xiaobinqt.io/20230705/5acea3faef0048efb6cd2ccd8c948d5a.png&#34; width=  /&gt;&lt;/div&gt;&#xA;&lt;h2 id=&#34;493-计划任务&#34;&gt;&#xA;  4.9.3 计划任务&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#493-%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;一次性计划任务&#34;&gt;&#xA;  一次性计划任务&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#%e4%b8%80%e6%ac%a1%e6%80%a7%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;p&gt;一次性计划任务使用的是 at 命令，如果没有 at 命令可以先通过 yum 或 apt 安装。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
