<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title class="pjax-title">å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç° - xiaobinqt åšå®¢ - æŠ€æœ¯æ”¹å˜ç”Ÿæ´»</title><meta name="Description" content="xiaobinqt,"><meta property="og:title" content="å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç°" />
<meta property="og:description" content="xiaobinqt," />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.xiaobinqt.cn/design-patterns/" /><meta property="og:image" content="https://www.xiaobinqt.cn/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-11-17T11:51:30+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.xiaobinqt.cn/logo.png"/>

<meta name="twitter:title" content="å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç°"/>
<meta name="twitter:description" content="xiaobinqt,"/>
<meta name="application-name" content="xiaobinqt">
<meta name="apple-mobile-web-app-title" content="xiaobinqt">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c">
<link rel="stylesheet" href="//at.alicdn.com/t/font_3267767_dz25dtwdgdc.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" href="https://www.xiaobinqt.cn/design-patterns/" /><link rel="prev" href="https://www.xiaobinqt.cn/docker-install-mysql8.0/" /><link rel="next" href="https://www.xiaobinqt.cn/js-call-c/" /><link rel="stylesheet" href="/lib/md5/md5.min.js"><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><meta name="google-site-verification" content="hFkClWMTOtPBuE0lQaXNiNb707E7P6O2CwexZoSm3VQ" /><meta name="msvalidate.01" content="A961D393878F86E04112E1198500FDBD" /><meta name="baidu-site-verification" content="code-cMh5ORsrP2" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç°",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/www.xiaobinqt.cn\/design-patterns\/"
        },"image": ["https:\/\/www.xiaobinqt.cn\/images\/home.png"],"genre": "posts","keywords": "golang, è®¾è®¡æ¨¡å¼","wordcount":  8603 ,
        "url": "https:\/\/www.xiaobinqt.cn\/design-patterns\/","datePublished": "2021-10-20T00:00:00+00:00","dateModified": "2022-11-17T11:51:30+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/www.xiaobinqt.cn\/images\/avatar.png",
                    "width":  528 ,
                    "height":  560 
                }},"author": {
                "@type": "Person",
                "name": "xiaobinqt"
            },"description": "xiaobinqt,"
    }
    </script></head>

<body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark');}
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('auto' === 'light' || 'auto' === 'dark' || 'auto' === 'black') setTheme('auto'), saveTheme('auto'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="xiaobinqt åšå®¢ - æŠ€æœ¯æ”¹å˜ç”Ÿæ´»"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>è§åä¸€éƒ</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> æ‰€æœ‰æ–‡ç«  </a><a class="menu-item" href="/tags/"> æ ‡ç­¾ </a><a class="menu-item" href="/categories/"> åˆ†ç±» </a><a class="menu-item" href="/series/"> ç³»åˆ— </a><a class="menu-item" href="/memo/"> æ”¶è—å¤¹ </a><a class="menu-item" href="/links/"> å‹é“¾ </a><a class="menu-item" href="/about/"> å…³äº </a><a class="menu-item" href="https://github.com/xiaobinqt" title="GitHub" rel="noopener noreferrer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-desktop">
                        <a href="#" onclick="return false;" class="search-button search-toggle" id="search-toggle-desktop" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" onclick="return false;" class="search-button search-clear" id="search-clear-desktop" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="#" onclick="return false;" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="xiaobinqt åšå®¢ - æŠ€æœ¯æ”¹å˜ç”Ÿæ´»"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>è§åä¸€éƒ</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-mobile">
                        <a href="#" onclick="return false;" class="search-button search-toggle" id="search-toggle-mobile" title="æœç´¢">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" onclick="return false;" class="search-button search-clear" id="search-clear-mobile" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" onclick="return false;" class="search-cancel" id="search-cancel-mobile">
                        å–æ¶ˆ
                    </a>
                </div><a class="menu-item" href="/posts/" title="">æ‰€æœ‰æ–‡ç« </a><a class="menu-item" href="/tags/" title="">æ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">åˆ†ç±»</a><a class="menu-item" href="/series/" title="">ç³»åˆ—</a><a class="menu-item" href="/memo/" title="">æ”¶è—å¤¹</a><a class="menu-item" href="/links/" title="">å‹é“¾</a><a class="menu-item" href="/about/" title="">å…³äº</a><a class="menu-item" href="https://github.com/xiaobinqt" title="GitHub" rel="noopener noreferrer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="#" onclick="return false;" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><div class="toc" id="toc-auto">
        <h2 class="toc-title">ç›®å½•</h2>
        <div class="toc-content" id="toc-content-auto"><nav id="TableOfContents">
  <ul>
    <li><a href="#åˆ›å»ºå‹æ¨¡å¼">åˆ›å»ºå‹æ¨¡å¼</a>
      <ul>
        <li><a href="#å•ä¾‹æ¨¡å¼">å•ä¾‹æ¨¡å¼</a></li>
        <li><a href="#ç®€å•å·¥å‚æ¨¡å¼">ç®€å•å·¥å‚æ¨¡å¼</a></li>
        <li><a href="#å·¥å‚æ–¹æ³•æ¨¡å¼">å·¥å‚æ–¹æ³•æ¨¡å¼</a></li>
        <li><a href="#æŠ½è±¡å·¥å‚æ–¹æ³•æ¨¡å¼">æŠ½è±¡å·¥å‚æ–¹æ³•æ¨¡å¼</a></li>
      </ul>
    </li>
    <li><a href="#ç»“æ„å‹æ¨¡å¼">ç»“æ„å‹æ¨¡å¼</a>
      <ul>
        <li><a href="#ä»£ç†æ¨¡å¼">ä»£ç†æ¨¡å¼</a></li>
        <li><a href="#è£…é¥°æ¨¡å¼">è£…é¥°æ¨¡å¼</a></li>
        <li><a href="#é€‚é…å™¨æ¨¡å¼">é€‚é…å™¨æ¨¡å¼</a></li>
        <li><a href="#å¤–è§‚æ¨¡å¼">å¤–è§‚æ¨¡å¼</a></li>
      </ul>
    </li>
    <li><a href="#è¡Œä¸ºå‹æ¨¡å¼">è¡Œä¸ºå‹æ¨¡å¼</a>
      <ul>
        <li><a href="#å‘½ä»¤æ¨¡å¼">å‘½ä»¤æ¨¡å¼</a></li>
        <li><a href="#è§‚å¯Ÿè€…æ¨¡å¼">è§‚å¯Ÿè€…æ¨¡å¼</a></li>
        <li><a href="#ç­–ç•¥æ¨¡å¼">ç­–ç•¥æ¨¡å¼</a></li>
        <li><a href="#æ¨¡æ¿æ–¹å¼æ¨¡å¼">æ¨¡æ¿æ–¹å¼æ¨¡å¼</a></li>
      </ul>
    </li>
    <li><a href="#faq">FAQ</a></li>
    <li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
  </ul>
</nav></div>
    </div><script>document.getElementsByTagName("main")[0].setAttribute("pageStyle", "normal")</script><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç°</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">xiaobinqt</a>
                </span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E5%BC%80%E5%8F%91%E8%80%85%E6%89%8B%E5%86%8C/"><i class="far fa-folder fa-fw"></i>å¼€å‘è€…æ‰‹å†Œ</a>&nbsp;<a href="/categories/golang/"><i class="far fa-folder fa-fw"></i>golang</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-10-20">2021-10-20</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime="2022-11-17">2022-11-17</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 8603 å­—&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 18 åˆ†é’Ÿ&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/7f6d12f27a2e456db7779a98e9fc86f7.png"
        data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/7f6d12f27a2e456db7779a98e9fc86f7.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/7f6d12f27a2e456db7779a98e9fc86f7.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/7f6d12f27a2e456db7779a98e9fc86f7.png 2x"
        data-sizes="auto"
        alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/7f6d12f27a2e456db7779a98e9fc86f7.png"
        title="xiaobinqt," height="auto" width="auto"></div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>ç›®å½•</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#åˆ›å»ºå‹æ¨¡å¼">åˆ›å»ºå‹æ¨¡å¼</a>
      <ul>
        <li><a href="#å•ä¾‹æ¨¡å¼">å•ä¾‹æ¨¡å¼</a></li>
        <li><a href="#ç®€å•å·¥å‚æ¨¡å¼">ç®€å•å·¥å‚æ¨¡å¼</a></li>
        <li><a href="#å·¥å‚æ–¹æ³•æ¨¡å¼">å·¥å‚æ–¹æ³•æ¨¡å¼</a></li>
        <li><a href="#æŠ½è±¡å·¥å‚æ–¹æ³•æ¨¡å¼">æŠ½è±¡å·¥å‚æ–¹æ³•æ¨¡å¼</a></li>
      </ul>
    </li>
    <li><a href="#ç»“æ„å‹æ¨¡å¼">ç»“æ„å‹æ¨¡å¼</a>
      <ul>
        <li><a href="#ä»£ç†æ¨¡å¼">ä»£ç†æ¨¡å¼</a></li>
        <li><a href="#è£…é¥°æ¨¡å¼">è£…é¥°æ¨¡å¼</a></li>
        <li><a href="#é€‚é…å™¨æ¨¡å¼">é€‚é…å™¨æ¨¡å¼</a></li>
        <li><a href="#å¤–è§‚æ¨¡å¼">å¤–è§‚æ¨¡å¼</a></li>
      </ul>
    </li>
    <li><a href="#è¡Œä¸ºå‹æ¨¡å¼">è¡Œä¸ºå‹æ¨¡å¼</a>
      <ul>
        <li><a href="#å‘½ä»¤æ¨¡å¼">å‘½ä»¤æ¨¡å¼</a></li>
        <li><a href="#è§‚å¯Ÿè€…æ¨¡å¼">è§‚å¯Ÿè€…æ¨¡å¼</a></li>
        <li><a href="#ç­–ç•¥æ¨¡å¼">ç­–ç•¥æ¨¡å¼</a></li>
        <li><a href="#æ¨¡æ¿æ–¹å¼æ¨¡å¼">æ¨¡æ¿æ–¹å¼æ¨¡å¼</a></li>
      </ul>
    </li>
    <li><a href="#faq">FAQ</a></li>
    <li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><!-- authorï¼š xiaobinqt -->
<!-- emailï¼š xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->
<h2 id="åˆ›å»ºå‹æ¨¡å¼" class="headerLink">
    <a href="#%e5%88%9b%e5%bb%ba%e5%9e%8b%e6%a8%a1%e5%bc%8f" class="header-mark"></a>åˆ›å»ºå‹æ¨¡å¼</h2><h3 id="å•ä¾‹æ¨¡å¼" class="headerLink">
    <a href="#%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f" class="header-mark"></a>å•ä¾‹æ¨¡å¼</h3><p>ä¿è¯ä¸€ä¸ªç±»æ°¸è¿œåªèƒ½æœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ï¼Œä¸”è¯¥å¯¹è±¡çš„åŠŸèƒ½ä¾ç„¶èƒ½è¢«å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚</p>
<p>å› ä¸ºåœ¨ç³»ç»Ÿå†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼Œå•ä¾‹å¯ä»¥èŠ‚çœç³»ç»Ÿèµ„æºã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync/atomic&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æ ‡è®°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="nx">initialized</span> <span class="kt">uint32</span>
</span></span><span class="line"><span class="cl">	<span class="nx">lock</span>        <span class="nx">sync</span><span class="p">.</span><span class="nx">Mutex</span>
</span></span><span class="line"><span class="cl">	<span class="nx">instance</span>    <span class="o">*</span><span class="nx">singelton</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">singelton</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">GetInstance</span><span class="p">()</span> <span class="o">*</span><span class="nx">singelton</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//å¦‚æœæ ‡è®°ä¸ºè¢«è®¾ç½®ï¼Œç›´æ¥è¿”å›ï¼Œä¸åŠ é”
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">atomic</span><span class="p">.</span><span class="nf">LoadUint32</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">initialized</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">instance</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//å¦‚æœæ²¡æœ‰ï¼Œåˆ™åŠ é”ç”³è¯·
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">lock</span><span class="p">.</span><span class="nf">Lock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">defer</span> <span class="nx">lock</span><span class="p">.</span><span class="nf">Unlock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">initialized</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">instance</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">singelton</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//è®¾ç½®æ ‡è®°ä½
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">atomic</span><span class="p">.</span><span class="nf">StoreUint32</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">initialized</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">instance</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">singelton</span><span class="p">)</span> <span class="nf">SomeThing</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å•ä¾‹å¯¹è±¡çš„æŸæ–¹æ³•&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="o">:=</span> <span class="nf">GetInstance</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span><span class="p">.</span><span class="nf">SomeThing</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç®€å•å·¥å‚æ¨¡å¼" class="headerLink">
    <a href="#%e7%ae%80%e5%8d%95%e5%b7%a5%e5%8e%82%e6%a8%a1%e5%bc%8f" class="header-mark"></a>ç®€å•å·¥å‚æ¨¡å¼</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">func NewFruit(name string) *Fruit {
</span></span><span class="line"><span class="cl">	fruit := new(Fruit)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	if name == &#34;apple&#34; {
</span></span><span class="line"><span class="cl">		//åˆ›å»ºappleé€»è¾‘
</span></span><span class="line"><span class="cl">	} else if name == &#34;banana&#34; {
</span></span><span class="line"><span class="cl">		//åˆ›å»ºbananaé€»è¾‘
</span></span><span class="line"><span class="cl">	} else if name == &#34;pear&#34; {
</span></span><span class="line"><span class="cl">		//åˆ›å»ºpearé€»è¾‘
</span></span><span class="line"><span class="cl">	}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	return fruit
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœæ²¡æœ‰å·¥å‚ï¼Œå°†å¯¹è±¡çš„åˆå§‹åŒ–ä»£ç éƒ½é›†ä¸­åœ¨ä¸€ä¸ªç±»ä¸­å®ç°ï¼Œè¿åäº†<strong>å•ä¸€èŒè´£åŸåˆ™</strong>ï¼Œä¸åˆ©äºç±»çš„é‡ç”¨å’Œç»´æŠ¤ã€‚å½“éœ€è¦åŠ å…¥æ–°çš„å¯¹è±¡æ—¶ï¼Œå¿…é¡»ä¿®æ”¹åŸºç¡€ç±»çš„ New æ„é€ å‡½æ•°å’Œå…¶ä»–ç›¸å…³çš„æºä»£ç ï¼Œè¿åäº†<strong>å¼€é—­åŸåˆ™</strong>ã€‚</p>
<p>ç®€å•å·¥å‚æ¨¡å¼åœ¨ä¸­é—´åŠ äº†ä¸€ä¸ªå·¥å‚æ¨¡å—ï¼Œè§£å†³äº†ä¸šåŠ¡é€»è¾‘ä¸åŸºç¡€ç±»çš„å¼ºè€¦åˆã€‚ç®€å•å·¥å‚æ¨¡å¼åˆå«é™æ€æ–¹æ³•æ¨¡å¼ï¼Œå› ä¸ºå·¥å‚ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ã€‚ç®€å•å·¥å‚è®©ä½¿ç”¨è€…ä¸ç”¨çŸ¥é“å…·ä½“çš„å‚æ•°å°±å¯ä»¥åˆ›å»ºå‡ºæ‰€éœ€çš„â€œäº§å“â€ç±»ï¼Œå³ä½¿ç”¨è€…å¯ä»¥ç›´æ¥æ¶ˆè´¹äº§å“è€Œä¸éœ€è¦çŸ¥é“äº§å“çš„å…·ä½“ç”Ÿäº§ç»†èŠ‚ã€‚</p>
<div class="mermaid" id="id-1"></div><p>ç”±ğŸ‘‡ä»£ç å¯çŸ¥ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼è™½ç„¶è§£å†³äº†å¯¹è±¡åˆ›å»ºå’Œä½¿ç”¨çš„åˆ†ç¦»ï¼Œä½†æ˜¯åŒæ ·è¿å<strong>å¼€é—­åŸåˆ™</strong>ï¼Œå› ä¸ºæ·»åŠ æ–°äº§å“éœ€è¦ä¿®æ”¹å·¥å‚é€»è¾‘ï¼Œè€Œä¸”å·¥å‚ä¼šè¶Šæ¥è¶Šå¤æ‚ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ======= æŠ½è±¡å±‚ =========
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//æ°´æœç±»(æŠ½è±¡æ¥å£)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Fruit</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">Show</span><span class="p">()</span> <span class="c1">//æ¥å£çš„æŸæ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ======= åŸºç¡€ç±»æ¨¡å— =========
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Apple</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Fruit</span> <span class="c1">//ä¸ºäº†æ˜“äºç†è§£æ˜¾ç¤ºç»§æ‰¿(æ­¤è¡Œå¯ä»¥çœç•¥)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">apple</span> <span class="o">*</span><span class="nx">Apple</span><span class="p">)</span> <span class="nf">Show</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æˆ‘æ˜¯è‹¹æœ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Banana</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">banana</span> <span class="o">*</span><span class="nx">Banana</span><span class="p">)</span> <span class="nf">Show</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æˆ‘æ˜¯é¦™è•‰&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Pear</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">pear</span> <span class="o">*</span><span class="nx">Pear</span><span class="p">)</span> <span class="nf">Show</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æˆ‘æ˜¯æ¢¨&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ========= å·¥å‚æ¨¡å—  =========
</span></span></span><span class="line"><span class="cl"><span class="c1">//ä¸€ä¸ªå·¥å‚ï¼Œ æœ‰ä¸€ä¸ªç”Ÿäº§æ°´æœçš„æœºå™¨ï¼Œè¿”å›ä¸€ä¸ªæŠ½è±¡æ°´æœçš„æŒ‡é’ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Factory</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">fac</span> <span class="o">*</span><span class="nx">Factory</span><span class="p">)</span> <span class="nf">CreateFruit</span><span class="p">(</span><span class="nx">kind</span> <span class="kt">string</span><span class="p">)</span> <span class="nx">Fruit</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">fruit</span> <span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">kind</span> <span class="o">==</span> <span class="s">&#34;apple&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fruit</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Apple</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="nx">kind</span> <span class="o">==</span> <span class="s">&#34;banana&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fruit</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Banana</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="nx">kind</span> <span class="o">==</span> <span class="s">&#34;pear&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fruit</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Pear</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">fruit</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========ä¸šåŠ¡é€»è¾‘å±‚==============
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">factory</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Factory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">apple</span> <span class="o">:=</span> <span class="nx">factory</span><span class="p">.</span><span class="nf">CreateFruit</span><span class="p">(</span><span class="s">&#34;apple&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">apple</span><span class="p">.</span><span class="nf">Show</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">banana</span> <span class="o">:=</span> <span class="nx">factory</span><span class="p">.</span><span class="nf">CreateFruit</span><span class="p">(</span><span class="s">&#34;banana&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">banana</span><span class="p">.</span><span class="nf">Show</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">pear</span> <span class="o">:=</span> <span class="nx">factory</span><span class="p">.</span><span class="nf">CreateFruit</span><span class="p">(</span><span class="s">&#34;pear&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">pear</span><span class="p">.</span><span class="nf">Show</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å·¥å‚æ–¹æ³•æ¨¡å¼" class="headerLink">
    <a href="#%e5%b7%a5%e5%8e%82%e6%96%b9%e6%b3%95%e6%a8%a1%e5%bc%8f" class="header-mark"></a>å·¥å‚æ–¹æ³•æ¨¡å¼</h3><p>ç®€å•å·¥å‚æ¨¡å¼ + å¼€é—­åŸåˆ™ = <strong><ruby>å·¥å‚æ–¹æ³•æ¨¡å¼<rt>Factory Method Pattern</rt></ruby></strong></p>
<p>åœ¨å·¥å‚æ–¹æ³•æ¨¡å¼ä¸­ï¼Œå·¥å‚çˆ¶ç±»è´Ÿè´£å®šä¹‰åˆ›å»ºäº§å“å¯¹è±¡çš„å…¬å…±æ¥å£ï¼Œè€Œå·¥å‚å­ç±»åˆ™è´Ÿè´£ç”Ÿæˆå…·ä½“çš„äº§å“å¯¹è±¡ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯<strong>å°†äº§å“ç±»çš„å®ä¾‹åŒ–æ“ä½œå»¶è¿Ÿåˆ°å·¥å‚å­ç±»ä¸­å®Œæˆ</strong>ï¼Œå³é€šè¿‡å·¥å‚å­ç±»æ¥ç¡®å®šç©¶ç«Ÿåº”è¯¥å®ä¾‹åŒ–å“ªä¸€ä¸ªå…·ä½“äº§å“ç±»ã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/bef83a26b8774238a257470832b08882.png" title="å·¥å‚æ–¹æ³•æ¨¡å¼" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/bef83a26b8774238a257470832b08882.png" data-sub-html="<h2>å·¥å‚æ–¹æ³•æ¨¡å¼</h2><p>å·¥å‚æ–¹æ³•æ¨¡å¼</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/bef83a26b8774238a257470832b08882.png"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/bef83a26b8774238a257470832b08882.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/bef83a26b8774238a257470832b08882.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/bef83a26b8774238a257470832b08882.png 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/bef83a26b8774238a257470832b08882.png">
    </a><figcaption class="image-caption">å·¥å‚æ–¹æ³•æ¨¡å¼</figcaption>
    </figure></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ======= æŠ½è±¡å±‚ =========
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//æ°´æœç±»(æŠ½è±¡æ¥å£)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Fruit</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">Show</span><span class="p">()</span> <span class="c1">//æ¥å£çš„æŸæ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å·¥å‚ç±»(æŠ½è±¡æ¥å£)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">AbstractFactory</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">CreateFruit</span><span class="p">()</span> <span class="nx">Fruit</span> <span class="c1">//ç”Ÿäº§æ°´æœç±»(æŠ½è±¡)çš„ç”Ÿäº§å™¨æ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ======= åŸºç¡€ç±»æ¨¡å— =========
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Apple</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Fruit</span> <span class="c1">//ä¸ºäº†æ˜“äºç†è§£æ˜¾ç¤ºç»§æ‰¿(æ­¤è¡Œå¯ä»¥çœç•¥)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">apple</span> <span class="o">*</span><span class="nx">Apple</span><span class="p">)</span> <span class="nf">Show</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æˆ‘æ˜¯è‹¹æœ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Banana</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">banana</span> <span class="o">*</span><span class="nx">Banana</span><span class="p">)</span> <span class="nf">Show</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æˆ‘æ˜¯é¦™è•‰&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Pear</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">pear</span> <span class="o">*</span><span class="nx">Pear</span><span class="p">)</span> <span class="nf">Show</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æˆ‘æ˜¯æ¢¨&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ========= å·¥å‚æ¨¡å—  =========
</span></span></span><span class="line"><span class="cl"><span class="c1">//å…·ä½“çš„è‹¹æœå·¥å‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">AppleFactory</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">fac</span> <span class="o">*</span><span class="nx">AppleFactory</span><span class="p">)</span> <span class="nf">CreateFruit</span><span class="p">()</span> <span class="nx">Fruit</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">fruit</span> <span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//ç”Ÿäº§ä¸€ä¸ªå…·ä½“çš„è‹¹æœ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fruit</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Apple</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">fruit</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å…·ä½“çš„é¦™è•‰å·¥å‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">BananaFactory</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">fac</span> <span class="o">*</span><span class="nx">BananaFactory</span><span class="p">)</span> <span class="nf">CreateFruit</span><span class="p">()</span> <span class="nx">Fruit</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">fruit</span> <span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//ç”Ÿäº§ä¸€ä¸ªå…·ä½“çš„é¦™è•‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fruit</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Banana</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">fruit</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å…·ä½“çš„æ¢¨å·¥å‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">PearFactory</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">fac</span> <span class="o">*</span><span class="nx">PearFactory</span><span class="p">)</span> <span class="nf">CreateFruit</span><span class="p">()</span> <span class="nx">Fruit</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">fruit</span> <span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//ç”Ÿäº§ä¸€ä¸ªå…·ä½“çš„æ¢¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fruit</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Pear</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">fruit</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//======= ä¸šåŠ¡é€»è¾‘å±‚ =======
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">		ä¸ºäº†çªå‡ºæ ¹æ®ä¾èµ–å€’è½¬åŸåˆ™ä¸é¢å‘æ¥å£ç¼–ç¨‹ç‰¹æ€§ã€‚
</span></span></span><span class="line"><span class="cl"><span class="cm">		ä¸€äº›å˜é‡çš„å®šä¹‰å°†ä½¿ç”¨æ˜¾ç¤ºç±»å‹å£°æ˜æ–¹å¼
</span></span></span><span class="line"><span class="cl"><span class="cm">	*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//éœ€æ±‚1ï¼šéœ€è¦ä¸€ä¸ªå…·ä½“çš„è‹¹æœå¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//1-å…ˆè¦ä¸€ä¸ªå…·ä½“çš„è‹¹æœå·¥å‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">appleFac</span> <span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl">	<span class="nx">appleFac</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">AppleFactory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//2-ç”Ÿäº§ç›¸å¯¹åº”çš„å…·ä½“æ°´æœ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">apple</span> <span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl">	<span class="nx">apple</span> <span class="p">=</span> <span class="nx">appleFac</span><span class="p">.</span><span class="nf">CreateFruit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">apple</span><span class="p">.</span><span class="nf">Show</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//éœ€æ±‚2ï¼šéœ€è¦ä¸€ä¸ªå…·ä½“çš„é¦™è•‰å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//1-å…ˆè¦ä¸€ä¸ªå…·ä½“çš„é¦™è•‰å·¥å‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">bananaFac</span> <span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl">	<span class="nx">bananaFac</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">BananaFactory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//2-ç”Ÿäº§ç›¸å¯¹åº”çš„å…·ä½“æ°´æœ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">banana</span> <span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl">	<span class="nx">banana</span> <span class="p">=</span> <span class="nx">bananaFac</span><span class="p">.</span><span class="nf">CreateFruit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">banana</span><span class="p">.</span><span class="nf">Show</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//éœ€æ±‚3ï¼šéœ€è¦ä¸€ä¸ªå…·ä½“çš„æ¢¨å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//1-å…ˆè¦ä¸€ä¸ªå…·ä½“çš„æ¢¨å·¥å‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">pearFac</span> <span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl">	<span class="nx">pearFac</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">PearFactory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//2-ç”Ÿäº§ç›¸å¯¹åº”çš„å…·ä½“æ°´æœ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">pear</span> <span class="nx">Fruit</span>
</span></span><span class="line"><span class="cl">	<span class="nx">pear</span> <span class="p">=</span> <span class="nx">pearFac</span><span class="p">.</span><span class="nf">CreateFruit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">pear</span><span class="p">.</span><span class="nf">Show</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æŠ½è±¡å·¥å‚æ–¹æ³•æ¨¡å¼" class="headerLink">
    <a href="#%e6%8a%bd%e8%b1%a1%e5%b7%a5%e5%8e%82%e6%96%b9%e6%b3%95%e6%a8%a1%e5%bc%8f" class="header-mark"></a>æŠ½è±¡å·¥å‚æ–¹æ³•æ¨¡å¼</h3><p><strong><ruby>æŠ½è±¡å·¥å‚æ¨¡<rt>Abstract Factory Pattern</rt></ruby></strong>ï¼Œæä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— é¡»æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚</p>
<p>å·¥å‚æ–¹æ³•æ¨¡å¼é€šè¿‡å¼•å…¥å·¥å‚ç»“æ„ï¼Œè§£å†³äº†ç®€å•å·¥å‚æ¨¡å¼ä¸­å·¥å‚ç±»èŒè´£å¤ªé‡çš„é—®é¢˜ï¼Œä½†ç”±äºå·¥å‚æ–¹æ³•æ¨¡å¼ä¸­çš„æ¯ä¸ªå·¥å‚åªç”Ÿäº§ä¸€ç±»äº§å“ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿä¸­å­˜åœ¨å¤§é‡çš„å·¥å‚ç±»ï¼ŒåŠ¿å¿…ä¼šå¢åŠ ç³»ç»Ÿçš„å¼€é”€ã€‚å› æ­¤ï¼Œå¯ä»¥è€ƒè™‘å°†ä¸€äº›ç›¸å…³çš„äº§å“ç»„æˆä¸€ä¸ªâ€œäº§å“æ—â€ï¼Œç”±åŒä¸€ä¸ªå·¥å‚æ¥ç»Ÿä¸€ç”Ÿäº§ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªå·¥å‚å¯ä»¥æä¾›å¤šä¸ªäº§å“å¯¹è±¡ï¼Œè€Œä¸æ˜¯å•ä¸€çš„äº§å“å¯¹è±¡ã€‚</p>
<p>å…·ä½“å¯ä»¥å‚çœ‹ <a href="https://www.yuque.com/aceld/lfhu8y/hv3rqf" target="_blank" rel="noopener noreferrer">æŠ½è±¡å·¥å‚æ–¹æ³•æ¨¡å¼</a></p>
<blockquote>
<p>è®¾è®¡ä¸€ä¸ªç”µè„‘ä¸»æ¿æ¶æ„ï¼Œç”µè„‘åŒ…æ‹¬ï¼šæ˜¾å¡ï¼Œå†…å­˜ï¼ŒCPU 3 ä¸ªå›ºå®šçš„æ’å£ï¼Œæ˜¾å¡å…·æœ‰æ˜¾ç¤ºåŠŸèƒ½<code>display</code>ï¼ˆåŠŸèƒ½å®ç°åªè¦æ‰“å°å‡ºæ„ä¹‰å³å¯ï¼‰ï¼Œå†…å­˜å…·æœ‰å­˜å‚¨åŠŸèƒ½<code>storage</code>ï¼Œcpu å…·æœ‰è®¡ç®—åŠŸèƒ½<code>calculate</code>ã€‚</p>
<p>ç°æœ‰ Intel å‚å•†ï¼Œnvidia å‚å•†ï¼ŒKingston å‚å•†ï¼Œå‡ä¼šç”Ÿäº§ä»¥ä¸Šä¸‰ç§ç¡¬ä»¶ã€‚</p>
<p>è¦æ±‚ç»„è£…ä¸¤å°ç”µè„‘ï¼Œ
1å°ï¼ˆIntelçš„CPUï¼ŒIntelçš„æ˜¾å¡ï¼ŒIntelçš„å†…å­˜ï¼‰</p>
<p>1å°ï¼ˆIntelçš„CPUï¼Œ nvidiaçš„æ˜¾å¡ï¼ŒKingstonçš„å†…å­˜ï¼‰</p>
<p>ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼å®ç°ã€‚</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">è®¾è®¡ä¸€ä¸ªç”µè„‘ä¸»æ¿æ¶æ„ï¼Œç”µè„‘åŒ…æ‹¬ï¼ˆæ˜¾å¡ï¼Œå†…å­˜ï¼ŒCPUï¼‰3ä¸ªå›ºå®šçš„æ’å£ï¼Œæ˜¾å¡å…·æœ‰æ˜¾ç¤ºåŠŸèƒ½ï¼ˆdisplayï¼ŒåŠŸèƒ½å®ç°åªè¦æ‰“å°å‡ºæ„ä¹‰å³å¯ï¼‰ï¼Œ
</span></span></span><span class="line"><span class="cl"><span class="cm">å†…å­˜å…·æœ‰å­˜å‚¨åŠŸèƒ½ï¼ˆstorageï¼‰ï¼Œcpu å…·æœ‰è®¡ç®—åŠŸèƒ½ï¼ˆcalculateï¼‰ã€‚
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">ç°æœ‰ Intel å‚å•†ï¼Œnvidia å‚å•†ï¼ŒKingston å‚å•†ï¼Œå‡ä¼šç”Ÿäº§ä»¥ä¸Šä¸‰ç§ç¡¬ä»¶ã€‚
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">è¦æ±‚ç»„è£…ä¸¤å°ç”µè„‘ï¼Œ 1å°ï¼ˆIntelçš„CPUï¼ŒIntelçš„æ˜¾å¡ï¼ŒIntelçš„å†…å­˜ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">1å°ï¼ˆIntelçš„CPUï¼Œ nvidiaçš„æ˜¾å¡ï¼ŒKingstonçš„å†…å­˜ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼å®ç°ã€‚
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">AbstractGPU</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">Display</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">AbstractMemory</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">Storage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">AbstractCPU</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">Calculate</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">AbstractFactory</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">CreateGPU</span><span class="p">()</span> <span class="nx">AbstractGPU</span>
</span></span><span class="line"><span class="cl">	<span class="nf">CreateMemory</span><span class="p">()</span> <span class="nx">AbstractMemory</span>
</span></span><span class="line"><span class="cl">	<span class="nf">CreateCPU</span><span class="p">()</span> <span class="nx">AbstractCPU</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Intel -----------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">IntelGPU</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">IntelMemory</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">IntelCPU</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">IntelGPU</span><span class="p">)</span> <span class="nf">Display</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Intel æ˜¾å¡&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">IntelMemory</span><span class="p">)</span> <span class="nf">Storage</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Intel å†…å­˜&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">IntelCPU</span><span class="p">)</span> <span class="nf">Calculate</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Intel å¤„ç†å™¨&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">IntelFactory</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">IntelFactory</span><span class="p">)</span> <span class="nf">CreateGPU</span><span class="p">()</span> <span class="nx">AbstractGPU</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nb">new</span><span class="p">(</span><span class="nx">IntelGPU</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">IntelFactory</span><span class="p">)</span> <span class="nf">CreateMemory</span><span class="p">()</span> <span class="nx">AbstractMemory</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nb">new</span><span class="p">(</span><span class="nx">IntelMemory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">IntelFactory</span><span class="p">)</span> <span class="nf">CreateCPU</span><span class="p">()</span> <span class="nx">AbstractCPU</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nb">new</span><span class="p">(</span><span class="nx">IntelCPU</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//  Nvidia -------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">NvidiaGPU</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">NvidiaMemory</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">NvidiaCPU</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">NvidiaGPU</span><span class="p">)</span> <span class="nf">Display</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Nvidia æ˜¾å¡&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">NvidiaMemory</span><span class="p">)</span> <span class="nf">Storage</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Nvidia å†…å­˜&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">NvidiaCPU</span><span class="p">)</span> <span class="nf">Calculate</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Nvidia å¤„ç†å™¨&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">NvidiaFactory</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">NvidiaFactory</span><span class="p">)</span> <span class="nf">CreateGPU</span><span class="p">()</span> <span class="nx">AbstractGPU</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nb">new</span><span class="p">(</span><span class="nx">NvidiaGPU</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">NvidiaFactory</span><span class="p">)</span> <span class="nf">CreateMemory</span><span class="p">()</span> <span class="nx">AbstractMemory</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nb">new</span><span class="p">(</span><span class="nx">NvidiaMemory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">NvidiaFactory</span><span class="p">)</span> <span class="nf">CreateCPU</span><span class="p">()</span> <span class="nx">AbstractCPU</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nb">new</span><span class="p">(</span><span class="nx">NvidiaCPU</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//  Kingston ----------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">KingstonGPU</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">KingstonMemory</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">KingstonCPU</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">KingstonGPU</span><span class="p">)</span> <span class="nf">Display</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Kingston æ˜¾å¡&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">KingstonMemory</span><span class="p">)</span> <span class="nf">Storage</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Kingston å†…å­˜&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">KingstonCPU</span><span class="p">)</span> <span class="nf">Calculate</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Kingston å¤„ç†å™¨&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">KingstonFactory</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">KingstonFactory</span><span class="p">)</span> <span class="nf">CreateGPU</span><span class="p">()</span> <span class="nx">AbstractGPU</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nb">new</span><span class="p">(</span><span class="nx">KingstonGPU</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">KingstonFactory</span><span class="p">)</span> <span class="nf">CreateMemory</span><span class="p">()</span> <span class="nx">AbstractMemory</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nb">new</span><span class="p">(</span><span class="nx">KingstonMemory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">KingstonFactory</span><span class="p">)</span> <span class="nf">CreateCPU</span><span class="p">()</span> <span class="nx">AbstractCPU</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nb">new</span><span class="p">(</span><span class="nx">KingstonCPU</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">	1å°ï¼ˆIntelçš„CPUï¼ŒIntelçš„æ˜¾å¡ï¼ŒIntelçš„å†…å­˜ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">	1å°ï¼ˆIntelçš„CPUï¼Œ nvidiaçš„æ˜¾å¡ï¼ŒKingstonçš„å†…å­˜ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">	*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">intel</span>    <span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl">		<span class="nx">nvidia</span>   <span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl">		<span class="nx">kingston</span> <span class="nx">AbstractFactory</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">intel</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">IntelFactory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">nvidia</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">NvidiaFactory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">kingston</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">KingstonFactory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">intel</span><span class="p">.</span><span class="nf">CreateCPU</span><span class="p">().</span><span class="nf">Calculate</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">intel</span><span class="p">.</span><span class="nf">CreateGPU</span><span class="p">().</span><span class="nf">Display</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">intel</span><span class="p">.</span><span class="nf">CreateMemory</span><span class="p">().</span><span class="nf">Storage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;---------------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">intel</span><span class="p">.</span><span class="nf">CreateCPU</span><span class="p">().</span><span class="nf">Calculate</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">nvidia</span><span class="p">.</span><span class="nf">CreateGPU</span><span class="p">().</span><span class="nf">Display</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">kingston</span><span class="p">.</span><span class="nf">CreateMemory</span><span class="p">().</span><span class="nf">Storage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ç»“æ„å‹æ¨¡å¼" class="headerLink">
    <a href="#%e7%bb%93%e6%9e%84%e5%9e%8b%e6%a8%a1%e5%bc%8f" class="header-mark"></a>ç»“æ„å‹æ¨¡å¼</h2><h3 id="ä»£ç†æ¨¡å¼" class="headerLink">
    <a href="#%e4%bb%a3%e7%90%86%e6%a8%a1%e5%bc%8f" class="header-mark"></a>ä»£ç†æ¨¡å¼</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/d56dfab0e3df4e6ba4a00d2405d2a614.png" title="ä»£ç†æ¨¡å¼" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/d56dfab0e3df4e6ba4a00d2405d2a614.png" data-sub-html="<h2>ä»£ç†æ¨¡å¼</h2><p>ä»£ç†æ¨¡å¼</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/d56dfab0e3df4e6ba4a00d2405d2a614.png"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/d56dfab0e3df4e6ba4a00d2405d2a614.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/d56dfab0e3df4e6ba4a00d2405d2a614.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/d56dfab0e3df4e6ba4a00d2405d2a614.png 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/d56dfab0e3df4e6ba4a00d2405d2a614.png">
    </a><figcaption class="image-caption">ä»£ç†æ¨¡å¼</figcaption>
    </figure></p>
<p>ä»£ç†æ¨¡å¼åˆå« Proxy æ¨¡å¼ï¼Œå®ƒå¯ä»¥ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç† Proxy ä»¥<strong>æ§åˆ¶</strong>å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚ä»£ç†éœ€è¦å…·æœ‰ä¸è¢«ä»£ç†çš„å¯¹è±¡ç›¸åŒçš„æ¥å£çš„ç±»ï¼Œå®¢æˆ·ç«¯å¿…é¡»é€šè¿‡ä»£ç†ä¸è¢«ä»£ç†çš„ç›®æ ‡ç±»äº¤äº’ï¼Œè€Œ<strong>ä»£ç†ä¸€èˆ¬åœ¨äº¤äº’çš„è¿‡ç¨‹ä¸­ï¼ˆäº¤äº’å‰åï¼‰ï¼Œè¿›è¡ŒæŸäº›ç‰¹åˆ«çš„å¤„ç†</strong>ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Goods</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Kind</span> <span class="kt">string</span> <span class="c1">//å•†å“ç§ç±»
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Fact</span> <span class="kt">bool</span>   <span class="c1">//å•†å“çœŸä¼ª
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// =========== æŠ½è±¡å±‚ ===========
</span></span></span><span class="line"><span class="cl"><span class="c1">//æŠ½è±¡çš„è´­ç‰©ä¸»é¢˜Subject
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Shopping</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">Buy</span><span class="p">(</span><span class="nx">goods</span> <span class="o">*</span><span class="nx">Goods</span><span class="p">)</span> <span class="c1">//æŸä»»åŠ¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// =========== å®ç°å±‚ ===========
</span></span></span><span class="line"><span class="cl"><span class="c1">//å…·ä½“çš„è´­ç‰©ä¸»é¢˜ï¼Œ å®ç°äº†shoppingï¼Œ å»éŸ©å›½è´­ç‰©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">KoreaShopping</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">ks</span> <span class="o">*</span><span class="nx">KoreaShopping</span><span class="p">)</span> <span class="nf">Buy</span><span class="p">(</span><span class="nx">goods</span> <span class="o">*</span><span class="nx">Goods</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å»éŸ©å›½è¿›è¡Œäº†è´­ç‰©, ä¹°äº† &#34;</span><span class="p">,</span> <span class="nx">goods</span><span class="p">.</span><span class="nx">Kind</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å…·ä½“çš„è´­ç‰©ä¸»é¢˜ï¼Œ å®ç°äº†shoppingï¼Œ å»ç¾å›½è´­ç‰©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">AmericanShopping</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">as</span> <span class="o">*</span><span class="nx">AmericanShopping</span><span class="p">)</span> <span class="nf">Buy</span><span class="p">(</span><span class="nx">goods</span> <span class="o">*</span><span class="nx">Goods</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å»ç¾å›½è¿›è¡Œäº†è´­ç‰©, ä¹°äº† &#34;</span><span class="p">,</span> <span class="nx">goods</span><span class="p">.</span><span class="nx">Kind</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å…·ä½“çš„è´­ç‰©ä¸»é¢˜ï¼Œ å®ç°äº†shoppingï¼Œ å»éæ´²è´­ç‰©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">AfricaShopping</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">as</span> <span class="o">*</span><span class="nx">AfricaShopping</span><span class="p">)</span> <span class="nf">Buy</span><span class="p">(</span><span class="nx">goods</span> <span class="o">*</span><span class="nx">Goods</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å»éæ´²è¿›è¡Œäº†è´­ç‰©, ä¹°äº† &#34;</span><span class="p">,</span> <span class="nx">goods</span><span class="p">.</span><span class="nx">Kind</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æµ·å¤–çš„ä»£ç†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">OverseasProxy</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">shopping</span> <span class="nx">Shopping</span> <span class="c1">//ä»£ç†æŸä¸ªä¸»é¢˜ï¼Œè¿™é‡Œæ˜¯æŠ½è±¡ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">op</span> <span class="o">*</span><span class="nx">OverseasProxy</span><span class="p">)</span> <span class="nf">Buy</span><span class="p">(</span><span class="nx">goods</span> <span class="o">*</span><span class="nx">Goods</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// 1. å…ˆéªŒè´§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">op</span><span class="p">.</span><span class="nf">distinguish</span><span class="p">(</span><span class="nx">goods</span><span class="p">)</span> <span class="o">==</span> <span class="kc">true</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//2. è¿›è¡Œè´­ä¹°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">op</span><span class="p">.</span><span class="nx">shopping</span><span class="p">.</span><span class="nf">Buy</span><span class="p">(</span><span class="nx">goods</span><span class="p">)</span> <span class="c1">//è°ƒç”¨åŸè¢«ä»£ç†çš„å…·ä½“ä¸»é¢˜ä»»åŠ¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">//3 æµ·å…³å®‰æ£€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">op</span><span class="p">.</span><span class="nf">check</span><span class="p">(</span><span class="nx">goods</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//åˆ›å»ºä¸€ä¸ªä»£ç†,å¹¶ä¸”é…ç½®å…³è”è¢«ä»£ç†çš„ä¸»é¢˜
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">NewProxy</span><span class="p">(</span><span class="nx">shopping</span> <span class="nx">Shopping</span><span class="p">)</span> <span class="nx">Shopping</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="o">&amp;</span><span class="nx">OverseasProxy</span><span class="p">{</span><span class="nx">shopping</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//éªŒè´§æµç¨‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">op</span> <span class="o">*</span><span class="nx">OverseasProxy</span><span class="p">)</span> <span class="nf">distinguish</span><span class="p">(</span><span class="nx">goods</span> <span class="o">*</span><span class="nx">Goods</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å¯¹ [&#34;</span><span class="p">,</span> <span class="nx">goods</span><span class="p">.</span><span class="nx">Kind</span><span class="p">,</span> <span class="s">&#34;] è¿›è¡Œäº†è¾¨åˆ«çœŸä¼ª.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">goods</span><span class="p">.</span><span class="nx">Fact</span> <span class="o">==</span> <span class="kc">false</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å‘ç°å‡è´§&#34;</span><span class="p">,</span> <span class="nx">goods</span><span class="p">.</span><span class="nx">Kind</span><span class="p">,</span> <span class="s">&#34;, ä¸åº”è¯¥è´­ä¹°ã€‚&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">goods</span><span class="p">.</span><span class="nx">Fact</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å®‰æ£€æµç¨‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">op</span> <span class="o">*</span><span class="nx">OverseasProxy</span><span class="p">)</span> <span class="nf">check</span><span class="p">(</span><span class="nx">goods</span> <span class="o">*</span><span class="nx">Goods</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å¯¹[&#34;</span><span class="p">,</span> <span class="nx">goods</span><span class="p">.</span><span class="nx">Kind</span><span class="p">,</span> <span class="s">&#34;] è¿›è¡Œäº†æµ·å…³æ£€æŸ¥ï¼Œ æˆåŠŸçš„å¸¦å›ç¥–å›½&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">g1</span> <span class="o">:=</span> <span class="nx">Goods</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Kind</span><span class="p">:</span> <span class="s">&#34;éŸ©å›½é¢è†œ&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Fact</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">g2</span> <span class="o">:=</span> <span class="nx">Goods</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Kind</span><span class="p">:</span> <span class="s">&#34;CET4è¯ä¹¦&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Fact</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//å¦‚æœä¸ä½¿ç”¨ä»£ç†æ¥å®Œæˆä»éŸ©å›½è´­ä¹°ä»»åŠ¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">shopping</span> <span class="nx">Shopping</span>
</span></span><span class="line"><span class="cl">	<span class="nx">shopping</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">KoreaShopping</span><span class="p">)</span> <span class="c1">//å…·ä½“çš„è´­ä¹°ä¸»é¢˜
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//1-å…ˆéªŒè´§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">g1</span><span class="p">.</span><span class="nx">Fact</span> <span class="o">==</span> <span class="kc">true</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å¯¹[&#34;</span><span class="p">,</span> <span class="nx">g1</span><span class="p">.</span><span class="nx">Kind</span><span class="p">,</span> <span class="s">&#34;] è¿›è¡Œäº†è¾¨åˆ«çœŸä¼ª.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//2-å»éŸ©å›½è´­ä¹°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">shopping</span><span class="p">.</span><span class="nf">Buy</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">g1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//3-æµ·å…³å®‰æ£€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å¯¹[&#34;</span><span class="p">,</span> <span class="nx">g1</span><span class="p">.</span><span class="nx">Kind</span><span class="p">,</span> <span class="s">&#34;] è¿›è¡Œäº†æµ·å…³æ£€æŸ¥ï¼Œ æˆåŠŸçš„å¸¦å›ç¥–å›½&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;---------------ä»¥ä¸‹æ˜¯ ä½¿ç”¨ ä»£ç†æ¨¡å¼-------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">overseasProxy</span> <span class="nx">Shopping</span>
</span></span><span class="line"><span class="cl">	<span class="nx">overseasProxy</span> <span class="p">=</span> <span class="nf">NewProxy</span><span class="p">(</span><span class="nx">shopping</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">overseasProxy</span><span class="p">.</span><span class="nf">Buy</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">g1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">overseasProxy</span><span class="p">.</span><span class="nf">Buy</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">g2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="è£…é¥°æ¨¡å¼" class="headerLink">
    <a href="#%e8%a3%85%e9%a5%b0%e6%a8%a1%e5%bc%8f" class="header-mark"></a>è£…é¥°æ¨¡å¼</h3><p>åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡å¢åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œå°±å¢åŠ å¯¹è±¡åŠŸèƒ½æ¥è¯´ï¼Œè£…é¥°æ¨¡å¼æ¯”ç”Ÿæˆå­ç±»å®ç°æ›´ä¸ºçµæ´»ã€‚</p>
<p>æ¯”å¦‚<code>I</code>æ¥å£ä¸­æœ‰<code>Create()</code>æ–¹æ³•ï¼Œå½“<code>A</code>å¯¹è±¡å®ç°äº†<code>I</code>æ¥å£å¹¶è°ƒç”¨äº†<code>Create()</code>ï¼Œä½†æ˜¯ç°åœ¨å¢åŠ ï¼Œåœ¨è°ƒç”¨<code>Create()</code>åæ‰“å°ä¸‹æ—¥å¿—çš„åŠŸèƒ½ï¼Œå°±å¯ä»¥ç”¨è£…é¥°å™¨ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">I</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">Create</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">A</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">A</span><span class="p">)</span> <span class="nf">Create</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;A create æ–¹æ³•&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Decorator</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">i</span> <span class="nx">I</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">Decorator</span><span class="p">)</span> <span class="nf">Create</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">d</span><span class="p">.</span><span class="nx">i</span><span class="p">.</span><span class="nf">Create</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// å…¶ä»–çš„äº‹...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;è¿˜èƒ½åšç‚¹å…¶ä»–çš„äº‹,æ¯”å¦‚æ‰“å°æ—¥å¿—...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">a</span> <span class="nx">I</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">A</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span><span class="p">.</span><span class="nf">Create</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;----- åŠ ä¸Šè£…é¥°å™¨ ----------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">d</span> <span class="nx">Decorator</span>
</span></span><span class="line"><span class="cl">	<span class="nx">d</span> <span class="p">=</span> <span class="nx">Decorator</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">i</span><span class="p">:</span> <span class="nx">a</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">d</span><span class="p">.</span><span class="nf">Create</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="é€‚é…å™¨æ¨¡å¼" class="headerLink">
    <a href="#%e9%80%82%e9%85%8d%e5%99%a8%e6%a8%a1%e5%bc%8f" class="header-mark"></a>é€‚é…å™¨æ¨¡å¼</h3><p>å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»èƒ½ä¸€èµ·å·¥ä½œã€‚</p>
<p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/13065a7685984820925871b451ef59fb.png" title="é€‚é…å™¨æ¨¡å¼" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/13065a7685984820925871b451ef59fb.png" data-sub-html="<h2>é€‚é…å™¨æ¨¡å¼</h2><p>é€‚é…å™¨æ¨¡å¼</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/13065a7685984820925871b451ef59fb.png"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/13065a7685984820925871b451ef59fb.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/13065a7685984820925871b451ef59fb.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/13065a7685984820925871b451ef59fb.png 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/13065a7685984820925871b451ef59fb.png">
    </a><figcaption class="image-caption">é€‚é…å™¨æ¨¡å¼</figcaption>
    </figure></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">OldInterface</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">InsertToDatabase</span><span class="p">(</span><span class="nx">Data</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="kt">bool</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">AddCustomInfoToMysql</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">DbName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">pA</span> <span class="o">*</span><span class="nx">AddCustomInfoToMysql</span><span class="p">)</span> <span class="nf">InsertToDatabase</span><span class="p">(</span><span class="nx">info</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="kt">bool</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">switch</span> <span class="nx">info</span><span class="p">.(</span><span class="kd">type</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="kt">string</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;add &#34;</span><span class="p">,</span> <span class="nx">info</span><span class="p">.(</span><span class="kt">string</span><span class="p">),</span> <span class="s">&#34; to &#34;</span><span class="p">,</span> <span class="nx">pA</span><span class="p">.</span><span class="nx">DbName</span><span class="p">,</span> <span class="s">&#34; successful!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">NewInterface</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">SaveData</span><span class="p">(</span><span class="nx">Data</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="kt">bool</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Adapter</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">old</span> <span class="nx">OldInterface</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">pA</span> <span class="o">*</span><span class="nx">Adapter</span><span class="p">)</span> <span class="nf">SaveData</span><span class="p">(</span><span class="nx">Data</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="kt">bool</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;In Adapter&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">pA</span><span class="p">.</span><span class="nx">old</span><span class="p">.</span><span class="nf">InsertToDatabase</span><span class="p">(</span><span class="nx">Data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">iNew</span> <span class="nx">NewInterface</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">iNew</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">Adapter</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">old</span><span class="p">:</span> <span class="o">&amp;</span><span class="nx">AddCustomInfoToMysql</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">DbName</span><span class="p">:</span> <span class="s">&#34;mysql&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">}}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">iNew</span><span class="p">.</span><span class="nf">SaveData</span><span class="p">(</span><span class="s">&#34;helloworld&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å¤–è§‚æ¨¡å¼" class="headerLink">
    <a href="#%e5%a4%96%e8%a7%82%e6%a8%a1%e5%bc%8f" class="header-mark"></a>å¤–è§‚æ¨¡å¼</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/30b158d5348440608ab2113f7cdfd881.png" title="å¤–è§‚æ¨¡å¼" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/30b158d5348440608ab2113f7cdfd881.png" data-sub-html="<h2>å¤–è§‚æ¨¡å¼</h2><p>å¤–è§‚æ¨¡å¼</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/30b158d5348440608ab2113f7cdfd881.png"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/30b158d5348440608ab2113f7cdfd881.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/30b158d5348440608ab2113f7cdfd881.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/30b158d5348440608ab2113f7cdfd881.png 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/30b158d5348440608ab2113f7cdfd881.png">
    </a><figcaption class="image-caption">å¤–è§‚æ¨¡å¼</figcaption>
    </figure></p>
<p><strong><ruby>å¤–è§‚æ¨¡å¼<rt>Facade Pattern</rt></ruby></strong>åˆç§°ä¸º Facade é—¨é¢æ¨¡å¼ã€‚Facade æ¨¡å¼ä¸ºä¸€ç»„å…·æœ‰ç±»ä¼¼åŠŸèƒ½çš„ç±»ç¾¤ï¼Œæ¯”å¦‚ç±»åº“ï¼Œå­ç³»ç»Ÿç­‰ï¼Œæä¾›ä¸€ä¸ªä¸€è‡´çš„ç®€å•çš„ç•Œé¢ï¼Œè¿™ä¸ªä¸€è‡´çš„ç®€å•çš„ç•Œé¢è¢«ç§°ä½œ facadeã€‚</p>
<p>å¤–è§‚æ¨¡å¼å¯¹å®¢æˆ·ç«¯å±è”½äº†å­ç³»ç»Ÿç»„ä»¶ï¼Œå‡å°‘äº†å®¢æˆ·ç«¯æ‰€éœ€å¤„ç†çš„å¯¹è±¡æ•°ç›®ï¼Œå¹¶ä½¿å¾—å­ç³»ç»Ÿä½¿ç”¨èµ·æ¥æ›´åŠ å®¹æ˜“ã€‚é€šè¿‡å¼•å…¥å¤–è§‚æ¨¡å¼ï¼Œå®¢æˆ·ç«¯ä»£ç å°†å˜å¾—å¾ˆç®€å•ï¼Œä¸ä¹‹å…³è”çš„å¯¹è±¡ä¹Ÿå¾ˆå°‘ã€‚</p>
<p>å¤–è§‚æ¨¡å¼å®ç°äº†å­ç³»ç»Ÿä¸å®¢æˆ·ç«¯ä¹‹é—´çš„æ¾è€¦åˆå…³ç³»ï¼Œè¿™ä½¿å¾—å­ç³»ç»Ÿçš„å˜åŒ–ä¸ä¼šå½±å“åˆ°è°ƒç”¨å®ƒçš„å®¢æˆ·ç«¯ï¼Œåªéœ€è¦è°ƒæ•´å¤–è§‚ç±»å³å¯ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ç”µè§†æœº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">TV</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">TV</span><span class="p">)</span> <span class="nf">On</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ‰“å¼€ ç”µè§†æœº&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">TV</span><span class="p">)</span> <span class="nf">Off</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å…³é—­ ç”µè§†æœº&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ç”µè§†æœº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">VoiceBox</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">v</span> <span class="o">*</span><span class="nx">VoiceBox</span><span class="p">)</span> <span class="nf">On</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ‰“å¼€ éŸ³ç®±&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">v</span> <span class="o">*</span><span class="nx">VoiceBox</span><span class="p">)</span> <span class="nf">Off</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å…³é—­ éŸ³ç®±&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ç¯å…‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Light</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="o">*</span><span class="nx">Light</span><span class="p">)</span> <span class="nf">On</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ‰“å¼€ ç¯å…‰&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="o">*</span><span class="nx">Light</span><span class="p">)</span> <span class="nf">Off</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å…³é—­ ç¯å…‰&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æ¸¸æˆæœº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Xbox</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">x</span> <span class="o">*</span><span class="nx">Xbox</span><span class="p">)</span> <span class="nf">On</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ‰“å¼€ æ¸¸æˆæœº&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">x</span> <span class="o">*</span><span class="nx">Xbox</span><span class="p">)</span> <span class="nf">Off</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å…³é—­ æ¸¸æˆæœº&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//éº¦å…‹é£
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">MicroPhone</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">MicroPhone</span><span class="p">)</span> <span class="nf">On</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ‰“å¼€ éº¦å…‹é£&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">MicroPhone</span><span class="p">)</span> <span class="nf">Off</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å…³é—­ éº¦å…‹é£&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æŠ•å½±ä»ª
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Projector</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <span class="o">*</span><span class="nx">Projector</span><span class="p">)</span> <span class="nf">On</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ‰“å¼€ æŠ•å½±ä»ª&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <span class="o">*</span><span class="nx">Projector</span><span class="p">)</span> <span class="nf">Off</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å…³é—­ æŠ•å½±ä»ª&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å®¶åº­å½±é™¢(å¤–è§‚)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">HomePlayerFacade</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">tv</span>    <span class="nx">TV</span>
</span></span><span class="line"><span class="cl">	<span class="nx">vb</span>    <span class="nx">VoiceBox</span>
</span></span><span class="line"><span class="cl">	<span class="nx">light</span> <span class="nx">Light</span>
</span></span><span class="line"><span class="cl">	<span class="nx">xbox</span>  <span class="nx">Xbox</span>
</span></span><span class="line"><span class="cl">	<span class="nx">mp</span>    <span class="nx">MicroPhone</span>
</span></span><span class="line"><span class="cl">	<span class="nx">pro</span>   <span class="nx">Projector</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//KTVæ¨¡å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">hp</span> <span class="o">*</span><span class="nx">HomePlayerFacade</span><span class="p">)</span> <span class="nf">DoKTV</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å®¶åº­å½±é™¢è¿›å…¥KTVæ¨¡å¼&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hp</span><span class="p">.</span><span class="nx">tv</span><span class="p">.</span><span class="nf">On</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hp</span><span class="p">.</span><span class="nx">pro</span><span class="p">.</span><span class="nf">On</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hp</span><span class="p">.</span><span class="nx">mp</span><span class="p">.</span><span class="nf">On</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hp</span><span class="p">.</span><span class="nx">light</span><span class="p">.</span><span class="nf">Off</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hp</span><span class="p">.</span><span class="nx">vb</span><span class="p">.</span><span class="nf">On</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æ¸¸æˆæ¨¡å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">hp</span> <span class="o">*</span><span class="nx">HomePlayerFacade</span><span class="p">)</span> <span class="nf">DoGame</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å®¶åº­å½±é™¢è¿›å…¥Gameæ¨¡å¼&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hp</span><span class="p">.</span><span class="nx">tv</span><span class="p">.</span><span class="nf">On</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hp</span><span class="p">.</span><span class="nx">light</span><span class="p">.</span><span class="nf">On</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hp</span><span class="p">.</span><span class="nx">xbox</span><span class="p">.</span><span class="nf">On</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">homePlayer</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">HomePlayerFacade</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">homePlayer</span><span class="p">.</span><span class="nf">DoKTV</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;------------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">homePlayer</span><span class="p">.</span><span class="nf">DoGame</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è¡Œä¸ºå‹æ¨¡å¼" class="headerLink">
    <a href="#%e8%a1%8c%e4%b8%ba%e5%9e%8b%e6%a8%a1%e5%bc%8f" class="header-mark"></a>è¡Œä¸ºå‹æ¨¡å¼</h2><h3 id="å‘½ä»¤æ¨¡å¼" class="headerLink">
    <a href="#%e5%91%bd%e4%bb%a4%e6%a8%a1%e5%bc%8f" class="header-mark"></a>å‘½ä»¤æ¨¡å¼</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/665ace353b0342e389a0731982b30a13.png" title="å‘½ä»¤æ¨¡å¼" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/665ace353b0342e389a0731982b30a13.png" data-sub-html="<h2>å‘½ä»¤æ¨¡å¼</h2><p>å‘½ä»¤æ¨¡å¼</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/665ace353b0342e389a0731982b30a13.png"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/665ace353b0342e389a0731982b30a13.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/665ace353b0342e389a0731982b30a13.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/665ace353b0342e389a0731982b30a13.png 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/665ace353b0342e389a0731982b30a13.png">
    </a><figcaption class="image-caption">å‘½ä»¤æ¨¡å¼</figcaption>
    </figure></p>
<p>å‘½ä»¤æ¨¡å¼å¯ä»¥å°†è¯·æ±‚å‘é€è€…å’Œæ¥æ”¶è€…å®Œå…¨è§£è€¦ï¼Œå‘é€è€…ä¸æ¥æ”¶è€…ä¹‹é—´æ²¡æœ‰ç›´æ¥å¼•ç”¨å…³ç³»ï¼Œå‘é€è¯·æ±‚çš„å¯¹è±¡åªéœ€è¦çŸ¥é“å¦‚ä½•å‘é€è¯·æ±‚ï¼Œè€Œä¸å¿…çŸ¥é“å¦‚ä½•å®Œæˆè¯·æ±‚ã€‚å‘½ä»¤æ¨¡å¼å¯ä»¥è¿›è¡Œå­˜å‚¨ï¼Œå»¶åæ‰§è¡Œã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Command</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">Execute</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">MoveCommand</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="kt">int64</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">MoveCommand</span><span class="p">)</span> <span class="nf">Execute</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;å‘å³ç§»åŠ¨%dï¼Œå‘ä¸Šç§»åŠ¨%d \n&#34;</span><span class="p">,</span> <span class="nx">m</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">m</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">AttackCommand</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">skill</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">a</span> <span class="o">*</span><span class="nx">AttackCommand</span><span class="p">)</span> <span class="nf">Execute</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;ä½¿ç”¨æŠ€èƒ½%s\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">.</span><span class="nx">skill</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">AddCommand</span><span class="p">(</span><span class="nx">action</span> <span class="kt">string</span><span class="p">)</span> <span class="nx">Command</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">action</span> <span class="o">==</span> <span class="s">&#34;attack&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="o">&amp;</span><span class="nx">AttackCommand</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">skill</span><span class="p">:</span> <span class="s">&#34;é‡è›®å†²æ’&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">//é»˜è®¤æ˜¯ç§»åŠ¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">return</span> <span class="o">&amp;</span><span class="nx">MoveCommand</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">x</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">y</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//å°†å‘½ä»¤è®°å½•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">lc</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="nx">Command</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">lc</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">lc</span><span class="p">,</span> <span class="nf">AddCommand</span><span class="p">(</span><span class="s">&#34;attack&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">lc</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">lc</span><span class="p">,</span> <span class="nf">AddCommand</span><span class="p">(</span><span class="s">&#34;move&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">lc</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">lc</span><span class="p">,</span> <span class="nf">AddCommand</span><span class="p">(</span><span class="s">&#34;move&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">lc</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">lc</span><span class="p">,</span> <span class="nf">AddCommand</span><span class="p">(</span><span class="s">&#34;attack&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//æ‰§è¡Œå‘½ä»¤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">c</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">lc</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">Execute</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="è§‚å¯Ÿè€…æ¨¡å¼" class="headerLink">
    <a href="#%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8f" class="header-mark"></a>è§‚å¯Ÿè€…æ¨¡å¼</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221116/dd1bb9e2a0b5493384d105cdf70edef7.png" title="è§‚å¯Ÿè€…æ¨¡å¼" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221116/dd1bb9e2a0b5493384d105cdf70edef7.png" data-sub-html="<h2>è§‚å¯Ÿè€…æ¨¡å¼</h2><p>è§‚å¯Ÿè€…æ¨¡å¼</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221116/dd1bb9e2a0b5493384d105cdf70edef7.png"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221116/dd1bb9e2a0b5493384d105cdf70edef7.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221116/dd1bb9e2a0b5493384d105cdf70edef7.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221116/dd1bb9e2a0b5493384d105cdf70edef7.png 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221116/dd1bb9e2a0b5493384d105cdf70edef7.png">
    </a><figcaption class="image-caption">è§‚å¯Ÿè€…æ¨¡å¼</figcaption>
    </figure></p>
<p>è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œè®©å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡åŒæ—¶ç›‘å¬æŸä¸€ä¸ªä¸»é¢˜å¯¹è±¡ï¼Œè¿™ä¸ªä¸»é¢˜å¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶å°±ä¼šé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿å¾—å®ƒä»¬èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°è‡ªå·±ã€‚</p>
<p>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ç”¨äºå»ºç«‹ä¸€ç§å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶å°†è‡ªåŠ¨é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œå…¶ä»–å¯¹è±¡å°†ç›¸åº”ä½œå‡ºååº”ã€‚åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œå‘ç”Ÿæ”¹å˜çš„å¯¹è±¡ç§°ä¸ºè§‚å¯Ÿç›®æ ‡ï¼Œè€Œè¢«é€šçŸ¥çš„å¯¹è±¡ç§°ä¸ºè§‚å¯Ÿè€…ï¼Œä¸€ä¸ªè§‚å¯Ÿç›®æ ‡å¯ä»¥å¯¹åº”å¤šä¸ªè§‚å¯Ÿè€…ï¼Œè€Œä¸”è¿™äº›è§‚å¯Ÿè€…ä¹‹é—´å¯ä»¥æ²¡æœ‰ä»»ä½•ç›¸äº’è”ç³»ï¼Œå¯ä»¥æ ¹æ®éœ€è¦å¢åŠ å’Œåˆ é™¤è§‚å¯Ÿè€…ï¼Œä½¿å¾—ç³»ç»Ÿæ›´æ˜“äºæ‰©å±•ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//--------- æŠ½è±¡å±‚ --------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// Observer è§‚å¯Ÿè€…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Observer</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">OnTeacherComming</span><span class="p">()</span> <span class="c1">// è§‚å¯Ÿè€…å¾—åˆ°é€šçŸ¥åè¦è§¦å‘çš„åŠ¨ä½œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// è¢«è§‚å¯Ÿè€…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Notifier</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">AddObserver</span><span class="p">(</span><span class="nx">observer</span> <span class="nx">Observer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">RemoveObserver</span><span class="p">(</span><span class="nx">observer</span> <span class="nx">Observer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">Notify</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//--------- å®ç°å±‚ --------
</span></span></span><span class="line"><span class="cl"><span class="c1">//è§‚å¯Ÿè€…å­¦ç”Ÿ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">StuZhang3</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Badthing</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">StuZhang3</span><span class="p">)</span> <span class="nf">OnTeacherComming</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å¼ 3 åœæ­¢ &#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">Badthing</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">StuZhang3</span><span class="p">)</span> <span class="nf">DoBadthing</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å¼ 3 æ­£åœ¨&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">Badthing</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">StuZhao4</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Badthing</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">StuZhao4</span><span class="p">)</span> <span class="nf">OnTeacherComming</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;èµµ4 åœæ­¢ &#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">Badthing</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">StuZhao4</span><span class="p">)</span> <span class="nf">DoBadthing</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;èµµ4 æ­£åœ¨&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">Badthing</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">StuWang5</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Badthing</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">StuWang5</span><span class="p">)</span> <span class="nf">OnTeacherComming</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;ç‹5 åœæ­¢ &#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">Badthing</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">StuWang5</span><span class="p">)</span> <span class="nf">DoBadthing</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;ç‹5 æ­£åœ¨&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">Badthing</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å…·ä½“çš„è¢«è§‚å¯Ÿè€…ç­é•¿
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">ClassMonitor</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ObserverList</span> <span class="p">[]</span><span class="nx">Observer</span> <span class="c1">//éœ€è¦é€šçŸ¥çš„å…¨éƒ¨è§‚å¯Ÿè€…é›†åˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">ClassMonitor</span><span class="p">)</span> <span class="nf">AddObserver</span><span class="p">(</span><span class="nx">observer</span> <span class="nx">Observer</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span><span class="p">.</span><span class="nx">ObserverList</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">ObserverList</span><span class="p">,</span> <span class="nx">observer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">ClassMonitor</span><span class="p">)</span> <span class="nf">RemoveObserver</span><span class="p">(</span><span class="nx">observer</span> <span class="nx">Observer</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">l</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">m</span><span class="p">.</span><span class="nx">ObserverList</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//æ‰¾åˆ°è¦åˆ é™¤çš„å…ƒç´ ä½ç½®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">if</span> <span class="nx">observer</span> <span class="o">==</span> <span class="nx">l</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//å°†åˆ é™¤çš„ç‚¹å‰åçš„å…ƒç´ é“¾æ¥èµ·æ¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">m</span><span class="p">.</span><span class="nx">ObserverList</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">ObserverList</span><span class="p">[:</span><span class="nx">index</span><span class="p">],</span> <span class="nx">m</span><span class="p">.</span><span class="nx">ObserverList</span><span class="p">[</span><span class="nx">index</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="k">break</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">ClassMonitor</span><span class="p">)</span> <span class="nf">Notify</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">observer</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">m</span><span class="p">.</span><span class="nx">ObserverList</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//ä¾æ¬¡è°ƒç”¨å…¨éƒ¨è§‚å¯Ÿçš„å…·ä½“åŠ¨ä½œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">observer</span><span class="p">.</span><span class="nf">OnTeacherComming</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">StuZhang3</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Badthing</span><span class="p">:</span> <span class="s">&#34;æŠ„ä½œä¸š&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s2</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">StuZhao4</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Badthing</span><span class="p">:</span> <span class="s">&#34;ç©ç‹è€…è£è€€&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s3</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">StuWang5</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Badthing</span><span class="p">:</span> <span class="s">&#34;çœ‹èµµå››ç©ç‹è€…è£è€€&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">classMonitor</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">ClassMonitor</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;ä¸Šè¯¾äº†ï¼Œä½†æ˜¯è€å¸ˆæ²¡æœ‰æ¥ï¼Œå­¦ç”Ÿä»¬éƒ½åœ¨å¿™è‡ªå·±çš„äº‹...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span><span class="p">.</span><span class="nf">DoBadthing</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s2</span><span class="p">.</span><span class="nf">DoBadthing</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s3</span><span class="p">.</span><span class="nf">DoBadthing</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">classMonitor</span><span class="p">.</span><span class="nf">AddObserver</span><span class="p">(</span><span class="nx">s1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">classMonitor</span><span class="p">.</span><span class="nf">AddObserver</span><span class="p">(</span><span class="nx">s2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">classMonitor</span><span class="p">.</span><span class="nf">AddObserver</span><span class="p">(</span><span class="nx">s3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;è¿™æ—¶å€™è€å¸ˆæ¥äº†ï¼Œç­é•¿ç»™å­¦ä»€ä¹ˆä½¿äº†ä¸€ä¸ªçœ¼ç¥...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">classMonitor</span><span class="p">.</span><span class="nf">Notify</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç­–ç•¥æ¨¡å¼" class="headerLink">
    <a href="#%e7%ad%96%e7%95%a5%e6%a8%a1%e5%bc%8f" class="header-mark"></a>ç­–ç•¥æ¨¡å¼</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/ff2c7e6ad034452e883aea57026237f1.png" title="å‡ºè¡Œç­–ç•¥" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/ff2c7e6ad034452e883aea57026237f1.png" data-sub-html="<h2>å‡ºè¡Œç­–ç•¥</h2><p>å‡ºè¡Œç­–ç•¥</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/ff2c7e6ad034452e883aea57026237f1.png"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/ff2c7e6ad034452e883aea57026237f1.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/ff2c7e6ad034452e883aea57026237f1.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/ff2c7e6ad034452e883aea57026237f1.png 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/ff2c7e6ad034452e883aea57026237f1.png">
    </a><figcaption class="image-caption">å‡ºè¡Œç­–ç•¥</figcaption>
    </figure></p>
<p><strong><ruby>ç­–ç•¥æ¨¡å¼<rt>Strategy Pattern</rt></ruby></strong>ï¼šå®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œå°†æ¯ä¸€ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œå¹¶è®©å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ç­–ç•¥æ¨¡å¼è®©ç®—æ³•ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„å®¢æˆ·è€Œå˜åŒ–ï¼Œä¹Ÿç§°ä¸ºæ”¿ç­–æ¨¡å¼(Policy)ã€‚</p>
<blockquote>
<p>å•†åœºä¿ƒé”€æœ‰ç­–ç•¥ Aï¼ˆ0.8æŠ˜ï¼‰ç­–ç•¥ Bï¼ˆæ¶ˆè´¹æ»¡200ï¼Œè¿”ç°100ï¼‰ï¼Œç”¨ç­–ç•¥æ¨¡å¼æ¨¡æ‹Ÿåœºæ™¯</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//é”€å”®ç­–ç•¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">SellStrategy</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//æ ¹æ®åŸä»·å¾—åˆ°å”®å–ä»·
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">GetPrice</span><span class="p">(</span><span class="nx">price</span> <span class="kt">float64</span><span class="p">)</span> <span class="kt">float64</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">StrategyA</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">sa</span> <span class="o">*</span><span class="nx">StrategyA</span><span class="p">)</span> <span class="nf">GetPrice</span><span class="p">(</span><span class="nx">price</span> <span class="kt">float64</span><span class="p">)</span> <span class="kt">float64</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ‰§è¡Œç­–ç•¥A, æ‰€æœ‰å•†å“æ‰“å…«æŠ˜&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">price</span> <span class="o">*</span> <span class="mf">0.8</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">StrategyB</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">sb</span> <span class="o">*</span><span class="nx">StrategyB</span><span class="p">)</span> <span class="nf">GetPrice</span><span class="p">(</span><span class="nx">price</span> <span class="kt">float64</span><span class="p">)</span> <span class="kt">float64</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ‰§è¡Œç­–ç•¥B, æ‰€æœ‰å•†å“æ»¡200 å‡100&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">price</span> <span class="o">&gt;=</span> <span class="mi">200</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">price</span> <span class="o">-=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">price</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ç¯å¢ƒç±»
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Goods</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Price</span>    <span class="kt">float64</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Strategy</span> <span class="nx">SellStrategy</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">g</span> <span class="o">*</span><span class="nx">Goods</span><span class="p">)</span> <span class="nf">SetStrategy</span><span class="p">(</span><span class="nx">s</span> <span class="nx">SellStrategy</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">g</span><span class="p">.</span><span class="nx">Strategy</span> <span class="p">=</span> <span class="nx">s</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">g</span> <span class="o">*</span><span class="nx">Goods</span><span class="p">)</span> <span class="nf">SellPrice</span><span class="p">()</span> <span class="kt">float64</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;åŸä»·å€¼ &#34;</span><span class="p">,</span> <span class="nx">g</span><span class="p">.</span><span class="nx">Price</span><span class="p">,</span> <span class="s">&#34; .&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">g</span><span class="p">.</span><span class="nx">Strategy</span><span class="p">.</span><span class="nf">GetPrice</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">Price</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">nike</span> <span class="o">:=</span> <span class="nx">Goods</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Price</span><span class="p">:</span> <span class="mf">200.0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ä¸Šåˆ ï¼Œå•†åœºæ‰§è¡Œç­–ç•¥A
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">nike</span><span class="p">.</span><span class="nf">SetStrategy</span><span class="p">(</span><span class="nb">new</span><span class="p">(</span><span class="nx">StrategyA</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;ä¸Šåˆnikeé‹å–&#34;</span><span class="p">,</span> <span class="nx">nike</span><span class="p">.</span><span class="nf">SellPrice</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//ä¸‹åˆï¼Œ å•†åœºæ‰§è¡Œç­–ç•¥B
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">nike</span><span class="p">.</span><span class="nf">SetStrategy</span><span class="p">(</span><span class="nb">new</span><span class="p">(</span><span class="nx">StrategyB</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;ä¸‹åˆnikeé‹å–&#34;</span><span class="p">,</span> <span class="nx">nike</span><span class="p">.</span><span class="nf">SellPrice</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ¨¡æ¿æ–¹å¼æ¨¡å¼" class="headerLink">
    <a href="#%e6%a8%a1%e6%9d%bf%e6%96%b9%e5%bc%8f%e6%a8%a1%e5%bc%8f" class="header-mark"></a>æ¨¡æ¿æ–¹å¼æ¨¡å¼</h3><p><figure><a class="lightgallery" href="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/6b1e4e2ab0a34a4ba196f4d74f47bbc6.png" title="æ¨¡æ¿æ–¹æ³•æ¨¡å¼" data-thumbnail="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/6b1e4e2ab0a34a4ba196f4d74f47bbc6.png" data-sub-html="<h2>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</h2><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</p>">
        <img
            class="lazyload"
            data-src="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/6b1e4e2ab0a34a4ba196f4d74f47bbc6.png"
            data-srcset="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/6b1e4e2ab0a34a4ba196f4d74f47bbc6.png, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/6b1e4e2ab0a34a4ba196f4d74f47bbc6.png 1.5x, https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/6b1e4e2ab0a34a4ba196f4d74f47bbc6.png 2x"
            data-sizes="auto"
            alt="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221117/6b1e4e2ab0a34a4ba196f4d74f47bbc6.png">
    </a><figcaption class="image-caption">æ¨¡æ¿æ–¹æ³•æ¨¡å¼</figcaption>
    </figure></p>
<p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç”±æŠ½è±¡çˆ¶ç±»å’Œå…·ä½“çš„å®ç°å­ç±»æ„æˆã€‚é€šå¸¸åœ¨æŠ½è±¡çˆ¶ç±»ä¸­å°è£…äº†å­ç±»çš„ç®—æ³•æ¡†æ¶ï¼Œä¹ŸåŒ…æ‹¬å®ç°ä¸€äº›å…¬å…±æ–¹æ³•ä»¥åŠå°è£…å­ç±»ä¸­æ‰€æœ‰æ–¹æ³•çš„æ‰§è¡Œé¡ºåºã€‚å­ç±»é€šè¿‡ç»§æ‰¿è¿™ä¸ªæŠ½è±¡ç±»ï¼Œä¹Ÿç»§æ‰¿äº†æ•´ä¸ªç®—æ³•ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚</p>
<p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼å»ºè®®å°†ç®—æ³•åˆ†è§£ä¸ºä¸€ç³»åˆ—æ­¥éª¤ï¼Œç„¶åå°†è¿™äº›æ­¥éª¤æ”¹å†™ä¸ºæ–¹æ³•ï¼Œæœ€ååœ¨â€œæ¨¡æ¿æ–¹æ³•â€ä¸­ä¾æ¬¡è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚æ­¥éª¤å¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œä¹Ÿå¯ä»¥æœ‰ä¸€äº›é»˜è®¤çš„å®ç°ã€‚ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ç®—æ³•ï¼Œ å®¢æˆ·ç«¯éœ€è¦è‡ªè¡Œæä¾›å­ç±»å¹¶å®ç°æ‰€æœ‰çš„æŠ½è±¡æ­¥éª¤ã€‚å¦‚æœæœ‰å¿…è¦è¿˜éœ€é‡å†™ä¸€äº›æ­¥éª¤ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æŠ½è±¡ç±»ï¼Œåˆ¶ä½œé¥®æ–™,åŒ…è£¹ä¸€ä¸ªæ¨¡æ¿çš„å…¨éƒ¨å®ç°æ­¥éª¤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Beverage</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">BoilWater</span><span class="p">()</span> <span class="c1">//ç…®å¼€æ°´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">Brew</span><span class="p">()</span>      <span class="c1">//å†²æ³¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">PourInCup</span><span class="p">()</span> <span class="c1">//å€’å…¥æ¯ä¸­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">AddThings</span><span class="p">()</span> <span class="c1">//æ·»åŠ é…Œæ–™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nf">WantAddThings</span><span class="p">()</span> <span class="kt">bool</span> <span class="c1">//æ˜¯å¦åŠ å…¥é…Œæ–™Hook
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å°è£…ä¸€å¥—æµç¨‹æ¨¡æ¿ï¼Œè®©å…·ä½“çš„åˆ¶ä½œæµç¨‹ç»§æ‰¿ä¸”å®ç°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">template</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">b</span> <span class="nx">Beverage</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å°è£…çš„å›ºå®šæ¨¡æ¿
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">template</span><span class="p">)</span> <span class="nf">MakeBeverage</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">t</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">t</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nf">BoilWater</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">t</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nf">Brew</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">t</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nf">PourInCup</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//å­ç±»å¯ä»¥é‡å†™è¯¥æ–¹æ³•æ¥å†³å®šæ˜¯å¦æ‰§è¡Œä¸‹é¢åŠ¨ä½œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">t</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nf">WantAddThings</span><span class="p">()</span> <span class="o">==</span> <span class="kc">true</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">t</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nf">AddThings</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å…·ä½“çš„æ¨¡æ¿å­ç±» åˆ¶ä½œå’–å•¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">MakeCaffee</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">template</span> <span class="c1">//ç»§æ‰¿æ¨¡æ¿
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewMakeCaffee</span><span class="p">()</span> <span class="o">*</span><span class="nx">MakeCaffee</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">makeCaffe</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">MakeCaffee</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//b ä¸ºBeverageï¼Œæ˜¯MakeCaffeeçš„æ¥å£ï¼Œè¿™é‡Œéœ€è¦ç»™æ¥å£èµ‹å€¼ï¼ŒæŒ‡å‘å…·ä½“çš„å­ç±»å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//æ¥è§¦å‘bå…¨éƒ¨æ¥å£æ–¹æ³•çš„å¤šæ€ç‰¹æ€§ã€‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">makeCaffe</span><span class="p">.</span><span class="nx">b</span> <span class="p">=</span> <span class="nx">makeCaffe</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">makeCaffe</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">mc</span> <span class="o">*</span><span class="nx">MakeCaffee</span><span class="p">)</span> <span class="nf">BoilWater</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å°†æ°´ç…®åˆ°100æ‘„æ°åº¦&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">mc</span> <span class="o">*</span><span class="nx">MakeCaffee</span><span class="p">)</span> <span class="nf">Brew</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;ç”¨æ°´å†²å’–å•¡è±†&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">mc</span> <span class="o">*</span><span class="nx">MakeCaffee</span><span class="p">)</span> <span class="nf">PourInCup</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å°†å……å¥½çš„å’–å•¡å€’å…¥é™¶ç“·æ¯ä¸­&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">mc</span> <span class="o">*</span><span class="nx">MakeCaffee</span><span class="p">)</span> <span class="nf">AddThings</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ·»åŠ ç‰›å¥¶å’Œç³–&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">mc</span> <span class="o">*</span><span class="nx">MakeCaffee</span><span class="p">)</span> <span class="nf">WantAddThings</span><span class="p">()</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">true</span> <span class="c1">//å¯åŠ¨Hookæ¡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//å…·ä½“çš„æ¨¡æ¿å­ç±» åˆ¶ä½œèŒ¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">MakeTea</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">template</span> <span class="c1">//ç»§æ‰¿æ¨¡æ¿
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewMakeTea</span><span class="p">()</span> <span class="o">*</span><span class="nx">MakeTea</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">makeTea</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">MakeTea</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//b ä¸ºBeverageï¼Œæ˜¯MakeTeaï¼Œè¿™é‡Œéœ€è¦ç»™æ¥å£èµ‹å€¼ï¼ŒæŒ‡å‘å…·ä½“çš„å­ç±»å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//æ¥è§¦å‘bå…¨éƒ¨æ¥å£æ–¹æ³•çš„å¤šæ€ç‰¹æ€§ã€‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">makeTea</span><span class="p">.</span><span class="nx">b</span> <span class="p">=</span> <span class="nx">makeTea</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">makeTea</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">mt</span> <span class="o">*</span><span class="nx">MakeTea</span><span class="p">)</span> <span class="nf">BoilWater</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å°†æ°´ç…®åˆ°80æ‘„æ°åº¦&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">mt</span> <span class="o">*</span><span class="nx">MakeTea</span><span class="p">)</span> <span class="nf">Brew</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;ç”¨æ°´å†²èŒ¶å¶&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">mt</span> <span class="o">*</span><span class="nx">MakeTea</span><span class="p">)</span> <span class="nf">PourInCup</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;å°†å……å¥½çš„å’–å•¡å€’å…¥èŒ¶å£¶ä¸­&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">mt</span> <span class="o">*</span><span class="nx">MakeTea</span><span class="p">)</span> <span class="nf">AddThings</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ·»åŠ æŸ æª¬&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">mt</span> <span class="o">*</span><span class="nx">MakeTea</span><span class="p">)</span> <span class="nf">WantAddThings</span><span class="p">()</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">false</span> <span class="c1">//å…³é—­Hookæ¡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//1. åˆ¶ä½œä¸€æ¯å’–å•¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">makeCoffee</span> <span class="o">:=</span> <span class="nf">NewMakeCaffee</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">makeCoffee</span><span class="p">.</span><span class="nf">MakeBeverage</span><span class="p">()</span> <span class="c1">//è°ƒç”¨å›ºå®šæ¨¡æ¿æ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;------------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//2. åˆ¶ä½œèŒ¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">makeTea</span> <span class="o">:=</span> <span class="nf">NewMakeTea</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">makeTea</span><span class="p">.</span><span class="nf">MakeBeverage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="faq" class="headerLink">
    <a href="#faq" class="header-mark"></a>FAQ</h2><ul>
<li><strong>è£…é¥°æ¨¡å¼å’Œä»£ç†æ¨¡å¼æœ‰ä½•ä¸åŒâ“</strong></li>
</ul>
<p>ä»£ç†æ¨¡å¼æ³¨é‡å¯¹å¯¹è±¡æŸä¸€åŠŸèƒ½çš„æµç¨‹æŠŠæ§å’Œè¾…åŠ©ã€‚å®ƒå¯ä»¥<strong>æ§åˆ¶å¯¹è±¡åšæŸäº›äº‹</strong>ï¼Œé‡å¿ƒæ˜¯ä¸ºäº†å€Ÿç”¨å¯¹è±¡çš„åŠŸèƒ½å®ŒæˆæŸä¸€æµç¨‹ï¼Œè€Œéå¯¹è±¡åŠŸèƒ½å¦‚ä½•ã€‚</p>
<p>è£…é¥°æ¨¡å¼æ³¨é‡å¯¹<strong>å¯¹è±¡åŠŸèƒ½çš„æ‰©å±•</strong>ï¼Œå®ƒä¸å…³å¿ƒå¤–ç•Œå¦‚ä½•è°ƒç”¨ï¼Œåªæ³¨é‡å¯¹å¯¹è±¡åŠŸèƒ½çš„åŠ å¼ºï¼Œè£…é¥°åè¿˜æ˜¯å¯¹è±¡æœ¬èº«ã€‚</p>
<h2 id="å‚è€ƒ" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83" class="header-mark"></a>å‚è€ƒ</h2><ul>
<li><a href="https://www.yuque.com/aceld/lfhu8y" target="_blank" rel="noopener noreferrer">Easy æå®š Golangè®¾è®¡æ¨¡å¼</a></li>
<li><a href="http://www.zjwave.com/article/49.html" target="_blank" rel="noopener noreferrer">è®¾è®¡æ¨¡å¼-é€‚é…å™¨æ¨¡å¼ä¸å¤–è§‚æ¨¡å¼</a></li>
<li><a href="https://refactoringguru.cn/design-patterns" target="_blank" rel="noopener noreferrer">è®¾è®¡æ¨¡å¼-refactoringguru.cn/design-patterns</a></li>
<li><a href="https://segmentfault.com/a/1190000030850326" target="_blank" rel="noopener noreferrer">å›¾è§£ä¹ç§å¸¸è§çš„è®¾è®¡æ¨¡å¼</a></li>
<li><a href="https://design-patterns.readthedocs.io/zh_CN/latest/index.html" target="_blank" rel="noopener noreferrer">å›¾è¯´è®¾è®¡æ¨¡å¼</a></li>
<li><a href="https://www.bilibili.com/video/BV1Eg411m7rV" target="_blank" rel="noopener noreferrer">Easyæå®šGolangè®¾è®¡æ¨¡å¼</a></li>
</ul>
</div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2022-11-17&nbsp;<a class="git-hash" href="https://github.com/xiaobinqt/xiaobinqt.github.io/commit/66c8ed018f29f15065eaccd3ab46e6d5cf1393c1" target="_blank" title="commit by weibin(xiaobinqt@163.com) 66c8ed018f29f15065eaccd3ab46e6d5cf1393c1: add design-patterns.md" rel="noopener noreferrer">
                                    <i class="fas fa-hashtag fa-fw"></i>66c8ed01</a></span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span><a class="link-to-mardown" href=/design-patterns/index.md target="_blank" rel="noopener noreferrer">é˜…è¯»åŸå§‹æ–‡æ¡£</a>
                    </span></div>
            <div class="post-info-share">
                <span><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://www.xiaobinqt.cn/design-patterns/" data-title="å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç°" data-hashtags="golang,è®¾è®¡æ¨¡å¼"><i class="fab fa-twitter fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Facebook" data-sharer="facebook" data-url="https://www.xiaobinqt.cn/design-patterns/" data-hashtag="golang"><i class="fab fa-facebook-square fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Hacker News" data-sharer="hackernews" data-url="https://www.xiaobinqt.cn/design-patterns/" data-title="å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç°"><i class="fab fa-hacker-news fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="https://www.xiaobinqt.cn/design-patterns/" data-title="å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç°"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://www.xiaobinqt.cn/design-patterns/" data-title="å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç°" data-image="https://cdn.xiaobinqt.cn/xiaobinqt.io/20221115/7f6d12f27a2e456db7779a98e9fc86f7.png"><i class="fab fa-weibo fa-fw"></i></a><a href="#" onclick="return false;" title="åˆ†äº«åˆ° ç™¾åº¦" data-sharer="baidu" data-url="https://www.xiaobinqt.cn/design-patterns/" data-title="å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç°"><i data-svg-src="/lib/simple-icons/icons/baidu.min.svg"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/golang/">golang</a>,&nbsp;<a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/docker-install-mysql8.0/" class="prev" rel="prev" title="Docker å®‰è£… mysql8.0"><i class="fas fa-angle-left fa-fw"></i>Docker å®‰è£… mysql8.0</a>
            <a href="/js-call-c/" class="next" rel="next" title="nodeJS è°ƒç”¨ C è¯­è¨€">nodeJS è°ƒç”¨ C è¯­è¨€<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="gitalk" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://github.com/gitalk/gitalk"></a>Gitalk</a>.
            </noscript></div></article></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2018 - 2022</span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/algoliasearch/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/topbar/topbar.min.js"></script><script type="text/javascript" src="/lib/pjax/pjax.min.js"></script><script type="text/javascript" src="/js/theme.min.js" defer></script></div>

<div class="pjax-assets"><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":30},"comment":{"gitalk":{"admin":["xiaobinqt"],"clientID":"47b15de6c2d8a0f8d707","clientSecret":"c70556c8b3a3b38ea7c72e539ff3b37d5bc1b4f3","id":"c1a1a73702cb5b05c8a08334cf39ec54","owner":"xiaobinqt","repo":"xiaobinqt.github.io","title":"å¸¸è§è®¾è®¡æ¨¡å¼-Goå®ç°"}},"data":{"id-1":"graph LR;\n    ä¸šåŠ¡é€»è¾‘å±‚ ---\u003e å·¥å‚æ¨¡å— ---\u003e åŸºç¡€ç±»æ¨¡å—"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"mermaid":true,"search":{"algoliaAppID":"CPNWIDNX0Y","algoliaIndex":"xiaobinqt.io","algoliaSearchKey":"80b84de0ebc766371dd27cd3e651c41e","highlightTag":"em","maxResultLength":20,"noResultsFound":"æ²¡æœ‰æ‰¾åˆ°ç»“æœ","snippetLength":50,"type":"algolia"},"sharerjs":true};</script><script type="text/javascript" src="/lib/gitalk/gitalk.min.js"></script><script type="text/javascript" src="/js/gitalk.min.js" defer></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/mermaid/mermaid.min.js" defer></script><script type="text/javascript" src="/js/mermaid.min.js" defer></script><link rel="stylesheet" href="/lib/gitalk/gitalk.min.css"><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><link rel="stylesheet" href="/lib/mermaid/mermaid.min.css"></div>
</body>

</html>