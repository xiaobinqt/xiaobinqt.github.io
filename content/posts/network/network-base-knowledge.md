---
title: "网络基础知识"
subtitle: ""

init_date: "2024-08-18T18:03:49+08:00"

date: 2024-08-18

lastmod: 2024-08-18

draft: false

author: "xiaobinqt"
description: "xiaobinqt,"

featuredImage: ""

featuredImagePreview: ""

reproduce: false

translate: false

tags: [ "network" ]
categories: [ "开发者手册","todo" ]
lightgallery: true

series: [ ]

series_weight:

toc: true

math: true
---

<!-- author： xiaobinqt -->
<!-- email： xiaobinqt@163.com -->
<!-- https://xiaobinqt.github.io -->
<!-- https://www.xiaobinqt.cn -->

**TODO**

## http2 和 http3 的区别

**TCP 是面向可靠的、有序的传输协议**，因此会有失败重传和按序机制，而 HTTP/2 是所有流共享一个 TCP 连接，所以会有 **TCP 层面的队头阻塞**，当发生重传时会影响多个请求响应。

HTTP/3.0 通过采用 QUIC 协议解决了 HTTP/2.0 中存在的一些固有问题，如“队头阻塞”和连接建立延迟。QUIC 协议提供了更快的连接建立、更好的多路复用能力以及
更高的安全性。尽管 HTTP/3.0 在实现上更加复杂，但它在高延迟和不可靠网络环境下表现更为优越。

HTTP/2 和 HTTP/3 是两种不同版本的超文本传输协议（HTTP），它们在性能、传输方式和底层技术上有显著的区别。以下是它们的主要区别：

### 传输层协议

- **HTTP/2**: 基于 **TCP**（传输控制协议）。TCP 是一种面向连接的协议，提供可靠的数据传输。HTTP/2 在 TCP 之上引入了多路复用、头部压缩等特性，以提高性能。
- **HTTP/3**: 基于 **QUIC** 协议，QUIC 是一种新的传输层协议，最初由 Google 开发，后来被 IETF 标准化。QUIC 基于 **UDP**（用户数据报协议），并在其上实现了类似 TCP 的可靠性特性，同时改进了传输效率。

### 连接建立时间

- **HTTP/2**: 因为基于 TCP，所以需要进行三次握手来建立连接。这增加了延迟，尤其是在高延迟网络中。此外，若使用 TLS 加密（HTTPS），还需要额外的握手时间。
- **HTTP/3**: QUIC 结合了 TCP 的三次握手和 TLS 握手过程，减少了连接建立时间，尤其是在首次连接和重连时，能显著降低延迟。

### 多路复用

- **HTTP/2**: 引入了多路复用技术，允许在同一 TCP 连接上并行传输多个请求和响应。然而，HTTP/2 的多路复用在高丢包率的网络中可能会导致 **队头阻塞**（Head-of-Line Blocking）问题，即一个数据包的丢失会导致整个连接的传输效率下降。
- **HTTP/3**: 通过 QUIC 协议彻底解决了队头阻塞问题，因为每个数据流在 QUIC 中是独立的，不会因单个数据包的丢失影响其他数据流的传输。

### 错误恢复和拥塞控制

- **HTTP/2**: 依赖于 TCP 的错误恢复和拥塞控制机制。TCP 的可靠性使得每个丢失的包都必须重新传输，这可能导致延迟增加。
- **HTTP/3**: QUIC 引入了更高级的错误恢复机制，可以在单个连接中进行更快、更灵活的恢复，从而提高了传输效率和可靠性。

### 加密

- **HTTP/2**: 加密并不是强制的，但在实际应用中，几乎所有的 HTTP/2 通信都使用了 TLS 加密（即 HTTPS）。
- **HTTP/3**: 所有 HTTP/3 通信都是加密的，因为 QUIC 协议本身就包含了强制的加密机制。

### 部署情况

- **HTTP/2**: 得到了广泛的部署和支持，几乎所有现代浏览器和 Web 服务器都支持 HTTP/2。
- **HTTP/3**: 虽然还在逐步推广中，但支持 HTTP/3 的浏览器和服务器数量正在迅速增加。由于其性能优势，越来越多的互联网巨头开始采用 HTTP/3。

### 总结

- **HTTP/2** 提供了相对于 HTTP/1.x 的显著性能提升，特别是在多路复用和头部压缩方面，但仍然受到 TCP 的一些固有限制，如队头阻塞问题。
- **HTTP/3** 通过基于 QUIC 协议的传输层，进一步优化了传输性能，减少了连接建立时间，并彻底解决了队头阻塞问题，是对 HTTP/2 的进一步改进。

HTTP/3 代表了未来 Web 传输协议的发展方向，但在实际应用中，HTTP/2 仍然是当前的主流协议。




